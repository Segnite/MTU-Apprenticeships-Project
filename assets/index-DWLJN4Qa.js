(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function Ff(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var sd={exports:{}},dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb;function s1(){if(Sb)return dl;Sb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(o,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var s in l)s!=="key"&&(u[s]=l[s])}else u=l;return l=u.ref,{$$typeof:r,type:o,key:c,ref:l!==void 0?l:null,props:u}}return dl.Fragment=e,dl.jsx=n,dl.jsxs=n,dl}var Eb;function a1(){return Eb||(Eb=1,sd.exports=s1()),sd.exports}var Re=a1(),ad={exports:{}},wn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ob;function u1(){if(Ob)return wn;Ob=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),j=Symbol.iterator;function b(F){return F===null||typeof F!="object"?null:(F=j&&F[j]||F["@@iterator"],typeof F=="function"?F:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d=Object.assign,_={};function $(F,V,H){this.props=F,this.context=V,this.refs=_,this.updater=H||R}$.prototype.isReactComponent={},$.prototype.setState=function(F,V){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,V,"setState")},$.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function g(){}g.prototype=$.prototype;function S(F,V,H){this.props=F,this.context=V,this.refs=_,this.updater=H||R}var x=S.prototype=new g;x.constructor=S,d(x,$.prototype),x.isPureReactComponent=!0;var A=Array.isArray,T={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function w(F,V,H,W,z,M){return H=M.ref,{$$typeof:r,type:F,key:V,ref:H!==void 0?H:null,props:M}}function v(F,V){return w(F.type,V,void 0,void 0,void 0,F.props)}function E(F){return typeof F=="object"&&F!==null&&F.$$typeof===r}function N(F){var V={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(H){return V[H]})}var P=/\/+/g;function I(F,V){return typeof F=="object"&&F!==null&&F.key!=null?N(""+F.key):V.toString(36)}function B(){}function ee(F){switch(F.status){case"fulfilled":return F.value;case"rejected":throw F.reason;default:switch(typeof F.status=="string"?F.then(B,B):(F.status="pending",F.then(function(V){F.status==="pending"&&(F.status="fulfilled",F.value=V)},function(V){F.status==="pending"&&(F.status="rejected",F.reason=V)})),F.status){case"fulfilled":return F.value;case"rejected":throw F.reason}}throw F}function Z(F,V,H,W,z){var M=typeof F;(M==="undefined"||M==="boolean")&&(F=null);var q=!1;if(F===null)q=!0;else switch(M){case"bigint":case"string":case"number":q=!0;break;case"object":switch(F.$$typeof){case r:case e:q=!0;break;case m:return q=F._init,Z(q(F._payload),V,H,W,z)}}if(q)return z=z(F),q=W===""?"."+I(F,0):W,A(z)?(H="",q!=null&&(H=q.replace(P,"$&/")+"/"),Z(z,V,H,"",function(ve){return ve})):z!=null&&(E(z)&&(z=v(z,H+(z.key==null||F&&F.key===z.key?"":(""+z.key).replace(P,"$&/")+"/")+q)),V.push(z)),1;q=0;var ne=W===""?".":W+":";if(A(F))for(var fe=0;fe<F.length;fe++)W=F[fe],M=ne+I(W,fe),q+=Z(W,V,H,M,z);else if(fe=b(F),typeof fe=="function")for(F=fe.call(F),fe=0;!(W=F.next()).done;)W=W.value,M=ne+I(W,fe++),q+=Z(W,V,H,M,z);else if(M==="object"){if(typeof F.then=="function")return Z(ee(F),V,H,W,z);throw V=String(F),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return q}function te(F,V,H){if(F==null)return F;var W=[],z=0;return Z(F,W,"","",function(M){return V.call(H,M,z++)}),W}function re(F){if(F._status===-1){var V=F._result;V=V(),V.then(function(H){(F._status===0||F._status===-1)&&(F._status=1,F._result=H)},function(H){(F._status===0||F._status===-1)&&(F._status=2,F._result=H)}),F._status===-1&&(F._status=0,F._result=V)}if(F._status===1)return F._result.default;throw F._result}var ce=typeof reportError=="function"?reportError:function(F){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof F=="object"&&F!==null&&typeof F.message=="string"?String(F.message):String(F),error:F});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",F);return}console.error(F)};function ge(){}return wn.Children={map:te,forEach:function(F,V,H){te(F,function(){V.apply(this,arguments)},H)},count:function(F){var V=0;return te(F,function(){V++}),V},toArray:function(F){return te(F,function(V){return V})||[]},only:function(F){if(!E(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},wn.Component=$,wn.Fragment=n,wn.Profiler=l,wn.PureComponent=S,wn.StrictMode=o,wn.Suspense=f,wn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,wn.act=function(){throw Error("act(...) is not supported in production builds of React.")},wn.cache=function(F){return function(){return F.apply(null,arguments)}},wn.cloneElement=function(F,V,H){if(F==null)throw Error("The argument must be a React element, but you passed "+F+".");var W=d({},F.props),z=F.key,M=void 0;if(V!=null)for(q in V.ref!==void 0&&(M=void 0),V.key!==void 0&&(z=""+V.key),V)!C.call(V,q)||q==="key"||q==="__self"||q==="__source"||q==="ref"&&V.ref===void 0||(W[q]=V[q]);var q=arguments.length-2;if(q===1)W.children=H;else if(1<q){for(var ne=Array(q),fe=0;fe<q;fe++)ne[fe]=arguments[fe+2];W.children=ne}return w(F.type,z,void 0,void 0,M,W)},wn.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null},F.Provider=F,F.Consumer={$$typeof:u,_context:F},F},wn.createElement=function(F,V,H){var W,z={},M=null;if(V!=null)for(W in V.key!==void 0&&(M=""+V.key),V)C.call(V,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(z[W]=V[W]);var q=arguments.length-2;if(q===1)z.children=H;else if(1<q){for(var ne=Array(q),fe=0;fe<q;fe++)ne[fe]=arguments[fe+2];z.children=ne}if(F&&F.defaultProps)for(W in q=F.defaultProps,q)z[W]===void 0&&(z[W]=q[W]);return w(F,M,void 0,void 0,null,z)},wn.createRef=function(){return{current:null}},wn.forwardRef=function(F){return{$$typeof:s,render:F}},wn.isValidElement=E,wn.lazy=function(F){return{$$typeof:m,_payload:{_status:-1,_result:F},_init:re}},wn.memo=function(F,V){return{$$typeof:h,type:F,compare:V===void 0?null:V}},wn.startTransition=function(F){var V=T.T,H={};T.T=H;try{var W=F(),z=T.S;z!==null&&z(H,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(ge,ce)}catch(M){ce(M)}finally{T.T=V}},wn.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},wn.use=function(F){return T.H.use(F)},wn.useActionState=function(F,V,H){return T.H.useActionState(F,V,H)},wn.useCallback=function(F,V){return T.H.useCallback(F,V)},wn.useContext=function(F){return T.H.useContext(F)},wn.useDebugValue=function(){},wn.useDeferredValue=function(F,V){return T.H.useDeferredValue(F,V)},wn.useEffect=function(F,V){return T.H.useEffect(F,V)},wn.useId=function(){return T.H.useId()},wn.useImperativeHandle=function(F,V,H){return T.H.useImperativeHandle(F,V,H)},wn.useInsertionEffect=function(F,V){return T.H.useInsertionEffect(F,V)},wn.useLayoutEffect=function(F,V){return T.H.useLayoutEffect(F,V)},wn.useMemo=function(F,V){return T.H.useMemo(F,V)},wn.useOptimistic=function(F,V){return T.H.useOptimistic(F,V)},wn.useReducer=function(F,V,H){return T.H.useReducer(F,V,H)},wn.useRef=function(F){return T.H.useRef(F)},wn.useState=function(F){return T.H.useState(F)},wn.useSyncExternalStore=function(F,V,H){return T.H.useSyncExternalStore(F,V,H)},wn.useTransition=function(){return T.H.useTransition()},wn.version="19.0.0",wn}var Ab;function hy(){return Ab||(Ab=1,ad.exports=u1()),ad.exports}var Te=hy();const kr=Ff(Te);var ud={exports:{}},yl={},ld={exports:{}},cd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb;function l1(){return Tb||(Tb=1,function(r){function e(te,re){var ce=te.length;te.push(re);e:for(;0<ce;){var ge=ce-1>>>1,F=te[ge];if(0<l(F,re))te[ge]=re,te[ce]=F,ce=ge;else break e}}function n(te){return te.length===0?null:te[0]}function o(te){if(te.length===0)return null;var re=te[0],ce=te.pop();if(ce!==re){te[0]=ce;e:for(var ge=0,F=te.length,V=F>>>1;ge<V;){var H=2*(ge+1)-1,W=te[H],z=H+1,M=te[z];if(0>l(W,ce))z<F&&0>l(M,W)?(te[ge]=M,te[z]=ce,ge=z):(te[ge]=W,te[H]=ce,ge=H);else if(z<F&&0>l(M,ce))te[ge]=M,te[z]=ce,ge=z;else break e}}return re}function l(te,re){var ce=te.sortIndex-re.sortIndex;return ce!==0?ce:te.id-re.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var c=Date,s=c.now();r.unstable_now=function(){return c.now()-s}}var f=[],h=[],m=1,j=null,b=3,R=!1,d=!1,_=!1,$=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function x(te){for(var re=n(h);re!==null;){if(re.callback===null)o(h);else if(re.startTime<=te)o(h),re.sortIndex=re.expirationTime,e(f,re);else break;re=n(h)}}function A(te){if(_=!1,x(te),!d)if(n(f)!==null)d=!0,ee();else{var re=n(h);re!==null&&Z(A,re.startTime-te)}}var T=!1,C=-1,w=5,v=-1;function E(){return!(r.unstable_now()-v<w)}function N(){if(T){var te=r.unstable_now();v=te;var re=!0;try{e:{d=!1,_&&(_=!1,g(C),C=-1),R=!0;var ce=b;try{t:{for(x(te),j=n(f);j!==null&&!(j.expirationTime>te&&E());){var ge=j.callback;if(typeof ge=="function"){j.callback=null,b=j.priorityLevel;var F=ge(j.expirationTime<=te);if(te=r.unstable_now(),typeof F=="function"){j.callback=F,x(te),re=!0;break t}j===n(f)&&o(f),x(te)}else o(f);j=n(f)}if(j!==null)re=!0;else{var V=n(h);V!==null&&Z(A,V.startTime-te),re=!1}}break e}finally{j=null,b=ce,R=!1}re=void 0}}finally{re?P():T=!1}}}var P;if(typeof S=="function")P=function(){S(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,B=I.port2;I.port1.onmessage=N,P=function(){B.postMessage(null)}}else P=function(){$(N,0)};function ee(){T||(T=!0,P())}function Z(te,re){C=$(function(){te(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(te){te.callback=null},r.unstable_continueExecution=function(){d||R||(d=!0,ee())},r.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<te?Math.floor(1e3/te):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_getFirstCallbackNode=function(){return n(f)},r.unstable_next=function(te){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var ce=b;b=re;try{return te()}finally{b=ce}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(te,re){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var ce=b;b=te;try{return re()}finally{b=ce}},r.unstable_scheduleCallback=function(te,re,ce){var ge=r.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?ge+ce:ge):ce=ge,te){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=ce+F,te={id:m++,callback:re,priorityLevel:te,startTime:ce,expirationTime:F,sortIndex:-1},ce>ge?(te.sortIndex=ce,e(h,te),n(f)===null&&te===n(h)&&(_?(g(C),C=-1):_=!0,Z(A,ce-ge))):(te.sortIndex=F,e(f,te),d||R||(d=!0,ee())),te},r.unstable_shouldYield=E,r.unstable_wrapCallback=function(te){var re=b;return function(){var ce=b;b=re;try{return te.apply(this,arguments)}finally{b=ce}}}}(cd)),cd}var jb;function c1(){return jb||(jb=1,ld.exports=l1()),ld.exports}var fd={exports:{}},Ti={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb;function f1(){if(xb)return Ti;xb=1;var r=hy();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var o={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(f,h,m){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:j==null?null:""+j,children:f,containerInfo:h,implementation:m}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function s(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Ti.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,Ti.createPortal=function(f,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return u(f,h,null,m)},Ti.flushSync=function(f){var h=c.T,m=o.p;try{if(c.T=null,o.p=2,f)return f()}finally{c.T=h,o.p=m,o.d.f()}},Ti.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,o.d.C(f,h))},Ti.prefetchDNS=function(f){typeof f=="string"&&o.d.D(f)},Ti.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var m=h.as,j=s(m,h.crossOrigin),b=typeof h.integrity=="string"?h.integrity:void 0,R=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?o.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:j,integrity:b,fetchPriority:R}):m==="script"&&o.d.X(f,{crossOrigin:j,integrity:b,fetchPriority:R,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Ti.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=s(h.as,h.crossOrigin);o.d.M(f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&o.d.M(f)},Ti.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,j=s(m,h.crossOrigin);o.d.L(f,m,{crossOrigin:j,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Ti.preloadModule=function(f,h){if(typeof f=="string")if(h){var m=s(h.as,h.crossOrigin);o.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else o.d.m(f)},Ti.requestFormReset=function(f){o.d.r(f)},Ti.unstable_batchedUpdates=function(f,h){return f(h)},Ti.useFormState=function(f,h,m){return c.H.useFormState(f,h,m)},Ti.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ti.version="19.0.0",Ti}var $b;function T0(){if($b)return fd.exports;$b=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fd.exports=f1(),fd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rb;function h1(){if(Rb)return yl;Rb=1;var r=c1(),e=hy(),n=T0();function o(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),c=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),j=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),R=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),A=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function C(t){return t===null||typeof t!="object"?null:(t=T&&t[T]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function v(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case f:return"Fragment";case s:return"Portal";case m:return"Profiler";case h:return"StrictMode";case _:return"Suspense";case $:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case R:return(t.displayName||"Context")+".Provider";case b:return(t._context.displayName||"Context")+".Consumer";case d:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case g:return i=t.displayName||null,i!==null?i:v(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return v(t(i))}catch{}}return null}var E=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,P,I;function B(t){if(P===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);P=i&&i[1]||"",I=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+t+I}var ee=!1;function Z(t,i){if(!t||ee)return"";ee=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(i){var bt=function(){throw Error()};if(Object.defineProperty(bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(bt,[])}catch(at){var Ze=at}Reflect.construct(t,[],bt)}else{try{bt.call()}catch(at){Ze=at}t.call(bt.prototype)}}else{try{throw Error()}catch(at){Ze=at}(bt=t())&&typeof bt.catch=="function"&&bt.catch(function(){})}}catch(at){if(at&&Ze&&typeof at.stack=="string")return[at.stack,Ze.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var U=p.DetermineComponentFrameRoot(),ae=U[0],be=U[1];if(ae&&be){var Ce=ae.split(`
`),ze=be.split(`
`);for(D=p=0;p<Ce.length&&!Ce[p].includes("DetermineComponentFrameRoot");)p++;for(;D<ze.length&&!ze[D].includes("DetermineComponentFrameRoot");)D++;if(p===Ce.length||D===ze.length)for(p=Ce.length-1,D=ze.length-1;1<=p&&0<=D&&Ce[p]!==ze[D];)D--;for(;1<=p&&0<=D;p--,D--)if(Ce[p]!==ze[D]){if(p!==1||D!==1)do if(p--,D--,0>D||Ce[p]!==ze[D]){var ut=`
`+Ce[p].replace(" at new "," at ");return t.displayName&&ut.includes("<anonymous>")&&(ut=ut.replace("<anonymous>",t.displayName)),ut}while(1<=p&&0<=D);break}}}finally{ee=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?B(a):""}function te(t){switch(t.tag){case 26:case 27:case 5:return B(t.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 15:return t=Z(t.type,!1),t;case 11:return t=Z(t.type.render,!1),t;case 1:return t=Z(t.type,!0),t;default:return""}}function re(t){try{var i="";do i+=te(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ce(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function ge(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function F(t){if(ce(t)!==t)throw Error(o(188))}function V(t){var i=t.alternate;if(!i){if(i=ce(t),i===null)throw Error(o(188));return i!==t?null:t}for(var a=t,p=i;;){var D=a.return;if(D===null)break;var U=D.alternate;if(U===null){if(p=D.return,p!==null){a=p;continue}break}if(D.child===U.child){for(U=D.child;U;){if(U===a)return F(D),t;if(U===p)return F(D),i;U=U.sibling}throw Error(o(188))}if(a.return!==p.return)a=D,p=U;else{for(var ae=!1,be=D.child;be;){if(be===a){ae=!0,a=D,p=U;break}if(be===p){ae=!0,p=D,a=U;break}be=be.sibling}if(!ae){for(be=U.child;be;){if(be===a){ae=!0,a=U,p=D;break}if(be===p){ae=!0,p=U,a=D;break}be=be.sibling}if(!ae)throw Error(o(189))}}if(a.alternate!==p)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?t:i}function H(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=H(t),i!==null)return i;t=t.sibling}return null}var W=Array.isArray,z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},q=[],ne=-1;function fe(t){return{current:t}}function ve(t){0>ne||(t.current=q[ne],q[ne]=null,ne--)}function we(t,i){ne++,q[ne]=t.current,t.current=i}var me=fe(null),ue=fe(null),_e=fe(null),L=fe(null);function X(t,i){switch(we(_e,i),we(ue,t),we(me,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Xv(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=Xv(t),i=Jv(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ve(me),we(me,i)}function oe(){ve(me),ve(ue),ve(_e)}function Oe(t){t.memoizedState!==null&&we(L,t);var i=me.current,a=Jv(i,t.type);i!==a&&(we(ue,t),we(me,a))}function le(t){ue.current===t&&(ve(me),ve(ue)),L.current===t&&(ve(L),ll._currentValue=M)}var pe=Object.prototype.hasOwnProperty,Ae=r.unstable_scheduleCallback,K=r.unstable_cancelCallback,ie=r.unstable_shouldYield,ye=r.unstable_requestPaint,je=r.unstable_now,de=r.unstable_getCurrentPriorityLevel,De=r.unstable_ImmediatePriority,He=r.unstable_UserBlockingPriority,Ve=r.unstable_NormalPriority,ke=r.unstable_LowPriority,Je=r.unstable_IdlePriority,Ue=r.log,tt=r.unstable_setDisableYieldValue,xt=null,Tt=null;function It(t){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(xt,t,void 0,(t.current.flags&128)===128)}catch{}}function _t(t){if(typeof Ue=="function"&&tt(t),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(xt,t)}catch{}}var gn=Math.clz32?Math.clz32:vn,Qt=Math.log,nn=Math.LN2;function vn(t){return t>>>=0,t===0?32:31-(Qt(t)/nn|0)|0}var _n=128,Jt=4194304;function nr(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Xe(t,i){var a=t.pendingLanes;if(a===0)return 0;var p=0,D=t.suspendedLanes,U=t.pingedLanes,ae=t.warmLanes;t=t.finishedLanes!==0;var be=a&134217727;return be!==0?(a=be&~D,a!==0?p=nr(a):(U&=be,U!==0?p=nr(U):t||(ae=be&~ae,ae!==0&&(p=nr(ae))))):(be=a&~D,be!==0?p=nr(be):U!==0?p=nr(U):t||(ae=a&~ae,ae!==0&&(p=nr(ae)))),p===0?0:i!==0&&i!==p&&(i&D)===0&&(D=p&-p,ae=i&-i,D>=ae||D===32&&(ae&4194176)!==0)?i:p}function rr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Hn(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Be(){var t=_n;return _n<<=1,(_n&4194176)===0&&(_n=128),t}function fr(){var t=Jt;return Jt<<=1,(Jt&62914560)===0&&(Jt=4194304),t}function Si(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Tn(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Jn(t,i,a,p,D,U){var ae=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var be=t.entanglements,Ce=t.expirationTimes,ze=t.hiddenUpdates;for(a=ae&~a;0<a;){var ut=31-gn(a),bt=1<<ut;be[ut]=0,Ce[ut]=-1;var Ze=ze[ut];if(Ze!==null)for(ze[ut]=null,ut=0;ut<Ze.length;ut++){var at=Ze[ut];at!==null&&(at.lane&=-536870913)}a&=~bt}p!==0&&br(t,p,0),U!==0&&D===0&&t.tag!==0&&(t.suspendedLanes|=U&~(ae&~i))}function br(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var p=31-gn(i);t.entangledLanes|=i,t.entanglements[p]=t.entanglements[p]|1073741824|a&4194218}function hi(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var p=31-gn(a),D=1<<p;D&i|t[p]&i&&(t[p]|=i),a&=~D}}function Xr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Bi(){var t=z.p;return t!==0?t:(t=window.event,t===void 0?32:mb(t.type))}function Y(t,i){var a=z.p;try{return z.p=t,i()}finally{z.p=a}}var he=Math.random().toString(36).slice(2),Se="__reactFiber$"+he,xe="__reactProps$"+he,Pe="__reactContainer$"+he,Ne="__reactEvents$"+he,Fe="__reactListeners$"+he,Le="__reactHandles$"+he,st="__reactResources$"+he,Ye="__reactMarker$"+he;function nt(t){delete t[Se],delete t[xe],delete t[Ne],delete t[Fe],delete t[Le]}function Ge(t){var i=t[Se];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Pe]||a[Se]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=tb(t);t!==null;){if(a=t[Se])return a;t=tb(t)}return i}t=a,a=t.parentNode}return null}function ct(t){if(t=t[Se]||t[Pe]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function pt(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(o(33))}function vt(t){var i=t[st];return i||(i=t[st]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function mt(t){t[Ye]=!0}var Ot=new Set,At={};function zt(t,i){sn(t,i),sn(t+"Capture",i)}function sn(t,i){for(At[t]=i,t=0;t<i.length;t++)Ot.add(i[t])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pn={},Kt={};function Zt(t){return pe.call(Kt,t)?!0:pe.call(pn,t)?!1:Pn.test(t)?Kt[t]=!0:(pn[t]=!0,!1)}function Gn(t,i,a){if(Zt(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var p=i.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function In(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Ut(t,i,a,p){if(p===null)t.removeAttribute(a);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+p)}}function Yt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ft(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Wt(t){var i=ft(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),p=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var D=a.get,U=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return D.call(this)},set:function(ae){p=""+ae,U.call(this,ae)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return p},setValue:function(ae){p=""+ae},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function un(t){t._valueTracker||(t._valueTracker=Wt(t))}function dn(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),p="";return t&&(p=ft(t)?t.checked?"true":"false":t.value),t=p,t!==a?(i.setValue(t),!0):!1}function yn(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ir=/[\n"\\]/g;function rn(t){return t.replace(ir,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Dr(t,i,a,p,D,U,ae,be){t.name="",ae!=null&&typeof ae!="function"&&typeof ae!="symbol"&&typeof ae!="boolean"?t.type=ae:t.removeAttribute("type"),i!=null?ae==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Yt(i)):t.value!==""+Yt(i)&&(t.value=""+Yt(i)):ae!=="submit"&&ae!=="reset"||t.removeAttribute("value"),i!=null?zr(t,ae,Yt(i)):a!=null?zr(t,ae,Yt(a)):p!=null&&t.removeAttribute("value"),D==null&&U!=null&&(t.defaultChecked=!!U),D!=null&&(t.checked=D&&typeof D!="function"&&typeof D!="symbol"),be!=null&&typeof be!="function"&&typeof be!="symbol"&&typeof be!="boolean"?t.name=""+Yt(be):t.removeAttribute("name")}function Or(t,i,a,p,D,U,ae,be){if(U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(t.type=U),i!=null||a!=null){if(!(U!=="submit"&&U!=="reset"||i!=null))return;a=a!=null?""+Yt(a):"",i=i!=null?""+Yt(i):a,be||i===t.value||(t.value=i),t.defaultValue=i}p=p??D,p=typeof p!="function"&&typeof p!="symbol"&&!!p,t.checked=be?t.checked:!!p,t.defaultChecked=!!p,ae!=null&&typeof ae!="function"&&typeof ae!="symbol"&&typeof ae!="boolean"&&(t.name=ae)}function zr(t,i,a){i==="number"&&yn(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function tn(t,i,a,p){if(t=t.options,i){i={};for(var D=0;D<a.length;D++)i["$"+a[D]]=!0;for(a=0;a<t.length;a++)D=i.hasOwnProperty("$"+t[a].value),t[a].selected!==D&&(t[a].selected=D),D&&p&&(t[a].defaultSelected=!0)}else{for(a=""+Yt(a),i=null,D=0;D<t.length;D++){if(t[D].value===a){t[D].selected=!0,p&&(t[D].defaultSelected=!0);return}i!==null||t[D].disabled||(i=t[D])}i!==null&&(i.selected=!0)}}function jn(t,i,a){if(i!=null&&(i=""+Yt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Yt(a):""}function Wn(t,i,a,p){if(i==null){if(p!=null){if(a!=null)throw Error(o(92));if(W(p)){if(1<p.length)throw Error(o(93));p=p[0]}a=p}a==null&&(a=""),i=a}a=Yt(i),t.defaultValue=a,p=t.textContent,p===a&&p!==""&&p!==null&&(t.value=p)}function xn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var pr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dn(t,i,a){var p=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?p?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":p?t.setProperty(i,a):typeof a!="number"||a===0||pr.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Zn(t,i,a){if(i!=null&&typeof i!="object")throw Error(o(62));if(t=t.style,a!=null){for(var p in a)!a.hasOwnProperty(p)||i!=null&&i.hasOwnProperty(p)||(p.indexOf("--")===0?t.setProperty(p,""):p==="float"?t.cssFloat="":t[p]="");for(var D in i)p=i[D],i.hasOwnProperty(D)&&a[D]!==p&&Dn(t,D,p)}else for(var U in i)i.hasOwnProperty(U)&&Dn(t,U,i[U])}function _r(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),er=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sn(t){return er.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var on=null;function ln(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gt=null,Xn=null;function Bn(t){var i=ct(t);if(i&&(t=i.stateNode)){var a=t[xe]||null;e:switch(t=i.stateNode,i.type){case"input":if(Dr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var p=a[i];if(p!==t&&p.form===t.form){var D=p[xe]||null;if(!D)throw Error(o(90));Dr(p,D.value,D.defaultValue,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name)}}for(i=0;i<a.length;i++)p=a[i],p.form===t.form&&dn(p)}break e;case"textarea":jn(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&tn(t,!!a.multiple,i,!1)}}}var Jr=!1;function Vr(t,i,a){if(Jr)return t(i,a);Jr=!0;try{var p=t(i);return p}finally{if(Jr=!1,(Gt!==null||Xn!==null)&&(Dc(),Gt&&(i=Gt,t=Xn,Xn=Gt=null,Bn(i),t)))for(i=0;i<t.length;i++)Bn(t[i])}}function Ar(t,i){var a=t.stateNode;if(a===null)return null;var p=a[xe]||null;if(p===null)return null;a=p[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(t=t.type,p=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!p;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(o(231,i,typeof a));return a}var or=!1;if(Bt)try{var sr={};Object.defineProperty(sr,"passive",{get:function(){or=!0}}),window.addEventListener("test",sr,sr),window.removeEventListener("test",sr,sr)}catch{or=!1}var wr=null,pi=null,Ci=null;function Gi(){if(Ci)return Ci;var t,i=pi,a=i.length,p,D="value"in wr?wr.value:wr.textContent,U=D.length;for(t=0;t<a&&i[t]===D[t];t++);var ae=a-t;for(p=1;p<=ae&&i[a-p]===D[U-p];p++);return Ci=D.slice(t,1<p?1-p:void 0)}function Ei(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Zr(){return!0}function ao(){return!1}function dr(t){function i(a,p,D,U,ae){this._reactName=a,this._targetInst=D,this.type=p,this.nativeEvent=U,this.target=ae,this.currentTarget=null;for(var be in t)t.hasOwnProperty(be)&&(a=t[be],this[be]=a?a(U):U[be]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?Zr:ao,this.isPropagationStopped=ao,this}return N(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),i}var k={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},y=dr(k),J=N({},k,{view:0,detail:0}),Q=dr(J),$e,Ie,ot,it=N({},J,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ot&&(ot&&t.type==="mousemove"?($e=t.screenX-ot.screenX,Ie=t.screenY-ot.screenY):Ie=$e=0,ot=t),$e)},movementY:function(t){return"movementY"in t?t.movementY:Ie}}),Me=dr(it),jt=N({},it,{dataTransfer:0}),gt=dr(jt),et=N({},J,{relatedTarget:0}),lt=dr(et),$t=N({},k,{animationName:0,elapsedTime:0,pseudoElement:0}),Rt=dr($t),bn=N({},k,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Mn=dr(bn),Kn=N({},k,{data:0}),ur=dr(Kn),Nn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},St={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ft={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oi(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Ft[t])?!!i[t]:!1}function mn(){return Oi}var Tr=N({},J,{key:function(t){if(t.key){var i=Nn[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?St[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mn,charCode:function(t){return t.type==="keypress"?Ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wt=dr(Tr),Dt=N({},it,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mt=dr(Dt),ar=N({},J,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mn}),yr=dr(ar),mr=N({},k,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qs=dr(mr),Ys=N({},it,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ki=dr(Ys),Br=N({},k,{newState:0,oldState:0}),Ta=dr(Br),Co=[9,13,27,32],go=Bt&&"CompositionEvent"in window,O=null;Bt&&"documentMode"in document&&(O=document.documentMode);var G=Bt&&"TextEvent"in window&&!O,se=Bt&&(!go||O&&8<O&&11>=O),Ee=" ",Qe=!1;function rt(t,i){switch(t){case"keyup":return Co.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Et(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Un=!1;function ei(t,i){switch(t){case"compositionend":return Et(i);case"keypress":return i.which!==32?null:(Qe=!0,Ee);case"textInput":return t=i.data,t===Ee&&Qe?null:t;default:return null}}function Ln(t,i){if(Un)return t==="compositionend"||!go&&rt(t,i)?(t=Gi(),Ci=pi=wr=null,Un=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return se&&i.locale!=="ko"?null:i.data;default:return null}}var ai={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ti(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ai[t.type]:i==="textarea"}function Io(t,i,a,p){Gt?Xn?Xn.push(p):Xn=[p]:Gt=p,i=kc(i,"onChange"),0<i.length&&(a=new y("onChange","change",null,a,p),t.push({event:a,listeners:i}))}var di=null,vo=null;function $u(t){Gv(t,0)}function tc(t){var i=pt(t);if(dn(i))return t}function wm(t,i){if(t==="change")return i}var Sm=!1;if(Bt){var gh;if(Bt){var vh="oninput"in document;if(!vh){var Em=document.createElement("div");Em.setAttribute("oninput","return;"),vh=typeof Em.oninput=="function"}gh=vh}else gh=!1;Sm=gh&&(!document.documentMode||9<document.documentMode)}function Om(){di&&(di.detachEvent("onpropertychange",Am),vo=di=null)}function Am(t){if(t.propertyName==="value"&&tc(vo)){var i=[];Io(i,vo,t,ln(t)),Vr($u,i)}}function ME(t,i,a){t==="focusin"?(Om(),di=i,vo=a,di.attachEvent("onpropertychange",Am)):t==="focusout"&&Om()}function kE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tc(vo)}function VE(t,i){if(t==="click")return tc(i)}function BE(t,i){if(t==="input"||t==="change")return tc(i)}function UE(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Ui=typeof Object.is=="function"?Object.is:UE;function Ru(t,i){if(Ui(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),p=Object.keys(i);if(a.length!==p.length)return!1;for(p=0;p<a.length;p++){var D=a[p];if(!pe.call(i,D)||!Ui(t[D],i[D]))return!1}return!0}function Tm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jm(t,i){var a=Tm(t);t=0;for(var p;a;){if(a.nodeType===3){if(p=t+a.textContent.length,t<=i&&p>=i)return{node:a,offset:i-t};t=p}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Tm(a)}}function xm(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?xm(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function $m(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=yn(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=yn(t.document)}return i}function bh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function LE(t,i){var a=$m(i);i=t.focusedElem;var p=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&xm(i.ownerDocument.documentElement,i)){if(p!==null&&bh(i)){if(t=p.start,a=p.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var D=i.textContent.length,U=Math.min(p.start,D);p=p.end===void 0?U:Math.min(p.end,D),!a.extend&&U>p&&(D=p,p=U,U=D),D=jm(i,U);var ae=jm(i,p);D&&ae&&(a.rangeCount!==1||a.anchorNode!==D.node||a.anchorOffset!==D.offset||a.focusNode!==ae.node||a.focusOffset!==ae.offset)&&(t=t.createRange(),t.setStart(D.node,D.offset),a.removeAllRanges(),U>p?(a.addRange(t),a.extend(ae.node,ae.offset)):(t.setEnd(ae.node,ae.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var FE=Bt&&"documentMode"in document&&11>=document.documentMode,ja=null,_h=null,Pu=null,wh=!1;function Rm(t,i,a){var p=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wh||ja==null||ja!==yn(p)||(p=ja,"selectionStart"in p&&bh(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Pu&&Ru(Pu,p)||(Pu=p,p=kc(_h,"onSelect"),0<p.length&&(i=new y("onSelect","select",null,i,a),t.push({event:i,listeners:p}),i.target=ja)))}function Ws(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var xa={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},Sh={},Pm={};Bt&&(Pm=document.createElement("div").style,"AnimationEvent"in window||(delete xa.animationend.animation,delete xa.animationiteration.animation,delete xa.animationstart.animation),"TransitionEvent"in window||delete xa.transitionend.transition);function Xs(t){if(Sh[t])return Sh[t];if(!xa[t])return t;var i=xa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Pm)return Sh[t]=i[a];return t}var Dm=Xs("animationend"),Nm=Xs("animationiteration"),Cm=Xs("animationstart"),qE=Xs("transitionrun"),zE=Xs("transitionstart"),HE=Xs("transitioncancel"),Im=Xs("transitionend"),Mm=new Map,km="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function uo(t,i){Mm.set(t,i),zt(i,[t])}var Qi=[],$a=0,Eh=0;function nc(){for(var t=$a,i=Eh=$a=0;i<t;){var a=Qi[i];Qi[i++]=null;var p=Qi[i];Qi[i++]=null;var D=Qi[i];Qi[i++]=null;var U=Qi[i];if(Qi[i++]=null,p!==null&&D!==null){var ae=p.pending;ae===null?D.next=D:(D.next=ae.next,ae.next=D),p.pending=D}U!==0&&Vm(a,D,U)}}function rc(t,i,a,p){Qi[$a++]=t,Qi[$a++]=i,Qi[$a++]=a,Qi[$a++]=p,Eh|=p,t.lanes|=p,t=t.alternate,t!==null&&(t.lanes|=p)}function Oh(t,i,a,p){return rc(t,i,a,p),ic(t)}function hs(t,i){return rc(t,null,null,i),ic(t)}function Vm(t,i,a){t.lanes|=a;var p=t.alternate;p!==null&&(p.lanes|=a);for(var D=!1,U=t.return;U!==null;)U.childLanes|=a,p=U.alternate,p!==null&&(p.childLanes|=a),U.tag===22&&(t=U.stateNode,t===null||t._visibility&1||(D=!0)),t=U,U=U.return;D&&i!==null&&t.tag===3&&(U=t.stateNode,D=31-gn(a),U=U.hiddenUpdates,t=U[D],t===null?U[D]=[i]:t.push(i),i.lane=a|536870912)}function ic(t){if(50<nl)throw nl=0,Rp=null,Error(o(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ra={},Bm=new WeakMap;function Yi(t,i){if(typeof t=="object"&&t!==null){var a=Bm.get(t);return a!==void 0?a:(i={value:t,source:i,stack:re(i)},Bm.set(t,i),i)}return{value:t,source:i,stack:re(i)}}var Pa=[],Da=0,oc=null,sc=0,Wi=[],Xi=0,Js=null,Mo=1,ko="";function Zs(t,i){Pa[Da++]=sc,Pa[Da++]=oc,oc=t,sc=i}function Um(t,i,a){Wi[Xi++]=Mo,Wi[Xi++]=ko,Wi[Xi++]=Js,Js=t;var p=Mo;t=ko;var D=32-gn(p)-1;p&=~(1<<D),a+=1;var U=32-gn(i)+D;if(30<U){var ae=D-D%5;U=(p&(1<<ae)-1).toString(32),p>>=ae,D-=ae,Mo=1<<32-gn(i)+D|a<<D|p,ko=U+t}else Mo=1<<U|a<<D|p,ko=t}function Ah(t){t.return!==null&&(Zs(t,1),Um(t,1,0))}function Th(t){for(;t===oc;)oc=Pa[--Da],Pa[Da]=null,sc=Pa[--Da],Pa[Da]=null;for(;t===Js;)Js=Wi[--Xi],Wi[Xi]=null,ko=Wi[--Xi],Wi[Xi]=null,Mo=Wi[--Xi],Wi[Xi]=null}var Ri=null,yi=null,Qn=!1,lo=null,bo=!1,jh=Error(o(519));function ea(t){var i=Error(o(418,""));throw Cu(Yi(i,t)),jh}function Lm(t){var i=t.stateNode,a=t.type,p=t.memoizedProps;switch(i[Se]=t,i[xe]=p,a){case"dialog":kn("cancel",i),kn("close",i);break;case"iframe":case"object":case"embed":kn("load",i);break;case"video":case"audio":for(a=0;a<il.length;a++)kn(il[a],i);break;case"source":kn("error",i);break;case"img":case"image":case"link":kn("error",i),kn("load",i);break;case"details":kn("toggle",i);break;case"input":kn("invalid",i),Or(i,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),un(i);break;case"select":kn("invalid",i);break;case"textarea":kn("invalid",i),Wn(i,p.value,p.defaultValue,p.children),un(i)}a=p.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||p.suppressHydrationWarning===!0||Wv(i.textContent,a)?(p.popover!=null&&(kn("beforetoggle",i),kn("toggle",i)),p.onScroll!=null&&kn("scroll",i),p.onScrollEnd!=null&&kn("scrollend",i),p.onClick!=null&&(i.onclick=Vc),i=!0):i=!1,i||ea(t)}function Fm(t){for(Ri=t.return;Ri;)switch(Ri.tag){case 3:case 27:bo=!0;return;case 5:case 13:bo=!1;return;default:Ri=Ri.return}}function Du(t){if(t!==Ri)return!1;if(!Qn)return Fm(t),Qn=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Kp(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&yi&&ea(t),Fm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){yi=fo(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}yi=null}}else yi=Ri?fo(t.stateNode.nextSibling):null;return!0}function Nu(){yi=Ri=null,Qn=!1}function Cu(t){lo===null?lo=[t]:lo.push(t)}var Iu=Error(o(460)),qm=Error(o(474)),xh={then:function(){}};function zm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ac(){}function Hm(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ac,ac),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Iu?Error(o(483)):t;default:if(typeof i.status=="string")i.then(ac,ac);else{if(t=gr,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=i,t.status="pending",t.then(function(p){if(i.status==="pending"){var D=i;D.status="fulfilled",D.value=p}},function(p){if(i.status==="pending"){var D=i;D.status="rejected",D.reason=p}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Iu?Error(o(483)):t}throw Mu=i,Iu}}var Mu=null;function Gm(){if(Mu===null)throw Error(o(459));var t=Mu;return Mu=null,t}var Na=null,ku=0;function uc(t){var i=ku;return ku+=1,Na===null&&(Na=[]),Hm(Na,t,i)}function Vu(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function lc(t,i){throw i.$$typeof===u?Error(o(525)):(t=Object.prototype.toString.call(i),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Km(t){var i=t._init;return i(t._payload)}function Qm(t){function i(Ke,qe){if(t){var We=Ke.deletions;We===null?(Ke.deletions=[qe],Ke.flags|=16):We.push(qe)}}function a(Ke,qe){if(!t)return null;for(;qe!==null;)i(Ke,qe),qe=qe.sibling;return null}function p(Ke){for(var qe=new Map;Ke!==null;)Ke.key!==null?qe.set(Ke.key,Ke):qe.set(Ke.index,Ke),Ke=Ke.sibling;return qe}function D(Ke,qe){return Ke=Os(Ke,qe),Ke.index=0,Ke.sibling=null,Ke}function U(Ke,qe,We){return Ke.index=We,t?(We=Ke.alternate,We!==null?(We=We.index,We<qe?(Ke.flags|=33554434,qe):We):(Ke.flags|=33554434,qe)):(Ke.flags|=1048576,qe)}function ae(Ke){return t&&Ke.alternate===null&&(Ke.flags|=33554434),Ke}function be(Ke,qe,We,ht){return qe===null||qe.tag!==6?(qe=Sp(We,Ke.mode,ht),qe.return=Ke,qe):(qe=D(qe,We),qe.return=Ke,qe)}function Ce(Ke,qe,We,ht){var kt=We.type;return kt===f?ut(Ke,qe,We.props.children,ht,We.key):qe!==null&&(qe.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===S&&Km(kt)===qe.type)?(qe=D(qe,We.props),Vu(qe,We),qe.return=Ke,qe):(qe=jc(We.type,We.key,We.props,null,Ke.mode,ht),Vu(qe,We),qe.return=Ke,qe)}function ze(Ke,qe,We,ht){return qe===null||qe.tag!==4||qe.stateNode.containerInfo!==We.containerInfo||qe.stateNode.implementation!==We.implementation?(qe=Ep(We,Ke.mode,ht),qe.return=Ke,qe):(qe=D(qe,We.children||[]),qe.return=Ke,qe)}function ut(Ke,qe,We,ht,kt){return qe===null||qe.tag!==7?(qe=ca(We,Ke.mode,ht,kt),qe.return=Ke,qe):(qe=D(qe,We),qe.return=Ke,qe)}function bt(Ke,qe,We){if(typeof qe=="string"&&qe!==""||typeof qe=="number"||typeof qe=="bigint")return qe=Sp(""+qe,Ke.mode,We),qe.return=Ke,qe;if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case c:return We=jc(qe.type,qe.key,qe.props,null,Ke.mode,We),Vu(We,qe),We.return=Ke,We;case s:return qe=Ep(qe,Ke.mode,We),qe.return=Ke,qe;case S:var ht=qe._init;return qe=ht(qe._payload),bt(Ke,qe,We)}if(W(qe)||C(qe))return qe=ca(qe,Ke.mode,We,null),qe.return=Ke,qe;if(typeof qe.then=="function")return bt(Ke,uc(qe),We);if(qe.$$typeof===R)return bt(Ke,Oc(Ke,qe),We);lc(Ke,qe)}return null}function Ze(Ke,qe,We,ht){var kt=qe!==null?qe.key:null;if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return kt!==null?null:be(Ke,qe,""+We,ht);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case c:return We.key===kt?Ce(Ke,qe,We,ht):null;case s:return We.key===kt?ze(Ke,qe,We,ht):null;case S:return kt=We._init,We=kt(We._payload),Ze(Ke,qe,We,ht)}if(W(We)||C(We))return kt!==null?null:ut(Ke,qe,We,ht,null);if(typeof We.then=="function")return Ze(Ke,qe,uc(We),ht);if(We.$$typeof===R)return Ze(Ke,qe,Oc(Ke,We),ht);lc(Ke,We)}return null}function at(Ke,qe,We,ht,kt){if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Ke=Ke.get(We)||null,be(qe,Ke,""+ht,kt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case c:return Ke=Ke.get(ht.key===null?We:ht.key)||null,Ce(qe,Ke,ht,kt);case s:return Ke=Ke.get(ht.key===null?We:ht.key)||null,ze(qe,Ke,ht,kt);case S:var On=ht._init;return ht=On(ht._payload),at(Ke,qe,We,ht,kt)}if(W(ht)||C(ht))return Ke=Ke.get(We)||null,ut(qe,Ke,ht,kt,null);if(typeof ht.then=="function")return at(Ke,qe,We,uc(ht),kt);if(ht.$$typeof===R)return at(Ke,qe,We,Oc(qe,ht),kt);lc(qe,ht)}return null}function Lt(Ke,qe,We,ht){for(var kt=null,On=null,qt=qe,Xt=qe=0,ci=null;qt!==null&&Xt<We.length;Xt++){qt.index>Xt?(ci=qt,qt=null):ci=qt.sibling;var Yn=Ze(Ke,qt,We[Xt],ht);if(Yn===null){qt===null&&(qt=ci);break}t&&qt&&Yn.alternate===null&&i(Ke,qt),qe=U(Yn,qe,Xt),On===null?kt=Yn:On.sibling=Yn,On=Yn,qt=ci}if(Xt===We.length)return a(Ke,qt),Qn&&Zs(Ke,Xt),kt;if(qt===null){for(;Xt<We.length;Xt++)qt=bt(Ke,We[Xt],ht),qt!==null&&(qe=U(qt,qe,Xt),On===null?kt=qt:On.sibling=qt,On=qt);return Qn&&Zs(Ke,Xt),kt}for(qt=p(qt);Xt<We.length;Xt++)ci=at(qt,Ke,Xt,We[Xt],ht),ci!==null&&(t&&ci.alternate!==null&&qt.delete(ci.key===null?Xt:ci.key),qe=U(ci,qe,Xt),On===null?kt=ci:On.sibling=ci,On=ci);return t&&qt.forEach(function(Ps){return i(Ke,Ps)}),Qn&&Zs(Ke,Xt),kt}function cn(Ke,qe,We,ht){if(We==null)throw Error(o(151));for(var kt=null,On=null,qt=qe,Xt=qe=0,ci=null,Yn=We.next();qt!==null&&!Yn.done;Xt++,Yn=We.next()){qt.index>Xt?(ci=qt,qt=null):ci=qt.sibling;var Ps=Ze(Ke,qt,Yn.value,ht);if(Ps===null){qt===null&&(qt=ci);break}t&&qt&&Ps.alternate===null&&i(Ke,qt),qe=U(Ps,qe,Xt),On===null?kt=Ps:On.sibling=Ps,On=Ps,qt=ci}if(Yn.done)return a(Ke,qt),Qn&&Zs(Ke,Xt),kt;if(qt===null){for(;!Yn.done;Xt++,Yn=We.next())Yn=bt(Ke,Yn.value,ht),Yn!==null&&(qe=U(Yn,qe,Xt),On===null?kt=Yn:On.sibling=Yn,On=Yn);return Qn&&Zs(Ke,Xt),kt}for(qt=p(qt);!Yn.done;Xt++,Yn=We.next())Yn=at(qt,Ke,Xt,Yn.value,ht),Yn!==null&&(t&&Yn.alternate!==null&&qt.delete(Yn.key===null?Xt:Yn.key),qe=U(Yn,qe,Xt),On===null?kt=Yn:On.sibling=Yn,On=Yn);return t&&qt.forEach(function(o1){return i(Ke,o1)}),Qn&&Zs(Ke,Xt),kt}function Ir(Ke,qe,We,ht){if(typeof We=="object"&&We!==null&&We.type===f&&We.key===null&&(We=We.props.children),typeof We=="object"&&We!==null){switch(We.$$typeof){case c:e:{for(var kt=We.key;qe!==null;){if(qe.key===kt){if(kt=We.type,kt===f){if(qe.tag===7){a(Ke,qe.sibling),ht=D(qe,We.props.children),ht.return=Ke,Ke=ht;break e}}else if(qe.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===S&&Km(kt)===qe.type){a(Ke,qe.sibling),ht=D(qe,We.props),Vu(ht,We),ht.return=Ke,Ke=ht;break e}a(Ke,qe);break}else i(Ke,qe);qe=qe.sibling}We.type===f?(ht=ca(We.props.children,Ke.mode,ht,We.key),ht.return=Ke,Ke=ht):(ht=jc(We.type,We.key,We.props,null,Ke.mode,ht),Vu(ht,We),ht.return=Ke,Ke=ht)}return ae(Ke);case s:e:{for(kt=We.key;qe!==null;){if(qe.key===kt)if(qe.tag===4&&qe.stateNode.containerInfo===We.containerInfo&&qe.stateNode.implementation===We.implementation){a(Ke,qe.sibling),ht=D(qe,We.children||[]),ht.return=Ke,Ke=ht;break e}else{a(Ke,qe);break}else i(Ke,qe);qe=qe.sibling}ht=Ep(We,Ke.mode,ht),ht.return=Ke,Ke=ht}return ae(Ke);case S:return kt=We._init,We=kt(We._payload),Ir(Ke,qe,We,ht)}if(W(We))return Lt(Ke,qe,We,ht);if(C(We)){if(kt=C(We),typeof kt!="function")throw Error(o(150));return We=kt.call(We),cn(Ke,qe,We,ht)}if(typeof We.then=="function")return Ir(Ke,qe,uc(We),ht);if(We.$$typeof===R)return Ir(Ke,qe,Oc(Ke,We),ht);lc(Ke,We)}return typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint"?(We=""+We,qe!==null&&qe.tag===6?(a(Ke,qe.sibling),ht=D(qe,We),ht.return=Ke,Ke=ht):(a(Ke,qe),ht=Sp(We,Ke.mode,ht),ht.return=Ke,Ke=ht),ae(Ke)):a(Ke,qe)}return function(Ke,qe,We,ht){try{ku=0;var kt=Ir(Ke,qe,We,ht);return Na=null,kt}catch(qt){if(qt===Iu)throw qt;var On=to(29,qt,null,Ke.mode);return On.lanes=ht,On.return=Ke,On}finally{}}}var ta=Qm(!0),Ym=Qm(!1),Ca=fe(null),cc=fe(0);function Wm(t,i){t=Qo,we(cc,t),we(Ca,i),Qo=t|i.baseLanes}function $h(){we(cc,Qo),we(Ca,Ca.current)}function Rh(){Qo=cc.current,ve(Ca),ve(cc)}var Ji=fe(null),_o=null;function ps(t){var i=t.alternate;we(ni,ni.current&1),we(Ji,t),_o===null&&(i===null||Ca.current!==null||i.memoizedState!==null)&&(_o=t)}function Xm(t){if(t.tag===22){if(we(ni,ni.current),we(Ji,t),_o===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(_o=t)}}else ds()}function ds(){we(ni,ni.current),we(Ji,Ji.current)}function Vo(t){ve(Ji),_o===t&&(_o=null),ve(ni)}var ni=fe(0);function fc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var GE=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,p){t.push(p)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},KE=r.unstable_scheduleCallback,QE=r.unstable_NormalPriority,ri={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ph(){return{controller:new GE,data:new Map,refCount:0}}function Bu(t){t.refCount--,t.refCount===0&&KE(QE,function(){t.controller.abort()})}var Uu=null,Dh=0,Ia=0,Ma=null;function YE(t,i){if(Uu===null){var a=Uu=[];Dh=0,Ia=Vp(),Ma={status:"pending",value:void 0,then:function(p){a.push(p)}}}return Dh++,i.then(Jm,Jm),i}function Jm(){if(--Dh===0&&Uu!==null){Ma!==null&&(Ma.status="fulfilled");var t=Uu;Uu=null,Ia=0,Ma=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function WE(t,i){var a=[],p={status:"pending",value:null,reason:null,then:function(D){a.push(D)}};return t.then(function(){p.status="fulfilled",p.value=i;for(var D=0;D<a.length;D++)(0,a[D])(i)},function(D){for(p.status="rejected",p.reason=D,D=0;D<a.length;D++)(0,a[D])(void 0)}),p}var Zm=E.S;E.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&YE(t,i),Zm!==null&&Zm(t,i)};var na=fe(null);function Nh(){var t=na.current;return t!==null?t:gr.pooledCache}function hc(t,i){i===null?we(na,na.current):we(na,i.pool)}function eg(){var t=Nh();return t===null?null:{parent:ri._currentValue,pool:t}}var ys=0,En=null,lr=null,Hr=null,pc=!1,ka=!1,ra=!1,dc=0,Lu=0,Va=null,XE=0;function Ur(){throw Error(o(321))}function Ch(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Ui(t[a],i[a]))return!1;return!0}function Ih(t,i,a,p,D,U){return ys=U,En=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,E.H=t===null||t.memoizedState===null?ia:ms,ra=!1,U=a(p,D),ra=!1,ka&&(U=ng(i,a,p,D)),tg(t),U}function tg(t){E.H=wo;var i=lr!==null&&lr.next!==null;if(ys=0,Hr=lr=En=null,pc=!1,Lu=0,Va=null,i)throw Error(o(300));t===null||ui||(t=t.dependencies,t!==null&&Ec(t)&&(ui=!0))}function ng(t,i,a,p){En=t;var D=0;do{if(ka&&(Va=null),Lu=0,ka=!1,25<=D)throw Error(o(301));if(D+=1,Hr=lr=null,t.updateQueue!=null){var U=t.updateQueue;U.lastEffect=null,U.events=null,U.stores=null,U.memoCache!=null&&(U.memoCache.index=0)}E.H=oa,U=i(a,p)}while(ka);return U}function JE(){var t=E.H,i=t.useState()[0];return i=typeof i.then=="function"?Fu(i):i,t=t.useState()[0],(lr!==null?lr.memoizedState:null)!==t&&(En.flags|=1024),i}function Mh(){var t=dc!==0;return dc=0,t}function kh(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Vh(t){if(pc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}pc=!1}ys=0,Hr=lr=En=null,ka=!1,Lu=dc=0,Va=null}function Ii(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hr===null?En.memoizedState=Hr=t:Hr=Hr.next=t,Hr}function Gr(){if(lr===null){var t=En.alternate;t=t!==null?t.memoizedState:null}else t=lr.next;var i=Hr===null?En.memoizedState:Hr.next;if(i!==null)Hr=i,lr=t;else{if(t===null)throw En.alternate===null?Error(o(467)):Error(o(310));lr=t,t={memoizedState:lr.memoizedState,baseState:lr.baseState,baseQueue:lr.baseQueue,queue:lr.queue,next:null},Hr===null?En.memoizedState=Hr=t:Hr=Hr.next=t}return Hr}var yc;yc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Fu(t){var i=Lu;return Lu+=1,Va===null&&(Va=[]),t=Hm(Va,t,i),i=En,(Hr===null?i.memoizedState:Hr.next)===null&&(i=i.alternate,E.H=i===null||i.memoizedState===null?ia:ms),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Fu(t);if(t.$$typeof===R)return Ai(t)}throw Error(o(438,String(t)))}function Bh(t){var i=null,a=En.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var p=En.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(i={data:p.data.map(function(D){return D.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=yc(),En.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),p=0;p<t;p++)a[p]=A;return i.index++,a}function Bo(t,i){return typeof i=="function"?i(t):i}function gc(t){var i=Gr();return Uh(i,lr,t)}function Uh(t,i,a){var p=t.queue;if(p===null)throw Error(o(311));p.lastRenderedReducer=a;var D=t.baseQueue,U=p.pending;if(U!==null){if(D!==null){var ae=D.next;D.next=U.next,U.next=ae}i.baseQueue=D=U,p.pending=null}if(U=t.baseState,D===null)t.memoizedState=U;else{i=D.next;var be=ae=null,Ce=null,ze=i,ut=!1;do{var bt=ze.lane&-536870913;if(bt!==ze.lane?(Fn&bt)===bt:(ys&bt)===bt){var Ze=ze.revertLane;if(Ze===0)Ce!==null&&(Ce=Ce.next={lane:0,revertLane:0,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null}),bt===Ia&&(ut=!0);else if((ys&Ze)===Ze){ze=ze.next,Ze===Ia&&(ut=!0);continue}else bt={lane:0,revertLane:ze.revertLane,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},Ce===null?(be=Ce=bt,ae=U):Ce=Ce.next=bt,En.lanes|=Ze,As|=Ze;bt=ze.action,ra&&a(U,bt),U=ze.hasEagerState?ze.eagerState:a(U,bt)}else Ze={lane:bt,revertLane:ze.revertLane,action:ze.action,hasEagerState:ze.hasEagerState,eagerState:ze.eagerState,next:null},Ce===null?(be=Ce=Ze,ae=U):Ce=Ce.next=Ze,En.lanes|=bt,As|=bt;ze=ze.next}while(ze!==null&&ze!==i);if(Ce===null?ae=U:Ce.next=be,!Ui(U,t.memoizedState)&&(ui=!0,ut&&(a=Ma,a!==null)))throw a;t.memoizedState=U,t.baseState=ae,t.baseQueue=Ce,p.lastRenderedState=U}return D===null&&(p.lanes=0),[t.memoizedState,p.dispatch]}function Lh(t){var i=Gr(),a=i.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=t;var p=a.dispatch,D=a.pending,U=i.memoizedState;if(D!==null){a.pending=null;var ae=D=D.next;do U=t(U,ae.action),ae=ae.next;while(ae!==D);Ui(U,i.memoizedState)||(ui=!0),i.memoizedState=U,i.baseQueue===null&&(i.baseState=U),a.lastRenderedState=U}return[U,p]}function rg(t,i,a){var p=En,D=Gr(),U=Qn;if(U){if(a===void 0)throw Error(o(407));a=a()}else a=i();var ae=!Ui((lr||D).memoizedState,a);if(ae&&(D.memoizedState=a,ui=!0),D=D.queue,zh(sg.bind(null,p,D,t),[t]),D.getSnapshot!==i||ae||Hr!==null&&Hr.memoizedState.tag&1){if(p.flags|=2048,Ba(9,og.bind(null,p,D,a,i),{destroy:void 0},null),gr===null)throw Error(o(349));U||(ys&60)!==0||ig(p,i,a)}return a}function ig(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=En.updateQueue,i===null?(i=yc(),En.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function og(t,i,a,p){i.value=a,i.getSnapshot=p,ag(i)&&ug(t)}function sg(t,i,a){return a(function(){ag(i)&&ug(t)})}function ag(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Ui(t,a)}catch{return!0}}function ug(t){var i=hs(t,2);i!==null&&Pi(i,t,2)}function Fh(t){var i=Ii();if(typeof t=="function"){var a=t;if(t=a(),ra){_t(!0);try{a()}finally{_t(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:t},i}function lg(t,i,a,p){return t.baseState=a,Uh(t,lr,typeof p=="function"?p:Bo)}function ZE(t,i,a,p,D){if(_c(t))throw Error(o(485));if(t=i.action,t!==null){var U={payload:D,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ae){U.listeners.push(ae)}};E.T!==null?a(!0):U.isTransition=!1,p(U),a=i.pending,a===null?(U.next=i.pending=U,cg(i,U)):(U.next=a.next,i.pending=a.next=U)}}function cg(t,i){var a=i.action,p=i.payload,D=t.state;if(i.isTransition){var U=E.T,ae={};E.T=ae;try{var be=a(D,p),Ce=E.S;Ce!==null&&Ce(ae,be),fg(t,i,be)}catch(ze){qh(t,i,ze)}finally{E.T=U}}else try{U=a(D,p),fg(t,i,U)}catch(ze){qh(t,i,ze)}}function fg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(p){hg(t,i,p)},function(p){return qh(t,i,p)}):hg(t,i,a)}function hg(t,i,a){i.status="fulfilled",i.value=a,pg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,cg(t,a)))}function qh(t,i,a){var p=t.pending;if(t.pending=null,p!==null){p=p.next;do i.status="rejected",i.reason=a,pg(i),i=i.next;while(i!==p)}t.action=null}function pg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function dg(t,i){return i}function yg(t,i){if(Qn){var a=gr.formState;if(a!==null){e:{var p=En;if(Qn){if(yi){t:{for(var D=yi,U=bo;D.nodeType!==8;){if(!U){D=null;break t}if(D=fo(D.nextSibling),D===null){D=null;break t}}U=D.data,D=U==="F!"||U==="F"?D:null}if(D){yi=fo(D.nextSibling),p=D.data==="F!";break e}}ea(p)}p=!1}p&&(i=a[0])}}return a=Ii(),a.memoizedState=a.baseState=i,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:i},a.queue=p,a=Ng.bind(null,En,p),p.dispatch=a,p=Fh(!1),U=Yh.bind(null,En,!1,p.queue),p=Ii(),D={state:i,dispatch:null,action:t,pending:null},p.queue=D,a=ZE.bind(null,En,D,U,a),D.dispatch=a,p.memoizedState=t,[i,a,!1]}function mg(t){var i=Gr();return gg(i,lr,t)}function gg(t,i,a){i=Uh(t,i,dg)[0],t=gc(Bo)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Fu(i):i;var p=Gr(),D=p.queue,U=D.dispatch;return a!==p.memoizedState&&(En.flags|=2048,Ba(9,eO.bind(null,D,a),{destroy:void 0},null)),[i,U,t]}function eO(t,i){t.action=i}function vg(t){var i=Gr(),a=lr;if(a!==null)return gg(i,a,t);Gr(),i=i.memoizedState,a=Gr();var p=a.queue.dispatch;return a.memoizedState=t,[i,p,!1]}function Ba(t,i,a,p){return t={tag:t,create:i,inst:a,deps:p,next:null},i=En.updateQueue,i===null&&(i=yc(),En.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(p=a.next,a.next=t,t.next=p,i.lastEffect=t),t}function bg(){return Gr().memoizedState}function vc(t,i,a,p){var D=Ii();En.flags|=t,D.memoizedState=Ba(1|i,a,{destroy:void 0},p===void 0?null:p)}function bc(t,i,a,p){var D=Gr();p=p===void 0?null:p;var U=D.memoizedState.inst;lr!==null&&p!==null&&Ch(p,lr.memoizedState.deps)?D.memoizedState=Ba(i,a,U,p):(En.flags|=t,D.memoizedState=Ba(1|i,a,U,p))}function _g(t,i){vc(8390656,8,t,i)}function zh(t,i){bc(2048,8,t,i)}function wg(t,i){return bc(4,2,t,i)}function Sg(t,i){return bc(4,4,t,i)}function Eg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Og(t,i,a){a=a!=null?a.concat([t]):null,bc(4,4,Eg.bind(null,i,t),a)}function Hh(){}function Ag(t,i){var a=Gr();i=i===void 0?null:i;var p=a.memoizedState;return i!==null&&Ch(i,p[1])?p[0]:(a.memoizedState=[t,i],t)}function Tg(t,i){var a=Gr();i=i===void 0?null:i;var p=a.memoizedState;if(i!==null&&Ch(i,p[1]))return p[0];if(p=t(),ra){_t(!0);try{t()}finally{_t(!1)}}return a.memoizedState=[p,i],p}function Gh(t,i,a){return a===void 0||(ys&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=xv(),En.lanes|=t,As|=t,a)}function jg(t,i,a,p){return Ui(a,i)?a:Ca.current!==null?(t=Gh(t,a,p),Ui(t,i)||(ui=!0),t):(ys&42)===0?(ui=!0,t.memoizedState=a):(t=xv(),En.lanes|=t,As|=t,i)}function xg(t,i,a,p,D){var U=z.p;z.p=U!==0&&8>U?U:8;var ae=E.T,be={};E.T=be,Yh(t,!1,i,a);try{var Ce=D(),ze=E.S;if(ze!==null&&ze(be,Ce),Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"){var ut=WE(Ce,p);qu(t,i,ut,zi(t))}else qu(t,i,p,zi(t))}catch(bt){qu(t,i,{then:function(){},status:"rejected",reason:bt},zi())}finally{z.p=U,E.T=ae}}function tO(){}function Kh(t,i,a,p){if(t.tag!==5)throw Error(o(476));var D=$g(t).queue;xg(t,D,i,M,a===null?tO:function(){return Rg(t),a(p)})}function $g(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:M},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bo,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Rg(t){var i=$g(t).next.queue;qu(t,i,{},zi())}function Qh(){return Ai(ll)}function Pg(){return Gr().memoizedState}function Dg(){return Gr().memoizedState}function nO(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=zi();t=bs(a);var p=_s(i,t,a);p!==null&&(Pi(p,i,a),Gu(p,i,a)),i={cache:Ph()},t.payload=i;return}i=i.return}}function rO(t,i,a){var p=zi();a={lane:p,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},_c(t)?Cg(i,a):(a=Oh(t,i,a,p),a!==null&&(Pi(a,t,p),Ig(a,i,p)))}function Ng(t,i,a){var p=zi();qu(t,i,a,p)}function qu(t,i,a,p){var D={lane:p,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(t))Cg(i,D);else{var U=t.alternate;if(t.lanes===0&&(U===null||U.lanes===0)&&(U=i.lastRenderedReducer,U!==null))try{var ae=i.lastRenderedState,be=U(ae,a);if(D.hasEagerState=!0,D.eagerState=be,Ui(be,ae))return rc(t,i,D,0),gr===null&&nc(),!1}catch{}finally{}if(a=Oh(t,i,D,p),a!==null)return Pi(a,t,p),Ig(a,i,p),!0}return!1}function Yh(t,i,a,p){if(p={lane:2,revertLane:Vp(),action:p,hasEagerState:!1,eagerState:null,next:null},_c(t)){if(i)throw Error(o(479))}else i=Oh(t,a,p,2),i!==null&&Pi(i,t,2)}function _c(t){var i=t.alternate;return t===En||i!==null&&i===En}function Cg(t,i){ka=pc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Ig(t,i,a){if((a&4194176)!==0){var p=i.lanes;p&=t.pendingLanes,a|=p,i.lanes=a,hi(t,a)}}var wo={readContext:Ai,use:mc,useCallback:Ur,useContext:Ur,useEffect:Ur,useImperativeHandle:Ur,useLayoutEffect:Ur,useInsertionEffect:Ur,useMemo:Ur,useReducer:Ur,useRef:Ur,useState:Ur,useDebugValue:Ur,useDeferredValue:Ur,useTransition:Ur,useSyncExternalStore:Ur,useId:Ur};wo.useCacheRefresh=Ur,wo.useMemoCache=Ur,wo.useHostTransitionStatus=Ur,wo.useFormState=Ur,wo.useActionState=Ur,wo.useOptimistic=Ur;var ia={readContext:Ai,use:mc,useCallback:function(t,i){return Ii().memoizedState=[t,i===void 0?null:i],t},useContext:Ai,useEffect:_g,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,vc(4194308,4,Eg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return vc(4194308,4,t,i)},useInsertionEffect:function(t,i){vc(4,2,t,i)},useMemo:function(t,i){var a=Ii();i=i===void 0?null:i;var p=t();if(ra){_t(!0);try{t()}finally{_t(!1)}}return a.memoizedState=[p,i],p},useReducer:function(t,i,a){var p=Ii();if(a!==void 0){var D=a(i);if(ra){_t(!0);try{a(i)}finally{_t(!1)}}}else D=i;return p.memoizedState=p.baseState=D,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:D},p.queue=t,t=t.dispatch=rO.bind(null,En,t),[p.memoizedState,t]},useRef:function(t){var i=Ii();return t={current:t},i.memoizedState=t},useState:function(t){t=Fh(t);var i=t.queue,a=Ng.bind(null,En,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Hh,useDeferredValue:function(t,i){var a=Ii();return Gh(a,t,i)},useTransition:function(){var t=Fh(!1);return t=xg.bind(null,En,t.queue,!0,!1),Ii().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var p=En,D=Ii();if(Qn){if(a===void 0)throw Error(o(407));a=a()}else{if(a=i(),gr===null)throw Error(o(349));(Fn&60)!==0||ig(p,i,a)}D.memoizedState=a;var U={value:a,getSnapshot:i};return D.queue=U,_g(sg.bind(null,p,U,t),[t]),p.flags|=2048,Ba(9,og.bind(null,p,U,a,i),{destroy:void 0},null),a},useId:function(){var t=Ii(),i=gr.identifierPrefix;if(Qn){var a=ko,p=Mo;a=(p&~(1<<32-gn(p)-1)).toString(32)+a,i=":"+i+"R"+a,a=dc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=XE++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return Ii().memoizedState=nO.bind(null,En)}};ia.useMemoCache=Bh,ia.useHostTransitionStatus=Qh,ia.useFormState=yg,ia.useActionState=yg,ia.useOptimistic=function(t){var i=Ii();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Yh.bind(null,En,!0,a),a.dispatch=i,[t,i]};var ms={readContext:Ai,use:mc,useCallback:Ag,useContext:Ai,useEffect:zh,useImperativeHandle:Og,useInsertionEffect:wg,useLayoutEffect:Sg,useMemo:Tg,useReducer:gc,useRef:bg,useState:function(){return gc(Bo)},useDebugValue:Hh,useDeferredValue:function(t,i){var a=Gr();return jg(a,lr.memoizedState,t,i)},useTransition:function(){var t=gc(Bo)[0],i=Gr().memoizedState;return[typeof t=="boolean"?t:Fu(t),i]},useSyncExternalStore:rg,useId:Pg};ms.useCacheRefresh=Dg,ms.useMemoCache=Bh,ms.useHostTransitionStatus=Qh,ms.useFormState=mg,ms.useActionState=mg,ms.useOptimistic=function(t,i){var a=Gr();return lg(a,lr,t,i)};var oa={readContext:Ai,use:mc,useCallback:Ag,useContext:Ai,useEffect:zh,useImperativeHandle:Og,useInsertionEffect:wg,useLayoutEffect:Sg,useMemo:Tg,useReducer:Lh,useRef:bg,useState:function(){return Lh(Bo)},useDebugValue:Hh,useDeferredValue:function(t,i){var a=Gr();return lr===null?Gh(a,t,i):jg(a,lr.memoizedState,t,i)},useTransition:function(){var t=Lh(Bo)[0],i=Gr().memoizedState;return[typeof t=="boolean"?t:Fu(t),i]},useSyncExternalStore:rg,useId:Pg};oa.useCacheRefresh=Dg,oa.useMemoCache=Bh,oa.useHostTransitionStatus=Qh,oa.useFormState=vg,oa.useActionState=vg,oa.useOptimistic=function(t,i){var a=Gr();return lr!==null?lg(a,lr,t,i):(a.baseState=t,[t,a.queue.dispatch])};function Wh(t,i,a,p){i=t.memoizedState,a=a(p,i),a=a==null?i:N({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Xh={isMounted:function(t){return(t=t._reactInternals)?ce(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var p=zi(),D=bs(p);D.payload=i,a!=null&&(D.callback=a),i=_s(t,D,p),i!==null&&(Pi(i,t,p),Gu(i,t,p))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var p=zi(),D=bs(p);D.tag=1,D.payload=i,a!=null&&(D.callback=a),i=_s(t,D,p),i!==null&&(Pi(i,t,p),Gu(i,t,p))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=zi(),p=bs(a);p.tag=2,i!=null&&(p.callback=i),i=_s(t,p,a),i!==null&&(Pi(i,t,a),Gu(i,t,a))}};function Mg(t,i,a,p,D,U,ae){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(p,U,ae):i.prototype&&i.prototype.isPureReactComponent?!Ru(a,p)||!Ru(D,U):!0}function kg(t,i,a,p){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,p),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,p),i.state!==t&&Xh.enqueueReplaceState(i,i.state,null)}function sa(t,i){var a=i;if("ref"in i){a={};for(var p in i)p!=="ref"&&(a[p]=i[p])}if(t=t.defaultProps){a===i&&(a=N({},a));for(var D in t)a[D]===void 0&&(a[D]=t[D])}return a}var wc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Vg(t){wc(t)}function Bg(t){console.error(t)}function Ug(t){wc(t)}function Sc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(p){setTimeout(function(){throw p})}}function Lg(t,i,a){try{var p=t.onCaughtError;p(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function Jh(t,i,a){return a=bs(a),a.tag=3,a.payload={element:null},a.callback=function(){Sc(t,i)},a}function Fg(t){return t=bs(t),t.tag=3,t}function qg(t,i,a,p){var D=a.type.getDerivedStateFromError;if(typeof D=="function"){var U=p.value;t.payload=function(){return D(U)},t.callback=function(){Lg(i,a,p)}}var ae=a.stateNode;ae!==null&&typeof ae.componentDidCatch=="function"&&(t.callback=function(){Lg(i,a,p),typeof D!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var be=p.stack;this.componentDidCatch(p.value,{componentStack:be!==null?be:""})})}function iO(t,i,a,p,D){if(a.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(i=a.alternate,i!==null&&Hu(i,a,D,!0),a=Ji.current,a!==null){switch(a.tag){case 13:return _o===null?Np():a.alternate===null&&Cr===0&&(Cr=3),a.flags&=-257,a.flags|=65536,a.lanes=D,p===xh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([p]):i.add(p),Ip(t,p,D)),!1;case 22:return a.flags|=65536,p===xh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([p])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([p]):a.add(p)),Ip(t,p,D)),!1}throw Error(o(435,a.tag))}return Ip(t,p,D),Np(),!1}if(Qn)return i=Ji.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=D,p!==jh&&(t=Error(o(422),{cause:p}),Cu(Yi(t,a)))):(p!==jh&&(i=Error(o(423),{cause:p}),Cu(Yi(i,a))),t=t.current.alternate,t.flags|=65536,D&=-D,t.lanes|=D,p=Yi(p,a),D=Jh(t.stateNode,p,D),pp(t,D),Cr!==4&&(Cr=2)),!1;var U=Error(o(520),{cause:p});if(U=Yi(U,a),el===null?el=[U]:el.push(U),Cr!==4&&(Cr=2),i===null)return!0;p=Yi(p,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=D&-D,a.lanes|=t,t=Jh(a.stateNode,p,t),pp(a,t),!1;case 1:if(i=a.type,U=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Ts===null||!Ts.has(U))))return a.flags|=65536,D&=-D,a.lanes|=D,D=Fg(D),qg(D,t,a,p),pp(a,D),!1}a=a.return}while(a!==null);return!1}var zg=Error(o(461)),ui=!1;function mi(t,i,a,p){i.child=t===null?Ym(i,null,a,p):ta(i,t.child,a,p)}function Hg(t,i,a,p,D){a=a.render;var U=i.ref;if("ref"in p){var ae={};for(var be in p)be!=="ref"&&(ae[be]=p[be])}else ae=p;return ua(i),p=Ih(t,i,a,ae,U,D),be=Mh(),t!==null&&!ui?(kh(t,i,D),Uo(t,i,D)):(Qn&&be&&Ah(i),i.flags|=1,mi(t,i,p,D),i.child)}function Gg(t,i,a,p,D){if(t===null){var U=a.type;return typeof U=="function"&&!wp(U)&&U.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=U,Kg(t,i,U,p,D)):(t=jc(a.type,null,p,i,i.mode,D),t.ref=i.ref,t.return=i,i.child=t)}if(U=t.child,!ap(t,D)){var ae=U.memoizedProps;if(a=a.compare,a=a!==null?a:Ru,a(ae,p)&&t.ref===i.ref)return Uo(t,i,D)}return i.flags|=1,t=Os(U,p),t.ref=i.ref,t.return=i,i.child=t}function Kg(t,i,a,p,D){if(t!==null){var U=t.memoizedProps;if(Ru(U,p)&&t.ref===i.ref)if(ui=!1,i.pendingProps=p=U,ap(t,D))(t.flags&131072)!==0&&(ui=!0);else return i.lanes=t.lanes,Uo(t,i,D)}return Zh(t,i,a,p,D)}function Qg(t,i,a){var p=i.pendingProps,D=p.children,U=(i.stateNode._pendingVisibility&2)!==0,ae=t!==null?t.memoizedState:null;if(zu(t,i),p.mode==="hidden"||U){if((i.flags&128)!==0){if(p=ae!==null?ae.baseLanes|a:a,t!==null){for(D=i.child=t.child,U=0;D!==null;)U=U|D.lanes|D.childLanes,D=D.sibling;i.childLanes=U&~p}else i.childLanes=0,i.child=null;return Yg(t,i,p,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&hc(i,ae!==null?ae.cachePool:null),ae!==null?Wm(i,ae):$h(),Xm(i);else return i.lanes=i.childLanes=536870912,Yg(t,i,ae!==null?ae.baseLanes|a:a,a)}else ae!==null?(hc(i,ae.cachePool),Wm(i,ae),ds(),i.memoizedState=null):(t!==null&&hc(i,null),$h(),ds());return mi(t,i,D,a),i.child}function Yg(t,i,a,p){var D=Nh();return D=D===null?null:{parent:ri._currentValue,pool:D},i.memoizedState={baseLanes:a,cachePool:D},t!==null&&hc(i,null),$h(),Xm(i),t!==null&&Hu(t,i,p,!0),null}function zu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function Zh(t,i,a,p,D){return ua(i),a=Ih(t,i,a,p,void 0,D),p=Mh(),t!==null&&!ui?(kh(t,i,D),Uo(t,i,D)):(Qn&&p&&Ah(i),i.flags|=1,mi(t,i,a,D),i.child)}function Wg(t,i,a,p,D,U){return ua(i),i.updateQueue=null,a=ng(i,p,a,D),tg(t),p=Mh(),t!==null&&!ui?(kh(t,i,U),Uo(t,i,U)):(Qn&&p&&Ah(i),i.flags|=1,mi(t,i,a,U),i.child)}function Xg(t,i,a,p,D){if(ua(i),i.stateNode===null){var U=Ra,ae=a.contextType;typeof ae=="object"&&ae!==null&&(U=Ai(ae)),U=new a(p,U),i.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=Xh,i.stateNode=U,U._reactInternals=i,U=i.stateNode,U.props=p,U.state=i.memoizedState,U.refs={},fp(i),ae=a.contextType,U.context=typeof ae=="object"&&ae!==null?Ai(ae):Ra,U.state=i.memoizedState,ae=a.getDerivedStateFromProps,typeof ae=="function"&&(Wh(i,a,ae,p),U.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(ae=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),ae!==U.state&&Xh.enqueueReplaceState(U,U.state,null),Qu(i,p,U,D),Ku(),U.state=i.memoizedState),typeof U.componentDidMount=="function"&&(i.flags|=4194308),p=!0}else if(t===null){U=i.stateNode;var be=i.memoizedProps,Ce=sa(a,be);U.props=Ce;var ze=U.context,ut=a.contextType;ae=Ra,typeof ut=="object"&&ut!==null&&(ae=Ai(ut));var bt=a.getDerivedStateFromProps;ut=typeof bt=="function"||typeof U.getSnapshotBeforeUpdate=="function",be=i.pendingProps!==be,ut||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(be||ze!==ae)&&kg(i,U,p,ae),vs=!1;var Ze=i.memoizedState;U.state=Ze,Qu(i,p,U,D),Ku(),ze=i.memoizedState,be||Ze!==ze||vs?(typeof bt=="function"&&(Wh(i,a,bt,p),ze=i.memoizedState),(Ce=vs||Mg(i,a,Ce,p,Ze,ze,ae))?(ut||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(i.flags|=4194308)):(typeof U.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=p,i.memoizedState=ze),U.props=p,U.state=ze,U.context=ae,p=Ce):(typeof U.componentDidMount=="function"&&(i.flags|=4194308),p=!1)}else{U=i.stateNode,hp(t,i),ae=i.memoizedProps,ut=sa(a,ae),U.props=ut,bt=i.pendingProps,Ze=U.context,ze=a.contextType,Ce=Ra,typeof ze=="object"&&ze!==null&&(Ce=Ai(ze)),be=a.getDerivedStateFromProps,(ze=typeof be=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(ae!==bt||Ze!==Ce)&&kg(i,U,p,Ce),vs=!1,Ze=i.memoizedState,U.state=Ze,Qu(i,p,U,D),Ku();var at=i.memoizedState;ae!==bt||Ze!==at||vs||t!==null&&t.dependencies!==null&&Ec(t.dependencies)?(typeof be=="function"&&(Wh(i,a,be,p),at=i.memoizedState),(ut=vs||Mg(i,a,ut,p,Ze,at,Ce)||t!==null&&t.dependencies!==null&&Ec(t.dependencies))?(ze||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(p,at,Ce),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(p,at,Ce)),typeof U.componentDidUpdate=="function"&&(i.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof U.componentDidUpdate!="function"||ae===t.memoizedProps&&Ze===t.memoizedState||(i.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||ae===t.memoizedProps&&Ze===t.memoizedState||(i.flags|=1024),i.memoizedProps=p,i.memoizedState=at),U.props=p,U.state=at,U.context=Ce,p=ut):(typeof U.componentDidUpdate!="function"||ae===t.memoizedProps&&Ze===t.memoizedState||(i.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||ae===t.memoizedProps&&Ze===t.memoizedState||(i.flags|=1024),p=!1)}return U=p,zu(t,i),p=(i.flags&128)!==0,U||p?(U=i.stateNode,a=p&&typeof a.getDerivedStateFromError!="function"?null:U.render(),i.flags|=1,t!==null&&p?(i.child=ta(i,t.child,null,D),i.child=ta(i,null,a,D)):mi(t,i,a,D),i.memoizedState=U.state,t=i.child):t=Uo(t,i,D),t}function Jg(t,i,a,p){return Nu(),i.flags|=256,mi(t,i,a,p),i.child}var ep={dehydrated:null,treeContext:null,retryLane:0};function tp(t){return{baseLanes:t,cachePool:eg()}}function np(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=no),t}function Zg(t,i,a){var p=i.pendingProps,D=!1,U=(i.flags&128)!==0,ae;if((ae=U)||(ae=t!==null&&t.memoizedState===null?!1:(ni.current&2)!==0),ae&&(D=!0,i.flags&=-129),ae=(i.flags&32)!==0,i.flags&=-33,t===null){if(Qn){if(D?ps(i):ds(),Qn){var be=yi,Ce;if(Ce=be){e:{for(Ce=be,be=bo;Ce.nodeType!==8;){if(!be){be=null;break e}if(Ce=fo(Ce.nextSibling),Ce===null){be=null;break e}}be=Ce}be!==null?(i.memoizedState={dehydrated:be,treeContext:Js!==null?{id:Mo,overflow:ko}:null,retryLane:536870912},Ce=to(18,null,null,0),Ce.stateNode=be,Ce.return=i,i.child=Ce,Ri=i,yi=null,Ce=!0):Ce=!1}Ce||ea(i)}if(be=i.memoizedState,be!==null&&(be=be.dehydrated,be!==null))return be.data==="$!"?i.lanes=16:i.lanes=536870912,null;Vo(i)}return be=p.children,p=p.fallback,D?(ds(),D=i.mode,be=ip({mode:"hidden",children:be},D),p=ca(p,D,a,null),be.return=i,p.return=i,be.sibling=p,i.child=be,D=i.child,D.memoizedState=tp(a),D.childLanes=np(t,ae,a),i.memoizedState=ep,p):(ps(i),rp(i,be))}if(Ce=t.memoizedState,Ce!==null&&(be=Ce.dehydrated,be!==null)){if(U)i.flags&256?(ps(i),i.flags&=-257,i=op(t,i,a)):i.memoizedState!==null?(ds(),i.child=t.child,i.flags|=128,i=null):(ds(),D=p.fallback,be=i.mode,p=ip({mode:"visible",children:p.children},be),D=ca(D,be,a,null),D.flags|=2,p.return=i,D.return=i,p.sibling=D,i.child=p,ta(i,t.child,null,a),p=i.child,p.memoizedState=tp(a),p.childLanes=np(t,ae,a),i.memoizedState=ep,i=D);else if(ps(i),be.data==="$!"){if(ae=be.nextSibling&&be.nextSibling.dataset,ae)var ze=ae.dgst;ae=ze,p=Error(o(419)),p.stack="",p.digest=ae,Cu({value:p,source:null,stack:null}),i=op(t,i,a)}else if(ui||Hu(t,i,a,!1),ae=(a&t.childLanes)!==0,ui||ae){if(ae=gr,ae!==null){if(p=a&-a,(p&42)!==0)p=1;else switch(p){case 2:p=1;break;case 8:p=4;break;case 32:p=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:p=64;break;case 268435456:p=134217728;break;default:p=0}if(p=(p&(ae.suspendedLanes|a))!==0?0:p,p!==0&&p!==Ce.retryLane)throw Ce.retryLane=p,hs(t,p),Pi(ae,t,p),zg}be.data==="$?"||Np(),i=op(t,i,a)}else be.data==="$?"?(i.flags|=128,i.child=t.child,i=bO.bind(null,t),be._reactRetry=i,i=null):(t=Ce.treeContext,yi=fo(be.nextSibling),Ri=i,Qn=!0,lo=null,bo=!1,t!==null&&(Wi[Xi++]=Mo,Wi[Xi++]=ko,Wi[Xi++]=Js,Mo=t.id,ko=t.overflow,Js=i),i=rp(i,p.children),i.flags|=4096);return i}return D?(ds(),D=p.fallback,be=i.mode,Ce=t.child,ze=Ce.sibling,p=Os(Ce,{mode:"hidden",children:p.children}),p.subtreeFlags=Ce.subtreeFlags&31457280,ze!==null?D=Os(ze,D):(D=ca(D,be,a,null),D.flags|=2),D.return=i,p.return=i,p.sibling=D,i.child=p,p=D,D=i.child,be=t.child.memoizedState,be===null?be=tp(a):(Ce=be.cachePool,Ce!==null?(ze=ri._currentValue,Ce=Ce.parent!==ze?{parent:ze,pool:ze}:Ce):Ce=eg(),be={baseLanes:be.baseLanes|a,cachePool:Ce}),D.memoizedState=be,D.childLanes=np(t,ae,a),i.memoizedState=ep,p):(ps(i),a=t.child,t=a.sibling,a=Os(a,{mode:"visible",children:p.children}),a.return=i,a.sibling=null,t!==null&&(ae=i.deletions,ae===null?(i.deletions=[t],i.flags|=16):ae.push(t)),i.child=a,i.memoizedState=null,a)}function rp(t,i){return i=ip({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ip(t,i){return Av(t,i,0,null)}function op(t,i,a){return ta(i,t.child,null,a),t=rp(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function ev(t,i,a){t.lanes|=i;var p=t.alternate;p!==null&&(p.lanes|=i),lp(t.return,i,a)}function sp(t,i,a,p,D){var U=t.memoizedState;U===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:p,tail:a,tailMode:D}:(U.isBackwards=i,U.rendering=null,U.renderingStartTime=0,U.last=p,U.tail=a,U.tailMode=D)}function tv(t,i,a){var p=i.pendingProps,D=p.revealOrder,U=p.tail;if(mi(t,i,p.children,a),p=ni.current,(p&2)!==0)p=p&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ev(t,a,i);else if(t.tag===19)ev(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}p&=1}switch(we(ni,p),D){case"forwards":for(a=i.child,D=null;a!==null;)t=a.alternate,t!==null&&fc(t)===null&&(D=a),a=a.sibling;a=D,a===null?(D=i.child,i.child=null):(D=a.sibling,a.sibling=null),sp(i,!1,D,a,U);break;case"backwards":for(a=null,D=i.child,i.child=null;D!==null;){if(t=D.alternate,t!==null&&fc(t)===null){i.child=D;break}t=D.sibling,D.sibling=a,a=D,D=t}sp(i,!0,a,null,U);break;case"together":sp(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Uo(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),As|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Hu(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(o(153));if(i.child!==null){for(t=i.child,a=Os(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Os(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ap(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ec(t)))}function oO(t,i,a){switch(i.tag){case 3:X(i,i.stateNode.containerInfo),gs(i,ri,t.memoizedState.cache),Nu();break;case 27:case 5:Oe(i);break;case 4:X(i,i.stateNode.containerInfo);break;case 10:gs(i,i.type,i.memoizedProps.value);break;case 13:var p=i.memoizedState;if(p!==null)return p.dehydrated!==null?(ps(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Zg(t,i,a):(ps(i),t=Uo(t,i,a),t!==null?t.sibling:null);ps(i);break;case 19:var D=(t.flags&128)!==0;if(p=(a&i.childLanes)!==0,p||(Hu(t,i,a,!1),p=(a&i.childLanes)!==0),D){if(p)return tv(t,i,a);i.flags|=128}if(D=i.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),we(ni,ni.current),p)break;return null;case 22:case 23:return i.lanes=0,Qg(t,i,a);case 24:gs(i,ri,t.memoizedState.cache)}return Uo(t,i,a)}function nv(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)ui=!0;else{if(!ap(t,a)&&(i.flags&128)===0)return ui=!1,oO(t,i,a);ui=(t.flags&131072)!==0}else ui=!1,Qn&&(i.flags&1048576)!==0&&Um(i,sc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var p=i.elementType,D=p._init;if(p=D(p._payload),i.type=p,typeof p=="function")wp(p)?(t=sa(p,t),i.tag=1,i=Xg(null,i,p,t,a)):(i.tag=0,i=Zh(null,i,p,t,a));else{if(p!=null){if(D=p.$$typeof,D===d){i.tag=11,i=Hg(null,i,p,t,a);break e}else if(D===g){i.tag=14,i=Gg(null,i,p,t,a);break e}}throw i=v(p)||p,Error(o(306,i,""))}}return i;case 0:return Zh(t,i,i.type,i.pendingProps,a);case 1:return p=i.type,D=sa(p,i.pendingProps),Xg(t,i,p,D,a);case 3:e:{if(X(i,i.stateNode.containerInfo),t===null)throw Error(o(387));var U=i.pendingProps;D=i.memoizedState,p=D.element,hp(t,i),Qu(i,U,null,a);var ae=i.memoizedState;if(U=ae.cache,gs(i,ri,U),U!==D.cache&&cp(i,[ri],a,!0),Ku(),U=ae.element,D.isDehydrated)if(D={element:U,isDehydrated:!1,cache:ae.cache},i.updateQueue.baseState=D,i.memoizedState=D,i.flags&256){i=Jg(t,i,U,a);break e}else if(U!==p){p=Yi(Error(o(424)),i),Cu(p),i=Jg(t,i,U,a);break e}else for(yi=fo(i.stateNode.containerInfo.firstChild),Ri=i,Qn=!0,lo=null,bo=!0,a=Ym(i,null,U,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Nu(),U===p){i=Uo(t,i,a);break e}mi(t,i,U,a)}i=i.child}return i;case 26:return zu(t,i),t===null?(a=ob(i.type,null,i.pendingProps,null))?i.memoizedState=a:Qn||(a=i.type,t=i.pendingProps,p=Bc(_e.current).createElement(a),p[Se]=i,p[xe]=t,gi(p,a,t),mt(p),i.stateNode=p):i.memoizedState=ob(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Oe(i),t===null&&Qn&&(p=i.stateNode=nb(i.type,i.pendingProps,_e.current),Ri=i,bo=!0,yi=fo(p.firstChild)),p=i.pendingProps.children,t!==null||Qn?mi(t,i,p,a):i.child=ta(i,null,p,a),zu(t,i),i.child;case 5:return t===null&&Qn&&((D=p=yi)&&(p=IO(p,i.type,i.pendingProps,bo),p!==null?(i.stateNode=p,Ri=i,yi=fo(p.firstChild),bo=!1,D=!0):D=!1),D||ea(i)),Oe(i),D=i.type,U=i.pendingProps,ae=t!==null?t.memoizedProps:null,p=U.children,Kp(D,U)?p=null:ae!==null&&Kp(D,ae)&&(i.flags|=32),i.memoizedState!==null&&(D=Ih(t,i,JE,null,null,a),ll._currentValue=D),zu(t,i),mi(t,i,p,a),i.child;case 6:return t===null&&Qn&&((t=a=yi)&&(a=MO(a,i.pendingProps,bo),a!==null?(i.stateNode=a,Ri=i,yi=null,t=!0):t=!1),t||ea(i)),null;case 13:return Zg(t,i,a);case 4:return X(i,i.stateNode.containerInfo),p=i.pendingProps,t===null?i.child=ta(i,null,p,a):mi(t,i,p,a),i.child;case 11:return Hg(t,i,i.type,i.pendingProps,a);case 7:return mi(t,i,i.pendingProps,a),i.child;case 8:return mi(t,i,i.pendingProps.children,a),i.child;case 12:return mi(t,i,i.pendingProps.children,a),i.child;case 10:return p=i.pendingProps,gs(i,i.type,p.value),mi(t,i,p.children,a),i.child;case 9:return D=i.type._context,p=i.pendingProps.children,ua(i),D=Ai(D),p=p(D),i.flags|=1,mi(t,i,p,a),i.child;case 14:return Gg(t,i,i.type,i.pendingProps,a);case 15:return Kg(t,i,i.type,i.pendingProps,a);case 19:return tv(t,i,a);case 22:return Qg(t,i,a);case 24:return ua(i),p=Ai(ri),t===null?(D=Nh(),D===null&&(D=gr,U=Ph(),D.pooledCache=U,U.refCount++,U!==null&&(D.pooledCacheLanes|=a),D=U),i.memoizedState={parent:p,cache:D},fp(i),gs(i,ri,D)):((t.lanes&a)!==0&&(hp(t,i),Qu(i,null,null,a),Ku()),D=t.memoizedState,U=i.memoizedState,D.parent!==p?(D={parent:p,cache:p},i.memoizedState=D,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=D),gs(i,ri,p)):(p=U.cache,gs(i,ri,p),p!==D.cache&&cp(i,[ri],a,!0))),mi(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}var up=fe(null),aa=null,Lo=null;function gs(t,i,a){we(up,i._currentValue),i._currentValue=a}function Fo(t){t._currentValue=up.current,ve(up)}function lp(t,i,a){for(;t!==null;){var p=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,p!==null&&(p.childLanes|=i)):p!==null&&(p.childLanes&i)!==i&&(p.childLanes|=i),t===a)break;t=t.return}}function cp(t,i,a,p){var D=t.child;for(D!==null&&(D.return=t);D!==null;){var U=D.dependencies;if(U!==null){var ae=D.child;U=U.firstContext;e:for(;U!==null;){var be=U;U=D;for(var Ce=0;Ce<i.length;Ce++)if(be.context===i[Ce]){U.lanes|=a,be=U.alternate,be!==null&&(be.lanes|=a),lp(U.return,a,t),p||(ae=null);break e}U=be.next}}else if(D.tag===18){if(ae=D.return,ae===null)throw Error(o(341));ae.lanes|=a,U=ae.alternate,U!==null&&(U.lanes|=a),lp(ae,a,t),ae=null}else ae=D.child;if(ae!==null)ae.return=D;else for(ae=D;ae!==null;){if(ae===t){ae=null;break}if(D=ae.sibling,D!==null){D.return=ae.return,ae=D;break}ae=ae.return}D=ae}}function Hu(t,i,a,p){t=null;for(var D=i,U=!1;D!==null;){if(!U){if((D.flags&524288)!==0)U=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var ae=D.alternate;if(ae===null)throw Error(o(387));if(ae=ae.memoizedProps,ae!==null){var be=D.type;Ui(D.pendingProps.value,ae.value)||(t!==null?t.push(be):t=[be])}}else if(D===L.current){if(ae=D.alternate,ae===null)throw Error(o(387));ae.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(t!==null?t.push(ll):t=[ll])}D=D.return}t!==null&&cp(i,t,a,p),i.flags|=262144}function Ec(t){for(t=t.firstContext;t!==null;){if(!Ui(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ua(t){aa=t,Lo=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ai(t){return rv(aa,t)}function Oc(t,i){return aa===null&&ua(t),rv(t,i)}function rv(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Lo===null){if(t===null)throw Error(o(308));Lo=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Lo=Lo.next=i;return a}var vs=!1;function fp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hp(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function bs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _s(t,i,a){var p=t.updateQueue;if(p===null)return null;if(p=p.shared,(xr&2)!==0){var D=p.pending;return D===null?i.next=i:(i.next=D.next,D.next=i),p.pending=i,i=ic(t),Vm(t,null,a),i}return rc(t,p,i,a),ic(t)}function Gu(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var p=i.lanes;p&=t.pendingLanes,a|=p,i.lanes=a,hi(t,a)}}function pp(t,i){var a=t.updateQueue,p=t.alternate;if(p!==null&&(p=p.updateQueue,a===p)){var D=null,U=null;if(a=a.firstBaseUpdate,a!==null){do{var ae={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};U===null?D=U=ae:U=U.next=ae,a=a.next}while(a!==null);U===null?D=U=i:U=U.next=i}else D=U=i;a={baseState:p.baseState,firstBaseUpdate:D,lastBaseUpdate:U,shared:p.shared,callbacks:p.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var dp=!1;function Ku(){if(dp){var t=Ma;if(t!==null)throw t}}function Qu(t,i,a,p){dp=!1;var D=t.updateQueue;vs=!1;var U=D.firstBaseUpdate,ae=D.lastBaseUpdate,be=D.shared.pending;if(be!==null){D.shared.pending=null;var Ce=be,ze=Ce.next;Ce.next=null,ae===null?U=ze:ae.next=ze,ae=Ce;var ut=t.alternate;ut!==null&&(ut=ut.updateQueue,be=ut.lastBaseUpdate,be!==ae&&(be===null?ut.firstBaseUpdate=ze:be.next=ze,ut.lastBaseUpdate=Ce))}if(U!==null){var bt=D.baseState;ae=0,ut=ze=Ce=null,be=U;do{var Ze=be.lane&-536870913,at=Ze!==be.lane;if(at?(Fn&Ze)===Ze:(p&Ze)===Ze){Ze!==0&&Ze===Ia&&(dp=!0),ut!==null&&(ut=ut.next={lane:0,tag:be.tag,payload:be.payload,callback:null,next:null});e:{var Lt=t,cn=be;Ze=i;var Ir=a;switch(cn.tag){case 1:if(Lt=cn.payload,typeof Lt=="function"){bt=Lt.call(Ir,bt,Ze);break e}bt=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=cn.payload,Ze=typeof Lt=="function"?Lt.call(Ir,bt,Ze):Lt,Ze==null)break e;bt=N({},bt,Ze);break e;case 2:vs=!0}}Ze=be.callback,Ze!==null&&(t.flags|=64,at&&(t.flags|=8192),at=D.callbacks,at===null?D.callbacks=[Ze]:at.push(Ze))}else at={lane:Ze,tag:be.tag,payload:be.payload,callback:be.callback,next:null},ut===null?(ze=ut=at,Ce=bt):ut=ut.next=at,ae|=Ze;if(be=be.next,be===null){if(be=D.shared.pending,be===null)break;at=be,be=at.next,at.next=null,D.lastBaseUpdate=at,D.shared.pending=null}}while(!0);ut===null&&(Ce=bt),D.baseState=Ce,D.firstBaseUpdate=ze,D.lastBaseUpdate=ut,U===null&&(D.shared.lanes=0),As|=ae,t.lanes=ae,t.memoizedState=bt}}function iv(t,i){if(typeof t!="function")throw Error(o(191,t));t.call(i)}function ov(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)iv(a[t],i)}function Yu(t,i){try{var a=i.updateQueue,p=a!==null?a.lastEffect:null;if(p!==null){var D=p.next;a=D;do{if((a.tag&t)===t){p=void 0;var U=a.create,ae=a.inst;p=U(),ae.destroy=p}a=a.next}while(a!==D)}}catch(be){hr(i,i.return,be)}}function ws(t,i,a){try{var p=i.updateQueue,D=p!==null?p.lastEffect:null;if(D!==null){var U=D.next;p=U;do{if((p.tag&t)===t){var ae=p.inst,be=ae.destroy;if(be!==void 0){ae.destroy=void 0,D=i;var Ce=a;try{be()}catch(ze){hr(D,Ce,ze)}}}p=p.next}while(p!==U)}}catch(ze){hr(i,i.return,ze)}}function sv(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{ov(i,a)}catch(p){hr(t,t.return,p)}}}function av(t,i,a){a.props=sa(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(p){hr(t,i,p)}}function la(t,i){try{var a=t.ref;if(a!==null){var p=t.stateNode;switch(t.tag){case 26:case 27:case 5:var D=p;break;default:D=p}typeof a=="function"?t.refCleanup=a(D):a.current=D}}catch(U){hr(t,i,U)}}function Li(t,i){var a=t.ref,p=t.refCleanup;if(a!==null)if(typeof p=="function")try{p()}catch(D){hr(t,i,D)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(D){hr(t,i,D)}else a.current=null}function uv(t){var i=t.type,a=t.memoizedProps,p=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&p.focus();break e;case"img":a.src?p.src=a.src:a.srcSet&&(p.srcset=a.srcSet)}}catch(D){hr(t,t.return,D)}}function lv(t,i,a){try{var p=t.stateNode;RO(p,t.type,a,i),p[xe]=i}catch(D){hr(t,t.return,D)}}function cv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function yp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mp(t,i,a){var p=t.tag;if(p===5||p===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Vc));else if(p!==4&&p!==27&&(t=t.child,t!==null))for(mp(t,i,a),t=t.sibling;t!==null;)mp(t,i,a),t=t.sibling}function Ac(t,i,a){var p=t.tag;if(p===5||p===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(p!==4&&p!==27&&(t=t.child,t!==null))for(Ac(t,i,a),t=t.sibling;t!==null;)Ac(t,i,a),t=t.sibling}var qo=!1,Nr=!1,gp=!1,fv=typeof WeakSet=="function"?WeakSet:Set,li=null,hv=!1;function sO(t,i){if(t=t.containerInfo,Hp=Hc,t=$m(t),bh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var p=a.getSelection&&a.getSelection();if(p&&p.rangeCount!==0){a=p.anchorNode;var D=p.anchorOffset,U=p.focusNode;p=p.focusOffset;try{a.nodeType,U.nodeType}catch{a=null;break e}var ae=0,be=-1,Ce=-1,ze=0,ut=0,bt=t,Ze=null;t:for(;;){for(var at;bt!==a||D!==0&&bt.nodeType!==3||(be=ae+D),bt!==U||p!==0&&bt.nodeType!==3||(Ce=ae+p),bt.nodeType===3&&(ae+=bt.nodeValue.length),(at=bt.firstChild)!==null;)Ze=bt,bt=at;for(;;){if(bt===t)break t;if(Ze===a&&++ze===D&&(be=ae),Ze===U&&++ut===p&&(Ce=ae),(at=bt.nextSibling)!==null)break;bt=Ze,Ze=bt.parentNode}bt=at}a=be===-1||Ce===-1?null:{start:be,end:Ce}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gp={focusedElem:t,selectionRange:a},Hc=!1,li=i;li!==null;)if(i=li,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,li=t;else for(;li!==null;){switch(i=li,U=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&U!==null){t=void 0,a=i,D=U.memoizedProps,U=U.memoizedState,p=a.stateNode;try{var Lt=sa(a.type,D,a.elementType===a.type);t=p.getSnapshotBeforeUpdate(Lt,U),p.__reactInternalSnapshotBeforeUpdate=t}catch(cn){hr(a,a.return,cn)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Wp(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=i.sibling,t!==null){t.return=i.return,li=t;break}li=i.return}return Lt=hv,hv=!1,Lt}function pv(t,i,a){var p=a.flags;switch(a.tag){case 0:case 11:case 15:Ho(t,a),p&4&&Yu(5,a);break;case 1:if(Ho(t,a),p&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(be){hr(a,a.return,be)}else{var D=sa(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(D,i,t.__reactInternalSnapshotBeforeUpdate)}catch(be){hr(a,a.return,be)}}p&64&&sv(a),p&512&&la(a,a.return);break;case 3:if(Ho(t,a),p&64&&(p=a.updateQueue,p!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{ov(p,t)}catch(be){hr(a,a.return,be)}}break;case 26:Ho(t,a),p&512&&la(a,a.return);break;case 27:case 5:Ho(t,a),i===null&&p&4&&uv(a),p&512&&la(a,a.return);break;case 12:Ho(t,a);break;case 13:Ho(t,a),p&4&&mv(t,a);break;case 22:if(D=a.memoizedState!==null||qo,!D){i=i!==null&&i.memoizedState!==null||Nr;var U=qo,ae=Nr;qo=D,(Nr=i)&&!ae?Ss(t,a,(a.subtreeFlags&8772)!==0):Ho(t,a),qo=U,Nr=ae}p&512&&(a.memoizedProps.mode==="manual"?la(a,a.return):Li(a,a.return));break;default:Ho(t,a)}}function dv(t){var i=t.alternate;i!==null&&(t.alternate=null,dv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&nt(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Kr=null,Fi=!1;function zo(t,i,a){for(a=a.child;a!==null;)yv(t,i,a),a=a.sibling}function yv(t,i,a){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(xt,a)}catch{}switch(a.tag){case 26:Nr||Li(a,i),zo(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nr||Li(a,i);var p=Kr,D=Fi;for(Kr=a.stateNode,zo(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);nt(a),Kr=p,Fi=D;break;case 5:Nr||Li(a,i);case 6:D=Kr;var U=Fi;if(Kr=null,zo(t,i,a),Kr=D,Fi=U,Kr!==null)if(Fi)try{t=Kr,p=a.stateNode,t.nodeType===8?t.parentNode.removeChild(p):t.removeChild(p)}catch(ae){hr(a,i,ae)}else try{Kr.removeChild(a.stateNode)}catch(ae){hr(a,i,ae)}break;case 18:Kr!==null&&(Fi?(i=Kr,a=a.stateNode,i.nodeType===8?Yp(i.parentNode,a):i.nodeType===1&&Yp(i,a),pl(i)):Yp(Kr,a.stateNode));break;case 4:p=Kr,D=Fi,Kr=a.stateNode.containerInfo,Fi=!0,zo(t,i,a),Kr=p,Fi=D;break;case 0:case 11:case 14:case 15:Nr||ws(2,a,i),Nr||ws(4,a,i),zo(t,i,a);break;case 1:Nr||(Li(a,i),p=a.stateNode,typeof p.componentWillUnmount=="function"&&av(a,i,p)),zo(t,i,a);break;case 21:zo(t,i,a);break;case 22:Nr||Li(a,i),Nr=(p=Nr)||a.memoizedState!==null,zo(t,i,a),Nr=p;break;default:zo(t,i,a)}}function mv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{pl(t)}catch(a){hr(i,i.return,a)}}function aO(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new fv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new fv),i;default:throw Error(o(435,t.tag))}}function vp(t,i){var a=aO(t);i.forEach(function(p){var D=_O.bind(null,t,p);a.has(p)||(a.add(p),p.then(D,D))})}function Zi(t,i){var a=i.deletions;if(a!==null)for(var p=0;p<a.length;p++){var D=a[p],U=t,ae=i,be=ae;e:for(;be!==null;){switch(be.tag){case 27:case 5:Kr=be.stateNode,Fi=!1;break e;case 3:Kr=be.stateNode.containerInfo,Fi=!0;break e;case 4:Kr=be.stateNode.containerInfo,Fi=!0;break e}be=be.return}if(Kr===null)throw Error(o(160));yv(U,ae,D),Kr=null,Fi=!1,U=D.alternate,U!==null&&(U.return=null),D.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)gv(i,t),i=i.sibling}var co=null;function gv(t,i){var a=t.alternate,p=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Zi(i,t),eo(t),p&4&&(ws(3,t,t.return),Yu(3,t),ws(5,t,t.return));break;case 1:Zi(i,t),eo(t),p&512&&(Nr||a===null||Li(a,a.return)),p&64&&qo&&(t=t.updateQueue,t!==null&&(p=t.callbacks,p!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?p:a.concat(p))));break;case 26:var D=co;if(Zi(i,t),eo(t),p&512&&(Nr||a===null||Li(a,a.return)),p&4){var U=a!==null?a.memoizedState:null;if(p=t.memoizedState,a===null)if(p===null)if(t.stateNode===null){e:{p=t.type,a=t.memoizedProps,D=D.ownerDocument||D;t:switch(p){case"title":U=D.getElementsByTagName("title")[0],(!U||U[Ye]||U[Se]||U.namespaceURI==="http://www.w3.org/2000/svg"||U.hasAttribute("itemprop"))&&(U=D.createElement(p),D.head.insertBefore(U,D.querySelector("head > title"))),gi(U,p,a),U[Se]=t,mt(U),p=U;break e;case"link":var ae=ub("link","href",D).get(p+(a.href||""));if(ae){for(var be=0;be<ae.length;be++)if(U=ae[be],U.getAttribute("href")===(a.href==null?null:a.href)&&U.getAttribute("rel")===(a.rel==null?null:a.rel)&&U.getAttribute("title")===(a.title==null?null:a.title)&&U.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){ae.splice(be,1);break t}}U=D.createElement(p),gi(U,p,a),D.head.appendChild(U);break;case"meta":if(ae=ub("meta","content",D).get(p+(a.content||""))){for(be=0;be<ae.length;be++)if(U=ae[be],U.getAttribute("content")===(a.content==null?null:""+a.content)&&U.getAttribute("name")===(a.name==null?null:a.name)&&U.getAttribute("property")===(a.property==null?null:a.property)&&U.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&U.getAttribute("charset")===(a.charSet==null?null:a.charSet)){ae.splice(be,1);break t}}U=D.createElement(p),gi(U,p,a),D.head.appendChild(U);break;default:throw Error(o(468,p))}U[Se]=t,mt(U),p=U}t.stateNode=p}else lb(D,t.type,t.stateNode);else t.stateNode=ab(D,p,t.memoizedProps);else U!==p?(U===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):U.count--,p===null?lb(D,t.type,t.stateNode):ab(D,p,t.memoizedProps)):p===null&&t.stateNode!==null&&lv(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(p&4&&t.alternate===null){D=t.stateNode,U=t.memoizedProps;try{for(var Ce=D.firstChild;Ce;){var ze=Ce.nextSibling,ut=Ce.nodeName;Ce[Ye]||ut==="HEAD"||ut==="BODY"||ut==="SCRIPT"||ut==="STYLE"||ut==="LINK"&&Ce.rel.toLowerCase()==="stylesheet"||D.removeChild(Ce),Ce=ze}for(var bt=t.type,Ze=D.attributes;Ze.length;)D.removeAttributeNode(Ze[0]);gi(D,bt,U),D[Se]=t,D[xe]=U}catch(Lt){hr(t,t.return,Lt)}}case 5:if(Zi(i,t),eo(t),p&512&&(Nr||a===null||Li(a,a.return)),t.flags&32){D=t.stateNode;try{xn(D,"")}catch(Lt){hr(t,t.return,Lt)}}p&4&&t.stateNode!=null&&(D=t.memoizedProps,lv(t,D,a!==null?a.memoizedProps:D)),p&1024&&(gp=!0);break;case 6:if(Zi(i,t),eo(t),p&4){if(t.stateNode===null)throw Error(o(162));p=t.memoizedProps,a=t.stateNode;try{a.nodeValue=p}catch(Lt){hr(t,t.return,Lt)}}break;case 3:if(Fc=null,D=co,co=Uc(i.containerInfo),Zi(i,t),co=D,eo(t),p&4&&a!==null&&a.memoizedState.isDehydrated)try{pl(i.containerInfo)}catch(Lt){hr(t,t.return,Lt)}gp&&(gp=!1,vv(t));break;case 4:p=co,co=Uc(t.stateNode.containerInfo),Zi(i,t),eo(t),co=p;break;case 12:Zi(i,t),eo(t);break;case 13:Zi(i,t),eo(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(jp=je()),p&4&&(p=t.updateQueue,p!==null&&(t.updateQueue=null,vp(t,p)));break;case 22:if(p&512&&(Nr||a===null||Li(a,a.return)),Ce=t.memoizedState!==null,ze=a!==null&&a.memoizedState!==null,ut=qo,bt=Nr,qo=ut||Ce,Nr=bt||ze,Zi(i,t),Nr=bt,qo=ut,eo(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,p&8192&&(i._visibility=Ce?i._visibility&-2:i._visibility|1,Ce&&(i=qo||Nr,a===null||ze||i||Ua(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){ze=a=i;try{if(D=ze.stateNode,Ce)U=D.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{ae=ze.stateNode,be=ze.memoizedProps.style;var at=be!=null&&be.hasOwnProperty("display")?be.display:null;ae.style.display=at==null||typeof at=="boolean"?"":(""+at).trim()}}catch(Lt){hr(ze,ze.return,Lt)}}}else if(i.tag===6){if(a===null){ze=i;try{ze.stateNode.nodeValue=Ce?"":ze.memoizedProps}catch(Lt){hr(ze,ze.return,Lt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}p&4&&(p=t.updateQueue,p!==null&&(a=p.retryQueue,a!==null&&(p.retryQueue=null,vp(t,a))));break;case 19:Zi(i,t),eo(t),p&4&&(p=t.updateQueue,p!==null&&(t.updateQueue=null,vp(t,p)));break;case 21:break;default:Zi(i,t),eo(t)}}function eo(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(cv(a)){var p=a;break e}a=a.return}throw Error(o(160))}switch(p.tag){case 27:var D=p.stateNode,U=yp(t);Ac(t,U,D);break;case 5:var ae=p.stateNode;p.flags&32&&(xn(ae,""),p.flags&=-33);var be=yp(t);Ac(t,be,ae);break;case 3:case 4:var Ce=p.stateNode.containerInfo,ze=yp(t);mp(t,ze,Ce);break;default:throw Error(o(161))}}}catch(ut){hr(t,t.return,ut)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function vv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;vv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ho(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)pv(t,i.alternate,i),i=i.sibling}function Ua(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:ws(4,i,i.return),Ua(i);break;case 1:Li(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&av(i,i.return,a),Ua(i);break;case 26:case 27:case 5:Li(i,i.return),Ua(i);break;case 22:Li(i,i.return),i.memoizedState===null&&Ua(i);break;default:Ua(i)}t=t.sibling}}function Ss(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var p=i.alternate,D=t,U=i,ae=U.flags;switch(U.tag){case 0:case 11:case 15:Ss(D,U,a),Yu(4,U);break;case 1:if(Ss(D,U,a),p=U,D=p.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(ze){hr(p,p.return,ze)}if(p=U,D=p.updateQueue,D!==null){var be=p.stateNode;try{var Ce=D.shared.hiddenCallbacks;if(Ce!==null)for(D.shared.hiddenCallbacks=null,D=0;D<Ce.length;D++)iv(Ce[D],be)}catch(ze){hr(p,p.return,ze)}}a&&ae&64&&sv(U),la(U,U.return);break;case 26:case 27:case 5:Ss(D,U,a),a&&p===null&&ae&4&&uv(U),la(U,U.return);break;case 12:Ss(D,U,a);break;case 13:Ss(D,U,a),a&&ae&4&&mv(D,U);break;case 22:U.memoizedState===null&&Ss(D,U,a),la(U,U.return);break;default:Ss(D,U,a)}i=i.sibling}}function bp(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Bu(a))}function _p(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Bu(t))}function Es(t,i,a,p){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)bv(t,i,a,p),i=i.sibling}function bv(t,i,a,p){var D=i.flags;switch(i.tag){case 0:case 11:case 15:Es(t,i,a,p),D&2048&&Yu(9,i);break;case 3:Es(t,i,a,p),D&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Bu(t)));break;case 12:if(D&2048){Es(t,i,a,p),t=i.stateNode;try{var U=i.memoizedProps,ae=U.id,be=U.onPostCommit;typeof be=="function"&&be(ae,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(Ce){hr(i,i.return,Ce)}}else Es(t,i,a,p);break;case 23:break;case 22:U=i.stateNode,i.memoizedState!==null?U._visibility&4?Es(t,i,a,p):Wu(t,i):U._visibility&4?Es(t,i,a,p):(U._visibility|=4,La(t,i,a,p,(i.subtreeFlags&10256)!==0)),D&2048&&bp(i.alternate,i);break;case 24:Es(t,i,a,p),D&2048&&_p(i.alternate,i);break;default:Es(t,i,a,p)}}function La(t,i,a,p,D){for(D=D&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var U=t,ae=i,be=a,Ce=p,ze=ae.flags;switch(ae.tag){case 0:case 11:case 15:La(U,ae,be,Ce,D),Yu(8,ae);break;case 23:break;case 22:var ut=ae.stateNode;ae.memoizedState!==null?ut._visibility&4?La(U,ae,be,Ce,D):Wu(U,ae):(ut._visibility|=4,La(U,ae,be,Ce,D)),D&&ze&2048&&bp(ae.alternate,ae);break;case 24:La(U,ae,be,Ce,D),D&&ze&2048&&_p(ae.alternate,ae);break;default:La(U,ae,be,Ce,D)}i=i.sibling}}function Wu(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,p=i,D=p.flags;switch(p.tag){case 22:Wu(a,p),D&2048&&bp(p.alternate,p);break;case 24:Wu(a,p),D&2048&&_p(p.alternate,p);break;default:Wu(a,p)}i=i.sibling}}var Xu=8192;function Fa(t){if(t.subtreeFlags&Xu)for(t=t.child;t!==null;)_v(t),t=t.sibling}function _v(t){switch(t.tag){case 26:Fa(t),t.flags&Xu&&t.memoizedState!==null&&YO(co,t.memoizedState,t.memoizedProps);break;case 5:Fa(t);break;case 3:case 4:var i=co;co=Uc(t.stateNode.containerInfo),Fa(t),co=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Xu,Xu=16777216,Fa(t),Xu=i):Fa(t));break;default:Fa(t)}}function wv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ju(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var p=i[a];li=p,Ev(p,t)}wv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sv(t),t=t.sibling}function Sv(t){switch(t.tag){case 0:case 11:case 15:Ju(t),t.flags&2048&&ws(9,t,t.return);break;case 3:Ju(t);break;case 12:Ju(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,Tc(t)):Ju(t);break;default:Ju(t)}}function Tc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var p=i[a];li=p,Ev(p,t)}wv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:ws(8,i,i.return),Tc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Tc(i));break;default:Tc(i)}t=t.sibling}}function Ev(t,i){for(;li!==null;){var a=li;switch(a.tag){case 0:case 11:case 15:ws(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var p=a.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Bu(a.memoizedState.cache)}if(p=a.child,p!==null)p.return=a,li=p;else e:for(a=t;li!==null;){p=li;var D=p.sibling,U=p.return;if(dv(p),p===a){li=null;break e}if(D!==null){D.return=U,li=D;break e}li=U}}}function uO(t,i,a,p){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function to(t,i,a,p){return new uO(t,i,a,p)}function wp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Os(t,i){var a=t.alternate;return a===null?(a=to(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ov(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function jc(t,i,a,p,D,U){var ae=0;if(p=t,typeof t=="function")wp(t)&&(ae=1);else if(typeof t=="string")ae=KO(t,a,me.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case f:return ca(a.children,D,U,i);case h:ae=8,D|=24;break;case m:return t=to(12,a,i,D|2),t.elementType=m,t.lanes=U,t;case _:return t=to(13,a,i,D),t.elementType=_,t.lanes=U,t;case $:return t=to(19,a,i,D),t.elementType=$,t.lanes=U,t;case x:return Av(a,D,U,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case j:case R:ae=10;break e;case b:ae=9;break e;case d:ae=11;break e;case g:ae=14;break e;case S:ae=16,p=null;break e}ae=29,a=Error(o(130,t===null?"null":typeof t,"")),p=null}return i=to(ae,a,i,D),i.elementType=t,i.type=p,i.lanes=U,i}function ca(t,i,a,p){return t=to(7,t,p,i),t.lanes=a,t}function Av(t,i,a,p){t=to(22,t,p,i),t.elementType=x,t.lanes=a;var D={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var U=D._current;if(U===null)throw Error(o(456));if((D._pendingVisibility&2)===0){var ae=hs(U,2);ae!==null&&(D._pendingVisibility|=2,Pi(ae,U,2))}},attach:function(){var U=D._current;if(U===null)throw Error(o(456));if((D._pendingVisibility&2)!==0){var ae=hs(U,2);ae!==null&&(D._pendingVisibility&=-3,Pi(ae,U,2))}}};return t.stateNode=D,t}function Sp(t,i,a){return t=to(6,t,null,i),t.lanes=a,t}function Ep(t,i,a){return i=to(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Go(t){t.flags|=4}function Tv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!cb(i)){if(i=Ji.current,i!==null&&((Fn&4194176)===Fn?_o!==null:(Fn&62914560)!==Fn&&(Fn&536870912)===0||i!==_o))throw Mu=xh,qm;t.flags|=8192}}function xc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?fr():536870912,t.lanes|=i,za|=i)}function Zu(t,i){if(!Qn)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var p=null;a!==null;)a.alternate!==null&&(p=a),a=a.sibling;p===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:p.sibling=null}}function jr(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,p=0;if(i)for(var D=t.child;D!==null;)a|=D.lanes|D.childLanes,p|=D.subtreeFlags&31457280,p|=D.flags&31457280,D.return=t,D=D.sibling;else for(D=t.child;D!==null;)a|=D.lanes|D.childLanes,p|=D.subtreeFlags,p|=D.flags,D.return=t,D=D.sibling;return t.subtreeFlags|=p,t.childLanes=a,i}function lO(t,i,a){var p=i.pendingProps;switch(Th(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jr(i),null;case 1:return jr(i),null;case 3:return a=i.stateNode,p=null,t!==null&&(p=t.memoizedState.cache),i.memoizedState.cache!==p&&(i.flags|=2048),Fo(ri),oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Du(i)?Go(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,lo!==null&&(Pp(lo),lo=null))),jr(i),null;case 26:return a=i.memoizedState,t===null?(Go(i),a!==null?(jr(i),Tv(i,a)):(jr(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Go(i),jr(i),Tv(i,a)):(jr(i),i.flags&=-16777217):(t.memoizedProps!==p&&Go(i),jr(i),i.flags&=-16777217),null;case 27:le(i),a=_e.current;var D=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==p&&Go(i);else{if(!p){if(i.stateNode===null)throw Error(o(166));return jr(i),null}t=me.current,Du(i)?Lm(i):(t=nb(D,p,a),i.stateNode=t,Go(i))}return jr(i),null;case 5:if(le(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==p&&Go(i);else{if(!p){if(i.stateNode===null)throw Error(o(166));return jr(i),null}if(t=me.current,Du(i))Lm(i);else{switch(D=Bc(_e.current),t){case 1:t=D.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=D.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=D.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=D.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=D.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof p.is=="string"?D.createElement("select",{is:p.is}):D.createElement("select"),p.multiple?t.multiple=!0:p.size&&(t.size=p.size);break;default:t=typeof p.is=="string"?D.createElement(a,{is:p.is}):D.createElement(a)}}t[Se]=i,t[xe]=p;e:for(D=i.child;D!==null;){if(D.tag===5||D.tag===6)t.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===i)break e;for(;D.sibling===null;){if(D.return===null||D.return===i)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}i.stateNode=t;e:switch(gi(t,a,p),a){case"button":case"input":case"select":case"textarea":t=!!p.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Go(i)}}return jr(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==p&&Go(i);else{if(typeof p!="string"&&i.stateNode===null)throw Error(o(166));if(t=_e.current,Du(i)){if(t=i.stateNode,a=i.memoizedProps,p=null,D=Ri,D!==null)switch(D.tag){case 27:case 5:p=D.memoizedProps}t[Se]=i,t=!!(t.nodeValue===a||p!==null&&p.suppressHydrationWarning===!0||Wv(t.nodeValue,a)),t||ea(i)}else t=Bc(t).createTextNode(p),t[Se]=i,i.stateNode=t}return jr(i),null;case 13:if(p=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(D=Du(i),p!==null&&p.dehydrated!==null){if(t===null){if(!D)throw Error(o(318));if(D=i.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(o(317));D[Se]=i}else Nu(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;jr(i),D=!1}else lo!==null&&(Pp(lo),lo=null),D=!0;if(!D)return i.flags&256?(Vo(i),i):(Vo(i),null)}if(Vo(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=p!==null,t=t!==null&&t.memoizedState!==null,a){p=i.child,D=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(D=p.alternate.memoizedState.cachePool.pool);var U=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(U=p.memoizedState.cachePool.pool),U!==D&&(p.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),xc(i,i.updateQueue),jr(i),null;case 4:return oe(),t===null&&Fp(i.stateNode.containerInfo),jr(i),null;case 10:return Fo(i.type),jr(i),null;case 19:if(ve(ni),D=i.memoizedState,D===null)return jr(i),null;if(p=(i.flags&128)!==0,U=D.rendering,U===null)if(p)Zu(D,!1);else{if(Cr!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(U=fc(t),U!==null){for(i.flags|=128,Zu(D,!1),t=U.updateQueue,i.updateQueue=t,xc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Ov(a,t),a=a.sibling;return we(ni,ni.current&1|2),i.child}t=t.sibling}D.tail!==null&&je()>$c&&(i.flags|=128,p=!0,Zu(D,!1),i.lanes=4194304)}else{if(!p)if(t=fc(U),t!==null){if(i.flags|=128,p=!0,t=t.updateQueue,i.updateQueue=t,xc(i,t),Zu(D,!0),D.tail===null&&D.tailMode==="hidden"&&!U.alternate&&!Qn)return jr(i),null}else 2*je()-D.renderingStartTime>$c&&a!==536870912&&(i.flags|=128,p=!0,Zu(D,!1),i.lanes=4194304);D.isBackwards?(U.sibling=i.child,i.child=U):(t=D.last,t!==null?t.sibling=U:i.child=U,D.last=U)}return D.tail!==null?(i=D.tail,D.rendering=i,D.tail=i.sibling,D.renderingStartTime=je(),i.sibling=null,t=ni.current,we(ni,p?t&1|2:t&1),i):(jr(i),null);case 22:case 23:return Vo(i),Rh(),p=i.memoizedState!==null,t!==null?t.memoizedState!==null!==p&&(i.flags|=8192):p&&(i.flags|=8192),p?(a&536870912)!==0&&(i.flags&128)===0&&(jr(i),i.subtreeFlags&6&&(i.flags|=8192)):jr(i),a=i.updateQueue,a!==null&&xc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),p=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(p=i.memoizedState.cachePool.pool),p!==a&&(i.flags|=2048),t!==null&&ve(na),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Fo(ri),jr(i),null;case 25:return null}throw Error(o(156,i.tag))}function cO(t,i){switch(Th(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Fo(ri),oe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return le(i),null;case 13:if(Vo(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(o(340));Nu()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ve(ni),null;case 4:return oe(),null;case 10:return Fo(i.type),null;case 22:case 23:return Vo(i),Rh(),t!==null&&ve(na),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Fo(ri),null;case 25:return null;default:return null}}function jv(t,i){switch(Th(i),i.tag){case 3:Fo(ri),oe();break;case 26:case 27:case 5:le(i);break;case 4:oe();break;case 13:Vo(i);break;case 19:ve(ni);break;case 10:Fo(i.type);break;case 22:case 23:Vo(i),Rh(),t!==null&&ve(na);break;case 24:Fo(ri)}}var fO={getCacheForType:function(t){var i=Ai(ri),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},hO=typeof WeakMap=="function"?WeakMap:Map,xr=0,gr=null,$n=null,Fn=0,vr=0,qi=null,Ko=!1,qa=!1,Op=!1,Qo=0,Cr=0,As=0,fa=0,Ap=0,no=0,za=0,el=null,So=null,Tp=!1,jp=0,$c=1/0,Rc=null,Ts=null,Pc=!1,ha=null,tl=0,xp=0,$p=null,nl=0,Rp=null;function zi(){if((xr&2)!==0&&Fn!==0)return Fn&-Fn;if(E.T!==null){var t=Ia;return t!==0?t:Vp()}return Bi()}function xv(){no===0&&(no=(Fn&536870912)===0||Qn?Be():536870912);var t=Ji.current;return t!==null&&(t.flags|=32),no}function Pi(t,i,a){(t===gr&&vr===2||t.cancelPendingCommit!==null)&&(Ha(t,0),Yo(t,Fn,no,!1)),Tn(t,a),((xr&2)===0||t!==gr)&&(t===gr&&((xr&2)===0&&(fa|=a),Cr===4&&Yo(t,Fn,no,!1)),Eo(t))}function $v(t,i,a){if((xr&6)!==0)throw Error(o(327));var p=!a&&(i&60)===0&&(i&t.expiredLanes)===0||rr(t,i),D=p?yO(t,i):Cp(t,i,!0),U=p;do{if(D===0){qa&&!p&&Yo(t,i,0,!1);break}else if(D===6)Yo(t,i,0,!Ko);else{if(a=t.current.alternate,U&&!pO(a)){D=Cp(t,i,!1),U=!1;continue}if(D===2){if(U=i,t.errorRecoveryDisabledLanes&U)var ae=0;else ae=t.pendingLanes&-536870913,ae=ae!==0?ae:ae&536870912?536870912:0;if(ae!==0){i=ae;e:{var be=t;D=el;var Ce=be.current.memoizedState.isDehydrated;if(Ce&&(Ha(be,ae).flags|=256),ae=Cp(be,ae,!1),ae!==2){if(Op&&!Ce){be.errorRecoveryDisabledLanes|=U,fa|=U,D=4;break e}U=So,So=D,U!==null&&Pp(U)}D=ae}if(U=!1,D!==2)continue}}if(D===1){Ha(t,0),Yo(t,i,0,!0);break}e:{switch(p=t,D){case 0:case 1:throw Error(o(345));case 4:if((i&4194176)===i){Yo(p,i,no,!Ko);break e}break;case 2:So=null;break;case 3:case 5:break;default:throw Error(o(329))}if(p.finishedWork=a,p.finishedLanes=i,(i&62914560)===i&&(U=jp+300-je(),10<U)){if(Yo(p,i,no,!Ko),Xe(p,0)!==0)break e;p.timeoutHandle=Zv(Rv.bind(null,p,a,So,Rc,Tp,i,no,fa,za,Ko,2,-0,0),U);break e}Rv(p,a,So,Rc,Tp,i,no,fa,za,Ko,0,-0,0)}}break}while(!0);Eo(t)}function Pp(t){So===null?So=t:So.push.apply(So,t)}function Rv(t,i,a,p,D,U,ae,be,Ce,ze,ut,bt,Ze){var at=i.subtreeFlags;if((at&8192||(at&16785408)===16785408)&&(ul={stylesheets:null,count:0,unsuspend:QO},_v(i),i=WO(),i!==null)){t.cancelPendingCommit=i(kv.bind(null,t,a,p,D,ae,be,Ce,1,bt,Ze)),Yo(t,U,ae,!ze);return}kv(t,a,p,D,ae,be,Ce,ut,bt,Ze)}function pO(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var p=0;p<a.length;p++){var D=a[p],U=D.getSnapshot;D=D.value;try{if(!Ui(U(),D))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yo(t,i,a,p){i&=~Ap,i&=~fa,t.suspendedLanes|=i,t.pingedLanes&=~i,p&&(t.warmLanes|=i),p=t.expirationTimes;for(var D=i;0<D;){var U=31-gn(D),ae=1<<U;p[U]=-1,D&=~ae}a!==0&&br(t,a,i)}function Dc(){return(xr&6)===0?(rl(0),!1):!0}function Dp(){if($n!==null){if(vr===0)var t=$n.return;else t=$n,Lo=aa=null,Vh(t),Na=null,ku=0,t=$n;for(;t!==null;)jv(t.alternate,t),t=t.return;$n=null}}function Ha(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,DO(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Dp(),gr=t,$n=a=Os(t.current,null),Fn=i,vr=0,qi=null,Ko=!1,qa=rr(t,i),Op=!1,za=no=Ap=fa=As=Cr=0,So=el=null,Tp=!1,(i&8)!==0&&(i|=i&32);var p=t.entangledLanes;if(p!==0)for(t=t.entanglements,p&=i;0<p;){var D=31-gn(p),U=1<<D;i|=t[D],p&=~U}return Qo=i,nc(),a}function Pv(t,i){En=null,E.H=wo,i===Iu?(i=Gm(),vr=3):i===qm?(i=Gm(),vr=4):vr=i===zg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,qi=i,$n===null&&(Cr=1,Sc(t,Yi(i,t.current)))}function Dv(){var t=E.H;return E.H=wo,t===null?wo:t}function Nv(){var t=E.A;return E.A=fO,t}function Np(){Cr=4,Ko||(Fn&4194176)!==Fn&&Ji.current!==null||(qa=!0),(As&134217727)===0&&(fa&134217727)===0||gr===null||Yo(gr,Fn,no,!1)}function Cp(t,i,a){var p=xr;xr|=2;var D=Dv(),U=Nv();(gr!==t||Fn!==i)&&(Rc=null,Ha(t,i)),i=!1;var ae=Cr;e:do try{if(vr!==0&&$n!==null){var be=$n,Ce=qi;switch(vr){case 8:Dp(),ae=6;break e;case 3:case 2:case 6:Ji.current===null&&(i=!0);var ze=vr;if(vr=0,qi=null,Ga(t,be,Ce,ze),a&&qa){ae=0;break e}break;default:ze=vr,vr=0,qi=null,Ga(t,be,Ce,ze)}}dO(),ae=Cr;break}catch(ut){Pv(t,ut)}while(!0);return i&&t.shellSuspendCounter++,Lo=aa=null,xr=p,E.H=D,E.A=U,$n===null&&(gr=null,Fn=0,nc()),ae}function dO(){for(;$n!==null;)Cv($n)}function yO(t,i){var a=xr;xr|=2;var p=Dv(),D=Nv();gr!==t||Fn!==i?(Rc=null,$c=je()+500,Ha(t,i)):qa=rr(t,i);e:do try{if(vr!==0&&$n!==null){i=$n;var U=qi;t:switch(vr){case 1:vr=0,qi=null,Ga(t,i,U,1);break;case 2:if(zm(U)){vr=0,qi=null,Iv(i);break}i=function(){vr===2&&gr===t&&(vr=7),Eo(t)},U.then(i,i);break e;case 3:vr=7;break e;case 4:vr=5;break e;case 7:zm(U)?(vr=0,qi=null,Iv(i)):(vr=0,qi=null,Ga(t,i,U,7));break;case 5:var ae=null;switch($n.tag){case 26:ae=$n.memoizedState;case 5:case 27:var be=$n;if(!ae||cb(ae)){vr=0,qi=null;var Ce=be.sibling;if(Ce!==null)$n=Ce;else{var ze=be.return;ze!==null?($n=ze,Nc(ze)):$n=null}break t}}vr=0,qi=null,Ga(t,i,U,5);break;case 6:vr=0,qi=null,Ga(t,i,U,6);break;case 8:Dp(),Cr=6;break e;default:throw Error(o(462))}}mO();break}catch(ut){Pv(t,ut)}while(!0);return Lo=aa=null,E.H=p,E.A=D,xr=a,$n!==null?0:(gr=null,Fn=0,nc(),Cr)}function mO(){for(;$n!==null&&!ie();)Cv($n)}function Cv(t){var i=nv(t.alternate,t,Qo);t.memoizedProps=t.pendingProps,i===null?Nc(t):$n=i}function Iv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Wg(a,i,i.pendingProps,i.type,void 0,Fn);break;case 11:i=Wg(a,i,i.pendingProps,i.type.render,i.ref,Fn);break;case 5:Vh(i);default:jv(a,i),i=$n=Ov(i,Qo),i=nv(a,i,Qo)}t.memoizedProps=t.pendingProps,i===null?Nc(t):$n=i}function Ga(t,i,a,p){Lo=aa=null,Vh(i),Na=null,ku=0;var D=i.return;try{if(iO(t,D,i,a,Fn)){Cr=1,Sc(t,Yi(a,t.current)),$n=null;return}}catch(U){if(D!==null)throw $n=D,U;Cr=1,Sc(t,Yi(a,t.current)),$n=null;return}i.flags&32768?(Qn||p===1?t=!0:qa||(Fn&536870912)!==0?t=!1:(Ko=t=!0,(p===2||p===3||p===6)&&(p=Ji.current,p!==null&&p.tag===13&&(p.flags|=16384))),Mv(i,t)):Nc(i)}function Nc(t){var i=t;do{if((i.flags&32768)!==0){Mv(i,Ko);return}t=i.return;var a=lO(i.alternate,i,Qo);if(a!==null){$n=a;return}if(i=i.sibling,i!==null){$n=i;return}$n=i=t}while(i!==null);Cr===0&&(Cr=5)}function Mv(t,i){do{var a=cO(t.alternate,t);if(a!==null){a.flags&=32767,$n=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){$n=t;return}$n=t=a}while(t!==null);Cr=6,$n=null}function kv(t,i,a,p,D,U,ae,be,Ce,ze){var ut=E.T,bt=z.p;try{z.p=2,E.T=null,gO(t,i,a,p,bt,D,U,ae,be,Ce,ze)}finally{E.T=ut,z.p=bt}}function gO(t,i,a,p,D,U,ae,be){do Ka();while(ha!==null);if((xr&6)!==0)throw Error(o(327));var Ce=t.finishedWork;if(p=t.finishedLanes,Ce===null)return null;if(t.finishedWork=null,t.finishedLanes=0,Ce===t.current)throw Error(o(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var ze=Ce.lanes|Ce.childLanes;if(ze|=Eh,Jn(t,p,ze,U,ae,be),t===gr&&($n=gr=null,Fn=0),(Ce.subtreeFlags&10256)===0&&(Ce.flags&10256)===0||Pc||(Pc=!0,xp=ze,$p=a,wO(Ve,function(){return Ka(),null})),a=(Ce.flags&15990)!==0,(Ce.subtreeFlags&15990)!==0||a?(a=E.T,E.T=null,U=z.p,z.p=2,ae=xr,xr|=4,sO(t,Ce),gv(Ce,t),LE(Gp,t.containerInfo),Hc=!!Hp,Gp=Hp=null,t.current=Ce,pv(t,Ce.alternate,Ce),ye(),xr=ae,z.p=U,E.T=a):t.current=Ce,Pc?(Pc=!1,ha=t,tl=p):Vv(t,ze),ze=t.pendingLanes,ze===0&&(Ts=null),It(Ce.stateNode),Eo(t),i!==null)for(D=t.onRecoverableError,Ce=0;Ce<i.length;Ce++)ze=i[Ce],D(ze.value,{componentStack:ze.stack});return(tl&3)!==0&&Ka(),ze=t.pendingLanes,(p&4194218)!==0&&(ze&42)!==0?t===Rp?nl++:(nl=0,Rp=t):nl=0,rl(0),null}function Vv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Bu(i)))}function Ka(){if(ha!==null){var t=ha,i=xp;xp=0;var a=Xr(tl),p=E.T,D=z.p;try{if(z.p=32>a?32:a,E.T=null,ha===null)var U=!1;else{a=$p,$p=null;var ae=ha,be=tl;if(ha=null,tl=0,(xr&6)!==0)throw Error(o(331));var Ce=xr;if(xr|=4,Sv(ae.current),bv(ae,ae.current,be,a),xr=Ce,rl(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(xt,ae)}catch{}U=!0}return U}finally{z.p=D,E.T=p,Vv(t,i)}}return!1}function Bv(t,i,a){i=Yi(a,i),i=Jh(t.stateNode,i,2),t=_s(t,i,2),t!==null&&(Tn(t,2),Eo(t))}function hr(t,i,a){if(t.tag===3)Bv(t,t,a);else for(;i!==null;){if(i.tag===3){Bv(i,t,a);break}else if(i.tag===1){var p=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ts===null||!Ts.has(p))){t=Yi(a,t),a=Fg(2),p=_s(i,a,2),p!==null&&(qg(a,p,i,t),Tn(p,2),Eo(p));break}}i=i.return}}function Ip(t,i,a){var p=t.pingCache;if(p===null){p=t.pingCache=new hO;var D=new Set;p.set(i,D)}else D=p.get(i),D===void 0&&(D=new Set,p.set(i,D));D.has(a)||(Op=!0,D.add(a),t=vO.bind(null,t,i,a),i.then(t,t))}function vO(t,i,a){var p=t.pingCache;p!==null&&p.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,gr===t&&(Fn&a)===a&&(Cr===4||Cr===3&&(Fn&62914560)===Fn&&300>je()-jp?(xr&2)===0&&Ha(t,0):Ap|=a,za===Fn&&(za=0)),Eo(t)}function Uv(t,i){i===0&&(i=fr()),t=hs(t,i),t!==null&&(Tn(t,i),Eo(t))}function bO(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Uv(t,a)}function _O(t,i){var a=0;switch(t.tag){case 13:var p=t.stateNode,D=t.memoizedState;D!==null&&(a=D.retryLane);break;case 19:p=t.stateNode;break;case 22:p=t.stateNode._retryCache;break;default:throw Error(o(314))}p!==null&&p.delete(i),Uv(t,a)}function wO(t,i){return Ae(t,i)}var Cc=null,Qa=null,Mp=!1,Ic=!1,kp=!1,pa=0;function Eo(t){t!==Qa&&t.next===null&&(Qa===null?Cc=Qa=t:Qa=Qa.next=t),Ic=!0,Mp||(Mp=!0,EO(SO))}function rl(t,i){if(!kp&&Ic){kp=!0;do for(var a=!1,p=Cc;p!==null;){if(t!==0){var D=p.pendingLanes;if(D===0)var U=0;else{var ae=p.suspendedLanes,be=p.pingedLanes;U=(1<<31-gn(42|t)+1)-1,U&=D&~(ae&~be),U=U&201326677?U&201326677|1:U?U|2:0}U!==0&&(a=!0,qv(p,U))}else U=Fn,U=Xe(p,p===gr?U:0),(U&3)===0||rr(p,U)||(a=!0,qv(p,U));p=p.next}while(a);kp=!1}}function SO(){Ic=Mp=!1;var t=0;pa!==0&&(PO()&&(t=pa),pa=0);for(var i=je(),a=null,p=Cc;p!==null;){var D=p.next,U=Lv(p,i);U===0?(p.next=null,a===null?Cc=D:a.next=D,D===null&&(Qa=a)):(a=p,(t!==0||(U&3)!==0)&&(Ic=!0)),p=D}rl(t)}function Lv(t,i){for(var a=t.suspendedLanes,p=t.pingedLanes,D=t.expirationTimes,U=t.pendingLanes&-62914561;0<U;){var ae=31-gn(U),be=1<<ae,Ce=D[ae];Ce===-1?((be&a)===0||(be&p)!==0)&&(D[ae]=Hn(be,i)):Ce<=i&&(t.expiredLanes|=be),U&=~be}if(i=gr,a=Fn,a=Xe(t,t===i?a:0),p=t.callbackNode,a===0||t===i&&vr===2||t.cancelPendingCommit!==null)return p!==null&&p!==null&&K(p),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||rr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(p!==null&&K(p),Xr(a)){case 2:case 8:a=He;break;case 32:a=Ve;break;case 268435456:a=Je;break;default:a=Ve}return p=Fv.bind(null,t),a=Ae(a,p),t.callbackPriority=i,t.callbackNode=a,i}return p!==null&&p!==null&&K(p),t.callbackPriority=2,t.callbackNode=null,2}function Fv(t,i){var a=t.callbackNode;if(Ka()&&t.callbackNode!==a)return null;var p=Fn;return p=Xe(t,t===gr?p:0),p===0?null:($v(t,p,i),Lv(t,je()),t.callbackNode!=null&&t.callbackNode===a?Fv.bind(null,t):null)}function qv(t,i){if(Ka())return null;$v(t,i,!0)}function EO(t){NO(function(){(xr&6)!==0?Ae(De,t):t()})}function Vp(){return pa===0&&(pa=Be()),pa}function zv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sn(""+t)}function Hv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function OO(t,i,a,p,D){if(i==="submit"&&a&&a.stateNode===D){var U=zv((D[xe]||null).action),ae=p.submitter;ae&&(i=(i=ae[xe]||null)?zv(i.formAction):ae.getAttribute("formAction"),i!==null&&(U=i,ae=null));var be=new y("action","action",null,p,D);t.push({event:be,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(pa!==0){var Ce=ae?Hv(D,ae):new FormData(D);Kh(a,{pending:!0,data:Ce,method:D.method,action:U},null,Ce)}}else typeof U=="function"&&(be.preventDefault(),Ce=ae?Hv(D,ae):new FormData(D),Kh(a,{pending:!0,data:Ce,method:D.method,action:U},U,Ce))},currentTarget:D}]})}}for(var Bp=0;Bp<km.length;Bp++){var Up=km[Bp],AO=Up.toLowerCase(),TO=Up[0].toUpperCase()+Up.slice(1);uo(AO,"on"+TO)}uo(Dm,"onAnimationEnd"),uo(Nm,"onAnimationIteration"),uo(Cm,"onAnimationStart"),uo("dblclick","onDoubleClick"),uo("focusin","onFocus"),uo("focusout","onBlur"),uo(qE,"onTransitionRun"),uo(zE,"onTransitionStart"),uo(HE,"onTransitionCancel"),uo(Im,"onTransitionEnd"),sn("onMouseEnter",["mouseout","mouseover"]),sn("onMouseLeave",["mouseout","mouseover"]),sn("onPointerEnter",["pointerout","pointerover"]),sn("onPointerLeave",["pointerout","pointerover"]),zt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zt("onBeforeInput",["compositionend","keypress","textInput","paste"]),zt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(il));function Gv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var p=t[a],D=p.event;p=p.listeners;e:{var U=void 0;if(i)for(var ae=p.length-1;0<=ae;ae--){var be=p[ae],Ce=be.instance,ze=be.currentTarget;if(be=be.listener,Ce!==U&&D.isPropagationStopped())break e;U=be,D.currentTarget=ze;try{U(D)}catch(ut){wc(ut)}D.currentTarget=null,U=Ce}else for(ae=0;ae<p.length;ae++){if(be=p[ae],Ce=be.instance,ze=be.currentTarget,be=be.listener,Ce!==U&&D.isPropagationStopped())break e;U=be,D.currentTarget=ze;try{U(D)}catch(ut){wc(ut)}D.currentTarget=null,U=Ce}}}}function kn(t,i){var a=i[Ne];a===void 0&&(a=i[Ne]=new Set);var p=t+"__bubble";a.has(p)||(Kv(i,t,2,!1),a.add(p))}function Lp(t,i,a){var p=0;i&&(p|=4),Kv(a,t,p,i)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Fp(t){if(!t[Mc]){t[Mc]=!0,Ot.forEach(function(a){a!=="selectionchange"&&(jO.has(a)||Lp(a,!1,t),Lp(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Mc]||(i[Mc]=!0,Lp("selectionchange",!1,i))}}function Kv(t,i,a,p){switch(mb(i)){case 2:var D=ZO;break;case 8:D=e1;break;default:D=td}a=D.bind(null,i,a,t),D=void 0,!or||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(D=!0),p?D!==void 0?t.addEventListener(i,a,{capture:!0,passive:D}):t.addEventListener(i,a,!0):D!==void 0?t.addEventListener(i,a,{passive:D}):t.addEventListener(i,a,!1)}function qp(t,i,a,p,D){var U=p;if((i&1)===0&&(i&2)===0&&p!==null)e:for(;;){if(p===null)return;var ae=p.tag;if(ae===3||ae===4){var be=p.stateNode.containerInfo;if(be===D||be.nodeType===8&&be.parentNode===D)break;if(ae===4)for(ae=p.return;ae!==null;){var Ce=ae.tag;if((Ce===3||Ce===4)&&(Ce=ae.stateNode.containerInfo,Ce===D||Ce.nodeType===8&&Ce.parentNode===D))return;ae=ae.return}for(;be!==null;){if(ae=Ge(be),ae===null)return;if(Ce=ae.tag,Ce===5||Ce===6||Ce===26||Ce===27){p=U=ae;continue e}be=be.parentNode}}p=p.return}Vr(function(){var ze=U,ut=ln(a),bt=[];e:{var Ze=Mm.get(t);if(Ze!==void 0){var at=y,Lt=t;switch(t){case"keypress":if(Ei(a)===0)break e;case"keydown":case"keyup":at=wt;break;case"focusin":Lt="focus",at=lt;break;case"focusout":Lt="blur",at=lt;break;case"beforeblur":case"afterblur":at=lt;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=Me;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=gt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=yr;break;case Dm:case Nm:case Cm:at=Rt;break;case Im:at=Qs;break;case"scroll":case"scrollend":at=Q;break;case"wheel":at=Ki;break;case"copy":case"cut":case"paste":at=Mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=Mt;break;case"toggle":case"beforetoggle":at=Ta}var cn=(i&4)!==0,Ir=!cn&&(t==="scroll"||t==="scrollend"),Ke=cn?Ze!==null?Ze+"Capture":null:Ze;cn=[];for(var qe=ze,We;qe!==null;){var ht=qe;if(We=ht.stateNode,ht=ht.tag,ht!==5&&ht!==26&&ht!==27||We===null||Ke===null||(ht=Ar(qe,Ke),ht!=null&&cn.push(ol(qe,ht,We))),Ir)break;qe=qe.return}0<cn.length&&(Ze=new at(Ze,Lt,null,a,ut),bt.push({event:Ze,listeners:cn}))}}if((i&7)===0){e:{if(Ze=t==="mouseover"||t==="pointerover",at=t==="mouseout"||t==="pointerout",Ze&&a!==on&&(Lt=a.relatedTarget||a.fromElement)&&(Ge(Lt)||Lt[Pe]))break e;if((at||Ze)&&(Ze=ut.window===ut?ut:(Ze=ut.ownerDocument)?Ze.defaultView||Ze.parentWindow:window,at?(Lt=a.relatedTarget||a.toElement,at=ze,Lt=Lt?Ge(Lt):null,Lt!==null&&(Ir=ce(Lt),cn=Lt.tag,Lt!==Ir||cn!==5&&cn!==27&&cn!==6)&&(Lt=null)):(at=null,Lt=ze),at!==Lt)){if(cn=Me,ht="onMouseLeave",Ke="onMouseEnter",qe="mouse",(t==="pointerout"||t==="pointerover")&&(cn=Mt,ht="onPointerLeave",Ke="onPointerEnter",qe="pointer"),Ir=at==null?Ze:pt(at),We=Lt==null?Ze:pt(Lt),Ze=new cn(ht,qe+"leave",at,a,ut),Ze.target=Ir,Ze.relatedTarget=We,ht=null,Ge(ut)===ze&&(cn=new cn(Ke,qe+"enter",Lt,a,ut),cn.target=We,cn.relatedTarget=Ir,ht=cn),Ir=ht,at&&Lt)t:{for(cn=at,Ke=Lt,qe=0,We=cn;We;We=Ya(We))qe++;for(We=0,ht=Ke;ht;ht=Ya(ht))We++;for(;0<qe-We;)cn=Ya(cn),qe--;for(;0<We-qe;)Ke=Ya(Ke),We--;for(;qe--;){if(cn===Ke||Ke!==null&&cn===Ke.alternate)break t;cn=Ya(cn),Ke=Ya(Ke)}cn=null}else cn=null;at!==null&&Qv(bt,Ze,at,cn,!1),Lt!==null&&Ir!==null&&Qv(bt,Ir,Lt,cn,!0)}}e:{if(Ze=ze?pt(ze):window,at=Ze.nodeName&&Ze.nodeName.toLowerCase(),at==="select"||at==="input"&&Ze.type==="file")var kt=wm;else if(ti(Ze))if(Sm)kt=BE;else{kt=kE;var On=ME}else at=Ze.nodeName,!at||at.toLowerCase()!=="input"||Ze.type!=="checkbox"&&Ze.type!=="radio"?ze&&_r(ze.elementType)&&(kt=wm):kt=VE;if(kt&&(kt=kt(t,ze))){Io(bt,kt,a,ut);break e}On&&On(t,Ze,ze),t==="focusout"&&ze&&Ze.type==="number"&&ze.memoizedProps.value!=null&&zr(Ze,"number",Ze.value)}switch(On=ze?pt(ze):window,t){case"focusin":(ti(On)||On.contentEditable==="true")&&(ja=On,_h=ze,Pu=null);break;case"focusout":Pu=_h=ja=null;break;case"mousedown":wh=!0;break;case"contextmenu":case"mouseup":case"dragend":wh=!1,Rm(bt,a,ut);break;case"selectionchange":if(FE)break;case"keydown":case"keyup":Rm(bt,a,ut)}var qt;if(go)e:{switch(t){case"compositionstart":var Xt="onCompositionStart";break e;case"compositionend":Xt="onCompositionEnd";break e;case"compositionupdate":Xt="onCompositionUpdate";break e}Xt=void 0}else Un?rt(t,a)&&(Xt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Xt="onCompositionStart");Xt&&(se&&a.locale!=="ko"&&(Un||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&Un&&(qt=Gi()):(wr=ut,pi="value"in wr?wr.value:wr.textContent,Un=!0)),On=kc(ze,Xt),0<On.length&&(Xt=new ur(Xt,t,null,a,ut),bt.push({event:Xt,listeners:On}),qt?Xt.data=qt:(qt=Et(a),qt!==null&&(Xt.data=qt)))),(qt=G?ei(t,a):Ln(t,a))&&(Xt=kc(ze,"onBeforeInput"),0<Xt.length&&(On=new ur("onBeforeInput","beforeinput",null,a,ut),bt.push({event:On,listeners:Xt}),On.data=qt)),OO(bt,t,ze,a,ut)}Gv(bt,i)})}function ol(t,i,a){return{instance:t,listener:i,currentTarget:a}}function kc(t,i){for(var a=i+"Capture",p=[];t!==null;){var D=t,U=D.stateNode;D=D.tag,D!==5&&D!==26&&D!==27||U===null||(D=Ar(t,a),D!=null&&p.unshift(ol(t,D,U)),D=Ar(t,i),D!=null&&p.push(ol(t,D,U))),t=t.return}return p}function Ya(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Qv(t,i,a,p,D){for(var U=i._reactName,ae=[];a!==null&&a!==p;){var be=a,Ce=be.alternate,ze=be.stateNode;if(be=be.tag,Ce!==null&&Ce===p)break;be!==5&&be!==26&&be!==27||ze===null||(Ce=ze,D?(ze=Ar(a,U),ze!=null&&ae.unshift(ol(a,ze,Ce))):D||(ze=Ar(a,U),ze!=null&&ae.push(ol(a,ze,Ce)))),a=a.return}ae.length!==0&&t.push({event:i,listeners:ae})}var xO=/\r\n?/g,$O=/\u0000|\uFFFD/g;function Yv(t){return(typeof t=="string"?t:""+t).replace(xO,`
`).replace($O,"")}function Wv(t,i){return i=Yv(i),Yv(t)===i}function Vc(){}function cr(t,i,a,p,D,U){switch(a){case"children":typeof p=="string"?i==="body"||i==="textarea"&&p===""||xn(t,p):(typeof p=="number"||typeof p=="bigint")&&i!=="body"&&xn(t,""+p);break;case"className":In(t,"class",p);break;case"tabIndex":In(t,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":In(t,a,p);break;case"style":Zn(t,p,U);break;case"data":if(i!=="object"){In(t,"data",p);break}case"src":case"href":if(p===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){t.removeAttribute(a);break}p=Sn(""+p),t.setAttribute(a,p);break;case"action":case"formAction":if(typeof p=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof U=="function"&&(a==="formAction"?(i!=="input"&&cr(t,i,"name",D.name,D,null),cr(t,i,"formEncType",D.formEncType,D,null),cr(t,i,"formMethod",D.formMethod,D,null),cr(t,i,"formTarget",D.formTarget,D,null)):(cr(t,i,"encType",D.encType,D,null),cr(t,i,"method",D.method,D,null),cr(t,i,"target",D.target,D,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){t.removeAttribute(a);break}p=Sn(""+p),t.setAttribute(a,p);break;case"onClick":p!=null&&(t.onclick=Vc);break;case"onScroll":p!=null&&kn("scroll",t);break;case"onScrollEnd":p!=null&&kn("scrollend",t);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(o(61));if(a=p.__html,a!=null){if(D.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"multiple":t.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":t.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){t.removeAttribute("xlink:href");break}a=Sn(""+p),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?t.setAttribute(a,""+p):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":p===!0?t.setAttribute(a,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?t.setAttribute(a,p):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?t.setAttribute(a,p):t.removeAttribute(a);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?t.removeAttribute(a):t.setAttribute(a,p);break;case"popover":kn("beforetoggle",t),kn("toggle",t),Gn(t,"popover",p);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Gn(t,"is",p);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Pt.get(a)||a,Gn(t,a,p))}}function zp(t,i,a,p,D,U){switch(a){case"style":Zn(t,p,U);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(o(61));if(a=p.__html,a!=null){if(D.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"children":typeof p=="string"?xn(t,p):(typeof p=="number"||typeof p=="bigint")&&xn(t,""+p);break;case"onScroll":p!=null&&kn("scroll",t);break;case"onScrollEnd":p!=null&&kn("scrollend",t);break;case"onClick":p!=null&&(t.onclick=Vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!At.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(D=a.endsWith("Capture"),i=a.slice(2,D?a.length-7:void 0),U=t[xe]||null,U=U!=null?U[a]:null,typeof U=="function"&&t.removeEventListener(i,U,D),typeof p=="function")){typeof U!="function"&&U!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,p,D);break e}a in t?t[a]=p:p===!0?t.setAttribute(a,""):Gn(t,a,p)}}}function gi(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kn("error",t),kn("load",t);var p=!1,D=!1,U;for(U in a)if(a.hasOwnProperty(U)){var ae=a[U];if(ae!=null)switch(U){case"src":p=!0;break;case"srcSet":D=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:cr(t,i,U,ae,a,null)}}D&&cr(t,i,"srcSet",a.srcSet,a,null),p&&cr(t,i,"src",a.src,a,null);return;case"input":kn("invalid",t);var be=U=ae=D=null,Ce=null,ze=null;for(p in a)if(a.hasOwnProperty(p)){var ut=a[p];if(ut!=null)switch(p){case"name":D=ut;break;case"type":ae=ut;break;case"checked":Ce=ut;break;case"defaultChecked":ze=ut;break;case"value":U=ut;break;case"defaultValue":be=ut;break;case"children":case"dangerouslySetInnerHTML":if(ut!=null)throw Error(o(137,i));break;default:cr(t,i,p,ut,a,null)}}Or(t,U,be,Ce,ze,ae,D,!1),un(t);return;case"select":kn("invalid",t),p=ae=U=null;for(D in a)if(a.hasOwnProperty(D)&&(be=a[D],be!=null))switch(D){case"value":U=be;break;case"defaultValue":ae=be;break;case"multiple":p=be;default:cr(t,i,D,be,a,null)}i=U,a=ae,t.multiple=!!p,i!=null?tn(t,!!p,i,!1):a!=null&&tn(t,!!p,a,!0);return;case"textarea":kn("invalid",t),U=D=p=null;for(ae in a)if(a.hasOwnProperty(ae)&&(be=a[ae],be!=null))switch(ae){case"value":p=be;break;case"defaultValue":D=be;break;case"children":U=be;break;case"dangerouslySetInnerHTML":if(be!=null)throw Error(o(91));break;default:cr(t,i,ae,be,a,null)}Wn(t,p,D,U),un(t);return;case"option":for(Ce in a)if(a.hasOwnProperty(Ce)&&(p=a[Ce],p!=null))switch(Ce){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:cr(t,i,Ce,p,a,null)}return;case"dialog":kn("cancel",t),kn("close",t);break;case"iframe":case"object":kn("load",t);break;case"video":case"audio":for(p=0;p<il.length;p++)kn(il[p],t);break;case"image":kn("error",t),kn("load",t);break;case"details":kn("toggle",t);break;case"embed":case"source":case"link":kn("error",t),kn("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ze in a)if(a.hasOwnProperty(ze)&&(p=a[ze],p!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:cr(t,i,ze,p,a,null)}return;default:if(_r(i)){for(ut in a)a.hasOwnProperty(ut)&&(p=a[ut],p!==void 0&&zp(t,i,ut,p,a,void 0));return}}for(be in a)a.hasOwnProperty(be)&&(p=a[be],p!=null&&cr(t,i,be,p,a,null))}function RO(t,i,a,p){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var D=null,U=null,ae=null,be=null,Ce=null,ze=null,ut=null;for(at in a){var bt=a[at];if(a.hasOwnProperty(at)&&bt!=null)switch(at){case"checked":break;case"value":break;case"defaultValue":Ce=bt;default:p.hasOwnProperty(at)||cr(t,i,at,null,p,bt)}}for(var Ze in p){var at=p[Ze];if(bt=a[Ze],p.hasOwnProperty(Ze)&&(at!=null||bt!=null))switch(Ze){case"type":U=at;break;case"name":D=at;break;case"checked":ze=at;break;case"defaultChecked":ut=at;break;case"value":ae=at;break;case"defaultValue":be=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(o(137,i));break;default:at!==bt&&cr(t,i,Ze,at,p,bt)}}Dr(t,ae,be,Ce,ze,ut,U,D);return;case"select":at=ae=be=Ze=null;for(U in a)if(Ce=a[U],a.hasOwnProperty(U)&&Ce!=null)switch(U){case"value":break;case"multiple":at=Ce;default:p.hasOwnProperty(U)||cr(t,i,U,null,p,Ce)}for(D in p)if(U=p[D],Ce=a[D],p.hasOwnProperty(D)&&(U!=null||Ce!=null))switch(D){case"value":Ze=U;break;case"defaultValue":be=U;break;case"multiple":ae=U;default:U!==Ce&&cr(t,i,D,U,p,Ce)}i=be,a=ae,p=at,Ze!=null?tn(t,!!a,Ze,!1):!!p!=!!a&&(i!=null?tn(t,!!a,i,!0):tn(t,!!a,a?[]:"",!1));return;case"textarea":at=Ze=null;for(be in a)if(D=a[be],a.hasOwnProperty(be)&&D!=null&&!p.hasOwnProperty(be))switch(be){case"value":break;case"children":break;default:cr(t,i,be,null,p,D)}for(ae in p)if(D=p[ae],U=a[ae],p.hasOwnProperty(ae)&&(D!=null||U!=null))switch(ae){case"value":Ze=D;break;case"defaultValue":at=D;break;case"children":break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(o(91));break;default:D!==U&&cr(t,i,ae,D,p,U)}jn(t,Ze,at);return;case"option":for(var Lt in a)if(Ze=a[Lt],a.hasOwnProperty(Lt)&&Ze!=null&&!p.hasOwnProperty(Lt))switch(Lt){case"selected":t.selected=!1;break;default:cr(t,i,Lt,null,p,Ze)}for(Ce in p)if(Ze=p[Ce],at=a[Ce],p.hasOwnProperty(Ce)&&Ze!==at&&(Ze!=null||at!=null))switch(Ce){case"selected":t.selected=Ze&&typeof Ze!="function"&&typeof Ze!="symbol";break;default:cr(t,i,Ce,Ze,p,at)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var cn in a)Ze=a[cn],a.hasOwnProperty(cn)&&Ze!=null&&!p.hasOwnProperty(cn)&&cr(t,i,cn,null,p,Ze);for(ze in p)if(Ze=p[ze],at=a[ze],p.hasOwnProperty(ze)&&Ze!==at&&(Ze!=null||at!=null))switch(ze){case"children":case"dangerouslySetInnerHTML":if(Ze!=null)throw Error(o(137,i));break;default:cr(t,i,ze,Ze,p,at)}return;default:if(_r(i)){for(var Ir in a)Ze=a[Ir],a.hasOwnProperty(Ir)&&Ze!==void 0&&!p.hasOwnProperty(Ir)&&zp(t,i,Ir,void 0,p,Ze);for(ut in p)Ze=p[ut],at=a[ut],!p.hasOwnProperty(ut)||Ze===at||Ze===void 0&&at===void 0||zp(t,i,ut,Ze,p,at);return}}for(var Ke in a)Ze=a[Ke],a.hasOwnProperty(Ke)&&Ze!=null&&!p.hasOwnProperty(Ke)&&cr(t,i,Ke,null,p,Ze);for(bt in p)Ze=p[bt],at=a[bt],!p.hasOwnProperty(bt)||Ze===at||Ze==null&&at==null||cr(t,i,bt,Ze,p,at)}var Hp=null,Gp=null;function Bc(t){return t.nodeType===9?t:t.ownerDocument}function Xv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Jv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Kp(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qp=null;function PO(){var t=window.event;return t&&t.type==="popstate"?t===Qp?!1:(Qp=t,!0):(Qp=null,!1)}var Zv=typeof setTimeout=="function"?setTimeout:void 0,DO=typeof clearTimeout=="function"?clearTimeout:void 0,eb=typeof Promise=="function"?Promise:void 0,NO=typeof queueMicrotask=="function"?queueMicrotask:typeof eb<"u"?function(t){return eb.resolve(null).then(t).catch(CO)}:Zv;function CO(t){setTimeout(function(){throw t})}function Yp(t,i){var a=i,p=0;do{var D=a.nextSibling;if(t.removeChild(a),D&&D.nodeType===8)if(a=D.data,a==="/$"){if(p===0){t.removeChild(D),pl(i);return}p--}else a!=="$"&&a!=="$?"&&a!=="$!"||p++;a=D}while(a);pl(i)}function Wp(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wp(a),nt(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function IO(t,i,a,p){for(;t.nodeType===1;){var D=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!p&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(p){if(!t[Ye])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(U=t.getAttribute("rel"),U==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(U!==D.rel||t.getAttribute("href")!==(D.href==null?null:D.href)||t.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin)||t.getAttribute("title")!==(D.title==null?null:D.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(U=t.getAttribute("src"),(U!==(D.src==null?null:D.src)||t.getAttribute("type")!==(D.type==null?null:D.type)||t.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin))&&U&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var U=D.name==null?null:""+D.name;if(D.type==="hidden"&&t.getAttribute("name")===U)return t}else return t;if(t=fo(t.nextSibling),t===null)break}return null}function MO(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=fo(t.nextSibling),t===null))return null;return t}function fo(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function tb(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function nb(t,i,a){switch(i=Bc(a),t){case"html":if(t=i.documentElement,!t)throw Error(o(452));return t;case"head":if(t=i.head,!t)throw Error(o(453));return t;case"body":if(t=i.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}var ro=new Map,rb=new Set;function Uc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Wo=z.d;z.d={f:kO,r:VO,D:BO,C:UO,L:LO,m:FO,X:zO,S:qO,M:HO};function kO(){var t=Wo.f(),i=Dc();return t||i}function VO(t){var i=ct(t);i!==null&&i.tag===5&&i.type==="form"?Rg(i):Wo.r(t)}var Wa=typeof document>"u"?null:document;function ib(t,i,a){var p=Wa;if(p&&typeof i=="string"&&i){var D=rn(i);D='link[rel="'+t+'"][href="'+D+'"]',typeof a=="string"&&(D+='[crossorigin="'+a+'"]'),rb.has(D)||(rb.add(D),t={rel:t,crossOrigin:a,href:i},p.querySelector(D)===null&&(i=p.createElement("link"),gi(i,"link",t),mt(i),p.head.appendChild(i)))}}function BO(t){Wo.D(t),ib("dns-prefetch",t,null)}function UO(t,i){Wo.C(t,i),ib("preconnect",t,i)}function LO(t,i,a){Wo.L(t,i,a);var p=Wa;if(p&&t&&i){var D='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(D+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(D+='[imagesizes="'+rn(a.imageSizes)+'"]')):D+='[href="'+rn(t)+'"]';var U=D;switch(i){case"style":U=Xa(t);break;case"script":U=Ja(t)}ro.has(U)||(t=N({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),ro.set(U,t),p.querySelector(D)!==null||i==="style"&&p.querySelector(sl(U))||i==="script"&&p.querySelector(al(U))||(i=p.createElement("link"),gi(i,"link",t),mt(i),p.head.appendChild(i)))}}function FO(t,i){Wo.m(t,i);var a=Wa;if(a&&t){var p=i&&typeof i.as=="string"?i.as:"script",D='link[rel="modulepreload"][as="'+rn(p)+'"][href="'+rn(t)+'"]',U=D;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":U=Ja(t)}if(!ro.has(U)&&(t=N({rel:"modulepreload",href:t},i),ro.set(U,t),a.querySelector(D)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(al(U)))return}p=a.createElement("link"),gi(p,"link",t),mt(p),a.head.appendChild(p)}}}function qO(t,i,a){Wo.S(t,i,a);var p=Wa;if(p&&t){var D=vt(p).hoistableStyles,U=Xa(t);i=i||"default";var ae=D.get(U);if(!ae){var be={loading:0,preload:null};if(ae=p.querySelector(sl(U)))be.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":i},a),(a=ro.get(U))&&Xp(t,a);var Ce=ae=p.createElement("link");mt(Ce),gi(Ce,"link",t),Ce._p=new Promise(function(ze,ut){Ce.onload=ze,Ce.onerror=ut}),Ce.addEventListener("load",function(){be.loading|=1}),Ce.addEventListener("error",function(){be.loading|=2}),be.loading|=4,Lc(ae,i,p)}ae={type:"stylesheet",instance:ae,count:1,state:be},D.set(U,ae)}}}function zO(t,i){Wo.X(t,i);var a=Wa;if(a&&t){var p=vt(a).hoistableScripts,D=Ja(t),U=p.get(D);U||(U=a.querySelector(al(D)),U||(t=N({src:t,async:!0},i),(i=ro.get(D))&&Jp(t,i),U=a.createElement("script"),mt(U),gi(U,"link",t),a.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},p.set(D,U))}}function HO(t,i){Wo.M(t,i);var a=Wa;if(a&&t){var p=vt(a).hoistableScripts,D=Ja(t),U=p.get(D);U||(U=a.querySelector(al(D)),U||(t=N({src:t,async:!0,type:"module"},i),(i=ro.get(D))&&Jp(t,i),U=a.createElement("script"),mt(U),gi(U,"link",t),a.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},p.set(D,U))}}function ob(t,i,a,p){var D=(D=_e.current)?Uc(D):null;if(!D)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Xa(a.href),a=vt(D).hoistableStyles,p=a.get(i),p||(p={type:"style",instance:null,count:0,state:null},a.set(i,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Xa(a.href);var U=vt(D).hoistableStyles,ae=U.get(t);if(ae||(D=D.ownerDocument||D,ae={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},U.set(t,ae),(U=D.querySelector(sl(t)))&&!U._p&&(ae.instance=U,ae.state.loading=5),ro.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ro.set(t,a),U||GO(D,t,a,ae.state))),i&&p===null)throw Error(o(528,""));return ae}if(i&&p!==null)throw Error(o(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ja(a),a=vt(D).hoistableScripts,p=a.get(i),p||(p={type:"script",instance:null,count:0,state:null},a.set(i,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function Xa(t){return'href="'+rn(t)+'"'}function sl(t){return'link[rel="stylesheet"]['+t+"]"}function sb(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function GO(t,i,a,p){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?p.loading=1:(i=t.createElement("link"),p.preload=i,i.addEventListener("load",function(){return p.loading|=1}),i.addEventListener("error",function(){return p.loading|=2}),gi(i,"link",a),mt(i),t.head.appendChild(i))}function Ja(t){return'[src="'+rn(t)+'"]'}function al(t){return"script[async]"+t}function ab(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var p=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(p)return i.instance=p,mt(p),p;var D=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return p=(t.ownerDocument||t).createElement("style"),mt(p),gi(p,"style",D),Lc(p,a.precedence,t),i.instance=p;case"stylesheet":D=Xa(a.href);var U=t.querySelector(sl(D));if(U)return i.state.loading|=4,i.instance=U,mt(U),U;p=sb(a),(D=ro.get(D))&&Xp(p,D),U=(t.ownerDocument||t).createElement("link"),mt(U);var ae=U;return ae._p=new Promise(function(be,Ce){ae.onload=be,ae.onerror=Ce}),gi(U,"link",p),i.state.loading|=4,Lc(U,a.precedence,t),i.instance=U;case"script":return U=Ja(a.src),(D=t.querySelector(al(U)))?(i.instance=D,mt(D),D):(p=a,(D=ro.get(U))&&(p=N({},a),Jp(p,D)),t=t.ownerDocument||t,D=t.createElement("script"),mt(D),gi(D,"link",p),t.head.appendChild(D),i.instance=D);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(p=i.instance,i.state.loading|=4,Lc(p,a.precedence,t));return i.instance}function Lc(t,i,a){for(var p=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),D=p.length?p[p.length-1]:null,U=D,ae=0;ae<p.length;ae++){var be=p[ae];if(be.dataset.precedence===i)U=be;else if(U!==D)break}U?U.parentNode.insertBefore(t,U.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Xp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Jp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Fc=null;function ub(t,i,a){if(Fc===null){var p=new Map,D=Fc=new Map;D.set(a,p)}else D=Fc,p=D.get(a),p||(p=new Map,D.set(a,p));if(p.has(t))return p;for(p.set(t,null),a=a.getElementsByTagName(t),D=0;D<a.length;D++){var U=a[D];if(!(U[Ye]||U[Se]||t==="link"&&U.getAttribute("rel")==="stylesheet")&&U.namespaceURI!=="http://www.w3.org/2000/svg"){var ae=U.getAttribute(i)||"";ae=t+ae;var be=p.get(ae);be?be.push(U):p.set(ae,[U])}}return p}function lb(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function KO(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function cb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var ul=null;function QO(){}function YO(t,i,a){if(ul===null)throw Error(o(475));var p=ul;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var D=Xa(a.href),U=t.querySelector(sl(D));if(U){t=U._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(p.count++,p=qc.bind(p),t.then(p,p)),i.state.loading|=4,i.instance=U,mt(U);return}U=t.ownerDocument||t,a=sb(a),(D=ro.get(D))&&Xp(a,D),U=U.createElement("link"),mt(U);var ae=U;ae._p=new Promise(function(be,Ce){ae.onload=be,ae.onerror=Ce}),gi(U,"link",a),i.instance=U}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(p.count++,i=qc.bind(p),t.addEventListener("load",i),t.addEventListener("error",i))}}function WO(){if(ul===null)throw Error(o(475));var t=ul;return t.stylesheets&&t.count===0&&Zp(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Zp(t,t.stylesheets),t.unsuspend){var p=t.unsuspend;t.unsuspend=null,p()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function qc(){if(this.count--,this.count===0){if(this.stylesheets)Zp(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zc=null;function Zp(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zc=new Map,i.forEach(XO,t),zc=null,qc.call(t))}function XO(t,i){if(!(i.state.loading&4)){var a=zc.get(t);if(a)var p=a.get(null);else{a=new Map,zc.set(t,a);for(var D=t.querySelectorAll("link[data-precedence],style[data-precedence]"),U=0;U<D.length;U++){var ae=D[U];(ae.nodeName==="LINK"||ae.getAttribute("media")!=="not all")&&(a.set(ae.dataset.precedence,ae),p=ae)}p&&a.set(null,p)}D=i.instance,ae=D.getAttribute("data-precedence"),U=a.get(ae)||p,U===p&&a.set(null,D),a.set(ae,D),this.count++,p=qc.bind(this),D.addEventListener("load",p),D.addEventListener("error",p),U?U.parentNode.insertBefore(D,U.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(D,t.firstChild)),i.state.loading|=4}}var ll={$$typeof:R,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function JO(t,i,a,p,D,U,ae,be){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=p,this.onUncaughtError=D,this.onCaughtError=U,this.onRecoverableError=ae,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=be,this.incompleteTransitions=new Map}function fb(t,i,a,p,D,U,ae,be,Ce,ze,ut,bt){return t=new JO(t,i,a,ae,be,Ce,ze,bt),i=1,U===!0&&(i|=24),U=to(3,null,null,i),t.current=U,U.stateNode=t,i=Ph(),i.refCount++,t.pooledCache=i,i.refCount++,U.memoizedState={element:p,isDehydrated:a,cache:i},fp(U),t}function hb(t){return t?(t=Ra,t):Ra}function pb(t,i,a,p,D,U){D=hb(D),p.context===null?p.context=D:p.pendingContext=D,p=bs(i),p.payload={element:a},U=U===void 0?null:U,U!==null&&(p.callback=U),a=_s(t,p,i),a!==null&&(Pi(a,t,i),Gu(a,t,i))}function db(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function ed(t,i){db(t,i),(t=t.alternate)&&db(t,i)}function yb(t){if(t.tag===13){var i=hs(t,67108864);i!==null&&Pi(i,t,67108864),ed(t,67108864)}}var Hc=!0;function ZO(t,i,a,p){var D=E.T;E.T=null;var U=z.p;try{z.p=2,td(t,i,a,p)}finally{z.p=U,E.T=D}}function e1(t,i,a,p){var D=E.T;E.T=null;var U=z.p;try{z.p=8,td(t,i,a,p)}finally{z.p=U,E.T=D}}function td(t,i,a,p){if(Hc){var D=nd(p);if(D===null)qp(t,i,p,Gc,a),gb(t,p);else if(n1(D,t,i,a,p))p.stopPropagation();else if(gb(t,p),i&4&&-1<t1.indexOf(t)){for(;D!==null;){var U=ct(D);if(U!==null)switch(U.tag){case 3:if(U=U.stateNode,U.current.memoizedState.isDehydrated){var ae=nr(U.pendingLanes);if(ae!==0){var be=U;for(be.pendingLanes|=2,be.entangledLanes|=2;ae;){var Ce=1<<31-gn(ae);be.entanglements[1]|=Ce,ae&=~Ce}Eo(U),(xr&6)===0&&($c=je()+500,rl(0))}}break;case 13:be=hs(U,2),be!==null&&Pi(be,U,2),Dc(),ed(U,2)}if(U=nd(p),U===null&&qp(t,i,p,Gc,a),U===D)break;D=U}D!==null&&p.stopPropagation()}else qp(t,i,p,null,a)}}function nd(t){return t=ln(t),rd(t)}var Gc=null;function rd(t){if(Gc=null,t=Ge(t),t!==null){var i=ce(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=ge(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Gc=t,null}function mb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(de()){case De:return 2;case He:return 8;case Ve:case ke:return 32;case Je:return 268435456;default:return 32}default:return 32}}var id=!1,js=null,xs=null,$s=null,cl=new Map,fl=new Map,Rs=[],t1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gb(t,i){switch(t){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":$s=null;break;case"pointerover":case"pointerout":cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(i.pointerId)}}function hl(t,i,a,p,D,U){return t===null||t.nativeEvent!==U?(t={blockedOn:i,domEventName:a,eventSystemFlags:p,nativeEvent:U,targetContainers:[D]},i!==null&&(i=ct(i),i!==null&&yb(i)),t):(t.eventSystemFlags|=p,i=t.targetContainers,D!==null&&i.indexOf(D)===-1&&i.push(D),t)}function n1(t,i,a,p,D){switch(i){case"focusin":return js=hl(js,t,i,a,p,D),!0;case"dragenter":return xs=hl(xs,t,i,a,p,D),!0;case"mouseover":return $s=hl($s,t,i,a,p,D),!0;case"pointerover":var U=D.pointerId;return cl.set(U,hl(cl.get(U)||null,t,i,a,p,D)),!0;case"gotpointercapture":return U=D.pointerId,fl.set(U,hl(fl.get(U)||null,t,i,a,p,D)),!0}return!1}function vb(t){var i=Ge(t.target);if(i!==null){var a=ce(i);if(a!==null){if(i=a.tag,i===13){if(i=ge(a),i!==null){t.blockedOn=i,Y(t.priority,function(){if(a.tag===13){var p=zi(),D=hs(a,p);D!==null&&Pi(D,a,p),ed(a,p)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=nd(t.nativeEvent);if(a===null){a=t.nativeEvent;var p=new a.constructor(a.type,a);on=p,a.target.dispatchEvent(p),on=null}else return i=ct(a),i!==null&&yb(i),t.blockedOn=a,!1;i.shift()}return!0}function bb(t,i,a){Kc(t)&&a.delete(i)}function r1(){id=!1,js!==null&&Kc(js)&&(js=null),xs!==null&&Kc(xs)&&(xs=null),$s!==null&&Kc($s)&&($s=null),cl.forEach(bb),fl.forEach(bb)}function Qc(t,i){t.blockedOn===i&&(t.blockedOn=null,id||(id=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,r1)))}var Yc=null;function _b(t){Yc!==t&&(Yc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Yc===t&&(Yc=null);for(var i=0;i<t.length;i+=3){var a=t[i],p=t[i+1],D=t[i+2];if(typeof p!="function"){if(rd(p||a)===null)continue;break}var U=ct(a);U!==null&&(t.splice(i,3),i-=3,Kh(U,{pending:!0,data:D,method:a.method,action:p},p,D))}}))}function pl(t){function i(Ce){return Qc(Ce,t)}js!==null&&Qc(js,t),xs!==null&&Qc(xs,t),$s!==null&&Qc($s,t),cl.forEach(i),fl.forEach(i);for(var a=0;a<Rs.length;a++){var p=Rs[a];p.blockedOn===t&&(p.blockedOn=null)}for(;0<Rs.length&&(a=Rs[0],a.blockedOn===null);)vb(a),a.blockedOn===null&&Rs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(p=0;p<a.length;p+=3){var D=a[p],U=a[p+1],ae=D[xe]||null;if(typeof U=="function")ae||_b(a);else if(ae){var be=null;if(U&&U.hasAttribute("formAction")){if(D=U,ae=U[xe]||null)be=ae.formAction;else if(rd(D)!==null)continue}else be=ae.action;typeof be=="function"?a[p+1]=be:(a.splice(p,3),p-=3),_b(a)}}}function od(t){this._internalRoot=t}Wc.prototype.render=od.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(o(409));var a=i.current,p=zi();pb(a,p,t,i,null,null)},Wc.prototype.unmount=od.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Ka(),pb(t.current,2,null,t,null,null),Dc(),i[Pe]=null}};function Wc(t){this._internalRoot=t}Wc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Bi();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Rs.length&&i!==0&&i<Rs[a].priority;a++);Rs.splice(a,0,t),a===0&&vb(t)}};var wb=e.version;if(wb!=="19.0.0")throw Error(o(527,wb,"19.0.0"));z.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=V(i),t=t!==null?H(t):null,t=t===null?null:t.stateNode,t};var i1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:E,findFiberByHostInstance:Ge,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{xt=Xc.inject(i1),Tt=Xc}catch{}}return yl.createRoot=function(t,i){if(!l(t))throw Error(o(299));var a=!1,p="",D=Vg,U=Bg,ae=Ug,be=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(p=i.identifierPrefix),i.onUncaughtError!==void 0&&(D=i.onUncaughtError),i.onCaughtError!==void 0&&(U=i.onCaughtError),i.onRecoverableError!==void 0&&(ae=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(be=i.unstable_transitionCallbacks)),i=fb(t,1,!1,null,null,a,p,D,U,ae,be,null),t[Pe]=i.current,Fp(t.nodeType===8?t.parentNode:t),new od(i)},yl.hydrateRoot=function(t,i,a){if(!l(t))throw Error(o(299));var p=!1,D="",U=Vg,ae=Bg,be=Ug,Ce=null,ze=null;return a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(D=a.identifierPrefix),a.onUncaughtError!==void 0&&(U=a.onUncaughtError),a.onCaughtError!==void 0&&(ae=a.onCaughtError),a.onRecoverableError!==void 0&&(be=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(Ce=a.unstable_transitionCallbacks),a.formState!==void 0&&(ze=a.formState)),i=fb(t,1,!0,i,a??null,p,D,U,ae,be,Ce,ze),i.context=hb(null),a=i.current,p=zi(),D=bs(p),D.callback=null,_s(a,D,p),i.current.lanes=p,Tn(i,p),Eo(i),t[Pe]=i.current,Fp(t),new Wc(i)},yl.version="19.0.0",yl}var Pb;function p1(){if(Pb)return ud.exports;Pb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ud.exports=h1(),ud.exports}var d1=p1(),ml={},Db;function y1(){if(Db)return ml;Db=1,Object.defineProperty(ml,"__esModule",{value:!0}),ml.parse=c,ml.serialize=h;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function c(b,R){const d=new u,_=b.length;if(_<2)return d;const $=(R==null?void 0:R.decode)||m;let g=0;do{const S=b.indexOf("=",g);if(S===-1)break;const x=b.indexOf(";",g),A=x===-1?_:x;if(S>A){g=b.lastIndexOf(";",S-1)+1;continue}const T=s(b,g,S),C=f(b,S,T),w=b.slice(T,C);if(d[w]===void 0){let v=s(b,S+1,A),E=f(b,A,v);const N=$(b.slice(v,E));d[w]=N}g=A+1}while(g<_);return d}function s(b,R,d){do{const _=b.charCodeAt(R);if(_!==32&&_!==9)return R}while(++R<d);return d}function f(b,R,d){for(;R>d;){const _=b.charCodeAt(--R);if(_!==32&&_!==9)return R+1}return d}function h(b,R,d){const _=(d==null?void 0:d.encode)||encodeURIComponent;if(!r.test(b))throw new TypeError(`argument name is invalid: ${b}`);const $=_(R);if(!e.test($))throw new TypeError(`argument val is invalid: ${R}`);let g=b+"="+$;if(!d)return g;if(d.maxAge!==void 0){if(!Number.isInteger(d.maxAge))throw new TypeError(`option maxAge is invalid: ${d.maxAge}`);g+="; Max-Age="+d.maxAge}if(d.domain){if(!n.test(d.domain))throw new TypeError(`option domain is invalid: ${d.domain}`);g+="; Domain="+d.domain}if(d.path){if(!o.test(d.path))throw new TypeError(`option path is invalid: ${d.path}`);g+="; Path="+d.path}if(d.expires){if(!j(d.expires)||!Number.isFinite(d.expires.valueOf()))throw new TypeError(`option expires is invalid: ${d.expires}`);g+="; Expires="+d.expires.toUTCString()}if(d.httpOnly&&(g+="; HttpOnly"),d.secure&&(g+="; Secure"),d.partitioned&&(g+="; Partitioned"),d.priority)switch(typeof d.priority=="string"?d.priority.toLowerCase():void 0){case"low":g+="; Priority=Low";break;case"medium":g+="; Priority=Medium";break;case"high":g+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${d.priority}`)}if(d.sameSite)switch(typeof d.sameSite=="string"?d.sameSite.toLowerCase():d.sameSite){case!0:case"strict":g+="; SameSite=Strict";break;case"lax":g+="; SameSite=Lax";break;case"none":g+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${d.sameSite}`)}return g}function m(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function j(b){return l.call(b)==="[object Date]"}return ml}y1();/**
 * react-router v7.2.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Nb="popstate";function m1(r={}){function e(o,l){let{pathname:u,search:c,hash:s}=o.location;return Id("",{pathname:u,search:c,hash:s},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(o,l){return typeof l=="string"?l:Nl(l)}return v1(e,n,null,r)}function Rr(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Po(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g1(){return Math.random().toString(36).substring(2,10)}function Cb(r,e){return{usr:r.state,key:r.key,idx:e}}function Id(r,e,n=null,o){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?bu(e):e,state:n,key:e&&e.key||o||g1()}}function Nl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function bu(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let o=r.indexOf("?");o>=0&&(e.search=r.substring(o),r=r.substring(0,o)),r&&(e.pathname=r)}return e}function v1(r,e,n,o={}){let{window:l=document.defaultView,v5Compat:u=!1}=o,c=l.history,s="POP",f=null,h=m();h==null&&(h=0,c.replaceState({...c.state,idx:h},""));function m(){return(c.state||{idx:null}).idx}function j(){s="POP";let $=m(),g=$==null?null:$-h;h=$,f&&f({action:s,location:_.location,delta:g})}function b($,g){s="PUSH";let S=Id(_.location,$,g);h=m()+1;let x=Cb(S,h),A=_.createHref(S);try{c.pushState(x,"",A)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;l.location.assign(A)}u&&f&&f({action:s,location:_.location,delta:1})}function R($,g){s="REPLACE";let S=Id(_.location,$,g);h=m();let x=Cb(S,h),A=_.createHref(S);c.replaceState(x,"",A),u&&f&&f({action:s,location:_.location,delta:0})}function d($){let g=l.location.origin!=="null"?l.location.origin:l.location.href,S=typeof $=="string"?$:Nl($);return S=S.replace(/ $/,"%20"),Rr(g,`No window.location.(origin|href) available to create URL for href: ${S}`),new URL(S,g)}let _={get action(){return s},get location(){return r(l,c)},listen($){if(f)throw new Error("A history only accepts one active listener");return l.addEventListener(Nb,j),f=$,()=>{l.removeEventListener(Nb,j),f=null}},createHref($){return e(l,$)},createURL:d,encodeLocation($){let g=d($);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:b,replace:R,go($){return c.go($)}};return _}function j0(r,e,n="/"){return b1(r,e,n,!1)}function b1(r,e,n,o){let l=typeof e=="string"?bu(e):e,u=Bs(l.pathname||"/",n);if(u==null)return null;let c=x0(r);_1(c);let s=null;for(let f=0;s==null&&f<c.length;++f){let h=P1(u);s=$1(c[f],h,o)}return s}function x0(r,e=[],n=[],o=""){let l=(u,c,s)=>{let f={relativePath:s===void 0?u.path||"":s,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};f.relativePath.startsWith("/")&&(Rr(f.relativePath.startsWith(o),`Absolute route path "${f.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(o.length));let h=ts([o,f.relativePath]),m=n.concat(f);u.children&&u.children.length>0&&(Rr(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),x0(u.children,e,m,h)),!(u.path==null&&!u.index)&&e.push({path:h,score:j1(h,u.index),routesMeta:m})};return r.forEach((u,c)=>{var s;if(u.path===""||!((s=u.path)!=null&&s.includes("?")))l(u,c);else for(let f of $0(u.path))l(u,c,f)}),e}function $0(r){let e=r.split("/");if(e.length===0)return[];let[n,...o]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let c=$0(o.join("/")),s=[];return s.push(...c.map(f=>f===""?u:[u,f].join("/"))),l&&s.push(...c),s.map(f=>r.startsWith("/")&&f===""?"/":f)}function _1(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:x1(e.routesMeta.map(o=>o.childrenIndex),n.routesMeta.map(o=>o.childrenIndex)))}var w1=/^:[\w-]+$/,S1=3,E1=2,O1=1,A1=10,T1=-2,Ib=r=>r==="*";function j1(r,e){let n=r.split("/"),o=n.length;return n.some(Ib)&&(o+=T1),e&&(o+=E1),n.filter(l=>!Ib(l)).reduce((l,u)=>l+(w1.test(u)?S1:u===""?O1:A1),o)}function x1(r,e){return r.length===e.length&&r.slice(0,-1).every((o,l)=>o===e[l])?r[r.length-1]-e[e.length-1]:0}function $1(r,e,n=!1){let{routesMeta:o}=r,l={},u="/",c=[];for(let s=0;s<o.length;++s){let f=o[s],h=s===o.length-1,m=u==="/"?e:e.slice(u.length)||"/",j=vf({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),b=f.route;if(!j&&h&&n&&!o[o.length-1].route.index&&(j=vf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!j)return null;Object.assign(l,j.params),c.push({params:l,pathname:ts([u,j.pathname]),pathnameBase:I1(ts([u,j.pathnameBase])),route:b}),j.pathnameBase!=="/"&&(u=ts([u,j.pathnameBase]))}return c}function vf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,o]=R1(r.path,r.caseSensitive,r.end),l=e.match(n);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),s=l.slice(1);return{params:o.reduce((h,{paramName:m,isOptional:j},b)=>{if(m==="*"){let d=s[b]||"";c=u.slice(0,u.length-d.length).replace(/(.)\/+$/,"$1")}const R=s[b];return j&&!R?h[m]=void 0:h[m]=(R||"").replace(/%2F/g,"/"),h},{}),pathname:u,pathnameBase:c,pattern:r}}function R1(r,e=!1,n=!0){Po(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let o=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,s,f)=>(o.push({paramName:s,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(o.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),o]}function P1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Po(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Bs(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,o=r.charAt(n);return o&&o!=="/"?null:r.slice(n)||"/"}function D1(r,e="/"){let{pathname:n,search:o="",hash:l=""}=typeof r=="string"?bu(r):r;return{pathname:n?n.startsWith("/")?n:N1(n,e):e,search:M1(o),hash:k1(l)}}function N1(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function hd(r,e,n,o){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C1(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function R0(r){let e=C1(r);return e.map((n,o)=>o===e.length-1?n.pathname:n.pathnameBase)}function P0(r,e,n,o=!1){let l;typeof r=="string"?l=bu(r):(l={...r},Rr(!l.pathname||!l.pathname.includes("?"),hd("?","pathname","search",l)),Rr(!l.pathname||!l.pathname.includes("#"),hd("#","pathname","hash",l)),Rr(!l.search||!l.search.includes("#"),hd("#","search","hash",l)));let u=r===""||l.pathname==="",c=u?"/":l.pathname,s;if(c==null)s=n;else{let j=e.length-1;if(!o&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),j-=1;l.pathname=b.join("/")}s=j>=0?e[j]:"/"}let f=D1(l,s),h=c&&c!=="/"&&c.endsWith("/"),m=(u||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var ts=r=>r.join("/").replace(/\/\/+/g,"/"),I1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),M1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,k1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function V1(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var D0=["POST","PUT","PATCH","DELETE"];new Set(D0);var B1=["GET",...D0];new Set(B1);var _u=Te.createContext(null);_u.displayName="DataRouter";var qf=Te.createContext(null);qf.displayName="DataRouterState";var N0=Te.createContext({isTransitioning:!1});N0.displayName="ViewTransition";var U1=Te.createContext(new Map);U1.displayName="Fetchers";var L1=Te.createContext(null);L1.displayName="Await";var No=Te.createContext(null);No.displayName="Navigation";var Hl=Te.createContext(null);Hl.displayName="Location";var cs=Te.createContext({outlet:null,matches:[],isDataRoute:!1});cs.displayName="Route";var py=Te.createContext(null);py.displayName="RouteError";function F1(r,{relative:e}={}){Rr(Gl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=Te.useContext(No),{hash:l,pathname:u,search:c}=Kl(r,{relative:e}),s=u;return n!=="/"&&(s=u==="/"?n:ts([n,u])),o.createHref({pathname:s,search:c,hash:l})}function Gl(){return Te.useContext(Hl)!=null}function Sa(){return Rr(Gl(),"useLocation() may be used only in the context of a <Router> component."),Te.useContext(Hl).location}var C0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function I0(r){Te.useContext(No).static||Te.useLayoutEffect(r)}function zf(){let{isDataRoute:r}=Te.useContext(cs);return r?tA():q1()}function q1(){Rr(Gl(),"useNavigate() may be used only in the context of a <Router> component.");let r=Te.useContext(_u),{basename:e,navigator:n}=Te.useContext(No),{matches:o}=Te.useContext(cs),{pathname:l}=Sa(),u=JSON.stringify(R0(o)),c=Te.useRef(!1);return I0(()=>{c.current=!0}),Te.useCallback((f,h={})=>{if(Po(c.current,C0),!c.current)return;if(typeof f=="number"){n.go(f);return}let m=P0(f,JSON.parse(u),l,h.relative==="path");r==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ts([e,m.pathname])),(h.replace?n.replace:n.push)(m,h.state,h)},[e,n,u,l,r])}Te.createContext(null);function Kl(r,{relative:e}={}){let{matches:n}=Te.useContext(cs),{pathname:o}=Sa(),l=JSON.stringify(R0(n));return Te.useMemo(()=>P0(r,JSON.parse(l),o,e==="path"),[r,l,o,e])}function z1(r,e){return M0(r,e)}function M0(r,e,n,o){var S;Rr(Gl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=Te.useContext(No),{matches:c}=Te.useContext(cs),s=c[c.length-1],f=s?s.params:{},h=s?s.pathname:"/",m=s?s.pathnameBase:"/",j=s&&s.route;{let x=j&&j.path||"";k0(h,!j||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let b=Sa(),R;if(e){let x=typeof e=="string"?bu(e):e;Rr(m==="/"||((S=x.pathname)==null?void 0:S.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${x.pathname}" was given in the \`location\` prop.`),R=x}else R=b;let d=R.pathname||"/",_=d;if(m!=="/"){let x=m.replace(/^\//,"").split("/");_="/"+d.replace(/^\//,"").split("/").slice(x.length).join("/")}let $=!u&&n&&n.matches&&n.matches.length>0?n.matches:j0(r,{pathname:_});Po(j||$!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),Po($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=Y1($&&$.map(x=>Object.assign({},x,{params:Object.assign({},f,x.params),pathname:ts([m,l.encodeLocation?l.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?m:ts([m,l.encodeLocation?l.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),c,n,o);return e&&g?Te.createElement(Hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},g):g}function H1(){let r=eA(),e=V1(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,o="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=Te.createElement(Te.Fragment,null,Te.createElement("p",null," Hey developer "),Te.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Te.createElement("code",{style:u},"ErrorBoundary")," or"," ",Te.createElement("code",{style:u},"errorElement")," prop on your route.")),Te.createElement(Te.Fragment,null,Te.createElement("h2",null,"Unexpected Application Error!"),Te.createElement("h3",{style:{fontStyle:"italic"}},e),n?Te.createElement("pre",{style:l},n):null,c)}var G1=Te.createElement(H1,null),K1=class extends Te.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?Te.createElement(cs.Provider,{value:this.props.routeContext},Te.createElement(py.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q1({routeContext:r,match:e,children:n}){let o=Te.useContext(_u);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),Te.createElement(cs.Provider,{value:r},n)}function Y1(r,e=[],n=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let l=r,u=n==null?void 0:n.errors;if(u!=null){let f=l.findIndex(h=>h.route.id&&(u==null?void 0:u[h.route.id])!==void 0);Rr(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,f+1))}let c=!1,s=-1;if(n)for(let f=0;f<l.length;f++){let h=l[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(s=f),h.route.id){let{loaderData:m,errors:j}=n,b=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!j||j[h.route.id]===void 0);if(h.route.lazy||b){c=!0,s>=0?l=l.slice(0,s+1):l=[l[0]];break}}}return l.reduceRight((f,h,m)=>{let j,b=!1,R=null,d=null;n&&(j=u&&h.route.id?u[h.route.id]:void 0,R=h.route.errorElement||G1,c&&(s<0&&m===0?(k0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,d=null):s===m&&(b=!0,d=h.route.hydrateFallbackElement||null)));let _=e.concat(l.slice(0,m+1)),$=()=>{let g;return j?g=R:b?g=d:h.route.Component?g=Te.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=f,Te.createElement(Q1,{match:h,routeContext:{outlet:f,matches:_,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?Te.createElement(K1,{location:n.location,revalidation:n.revalidation,component:R,error:j,children:$(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):$()},null)}function dy(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W1(r){let e=Te.useContext(_u);return Rr(e,dy(r)),e}function X1(r){let e=Te.useContext(qf);return Rr(e,dy(r)),e}function J1(r){let e=Te.useContext(cs);return Rr(e,dy(r)),e}function yy(r){let e=J1(r),n=e.matches[e.matches.length-1];return Rr(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Z1(){return yy("useRouteId")}function eA(){var o;let r=Te.useContext(py),e=X1("useRouteError"),n=yy("useRouteError");return r!==void 0?r:(o=e.errors)==null?void 0:o[n]}function tA(){let{router:r}=W1("useNavigate"),e=yy("useNavigate"),n=Te.useRef(!1);return I0(()=>{n.current=!0}),Te.useCallback(async(l,u={})=>{Po(n.current,C0),n.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:e,...u}))},[r,e])}var Mb={};function k0(r,e,n){!e&&!Mb[r]&&(Mb[r]=!0,Po(!1,n))}Te.memo(nA);function nA({routes:r,future:e,state:n}){return M0(r,void 0,n,e)}function sf(r){Rr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rA({basename:r="/",children:e=null,location:n,navigationType:o="POP",navigator:l,static:u=!1}){Rr(!Gl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),s=Te.useMemo(()=>({basename:c,navigator:l,static:u,future:{}}),[c,l,u]);typeof n=="string"&&(n=bu(n));let{pathname:f="/",search:h="",hash:m="",state:j=null,key:b="default"}=n,R=Te.useMemo(()=>{let d=Bs(f,c);return d==null?null:{location:{pathname:d,search:h,hash:m,state:j,key:b},navigationType:o}},[c,f,h,m,j,b,o]);return Po(R!=null,`<Router basename="${c}"> is not able to match the URL "${f}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:Te.createElement(No.Provider,{value:s},Te.createElement(Hl.Provider,{children:e,value:R}))}function iA({children:r,location:e}){return z1(Md(r),e)}function Md(r,e=[]){let n=[];return Te.Children.forEach(r,(o,l)=>{if(!Te.isValidElement(o))return;let u=[...e,l];if(o.type===Te.Fragment){n.push.apply(n,Md(o.props.children,u));return}Rr(o.type===sf,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Rr(!o.props.index||!o.props.children,"An index route cannot have child routes.");let c={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(c.children=Md(o.props.children,u)),n.push(c)}),n}var af="get",uf="application/x-www-form-urlencoded";function Hf(r){return r!=null&&typeof r.tagName=="string"}function oA(r){return Hf(r)&&r.tagName.toLowerCase()==="button"}function sA(r){return Hf(r)&&r.tagName.toLowerCase()==="form"}function aA(r){return Hf(r)&&r.tagName.toLowerCase()==="input"}function uA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function lA(r,e){return r.button===0&&(!e||e==="_self")&&!uA(r)}var Jc=null;function cA(){if(Jc===null)try{new FormData(document.createElement("form"),0),Jc=!1}catch{Jc=!0}return Jc}var fA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function pd(r){return r!=null&&!fA.has(r)?(Po(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uf}"`),null):r}function hA(r,e){let n,o,l,u,c;if(sA(r)){let s=r.getAttribute("action");o=s?Bs(s,e):null,n=r.getAttribute("method")||af,l=pd(r.getAttribute("enctype"))||uf,u=new FormData(r)}else if(oA(r)||aA(r)&&(r.type==="submit"||r.type==="image")){let s=r.form;if(s==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=r.getAttribute("formaction")||s.getAttribute("action");if(o=f?Bs(f,e):null,n=r.getAttribute("formmethod")||s.getAttribute("method")||af,l=pd(r.getAttribute("formenctype"))||pd(s.getAttribute("enctype"))||uf,u=new FormData(s,r),!cA()){let{name:h,type:m,value:j}=r;if(m==="image"){let b=h?`${h}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else h&&u.append(h,j)}}else{if(Hf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=af,o=null,l=uf,c=r}return u&&l==="text/plain"&&(c=u,u=void 0),{action:o,method:n.toLowerCase(),encType:l,formData:u,body:c}}function my(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function pA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function yA(r,e,n){let o=await Promise.all(r.map(async l=>{let u=e.routes[l.route.id];if(u){let c=await pA(u,n);return c.links?c.links():[]}return[]}));return bA(o.flat(1).filter(dA).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function kb(r,e,n,o,l,u){let c=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,s=(f,h)=>{var m;return n[h].pathname!==f.pathname||((m=n[h].route.path)==null?void 0:m.endsWith("*"))&&n[h].params["*"]!==f.params["*"]};return u==="assets"?e.filter((f,h)=>c(f,h)||s(f,h)):u==="data"?e.filter((f,h)=>{var j;let m=o.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(c(f,h)||s(f,h))return!0;if(f.route.shouldRevalidate){let b=f.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((j=n[0])==null?void 0:j.params)||{},nextUrl:new URL(r,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function mA(r,e,{includeHydrateFallback:n}={}){return gA(r.map(o=>{let l=e.routes[o.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function gA(r){return[...new Set(r)]}function vA(r){let e={},n=Object.keys(r).sort();for(let o of n)e[o]=r[o];return e}function bA(r,e){let n=new Set;return new Set(e),r.reduce((o,l)=>{let u=JSON.stringify(vA(l));return n.has(u)||(n.add(u),o.push({key:u,link:l})),o},[])}function _A(r){let e=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function wA(){let r=Te.useContext(_u);return my(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function SA(){let r=Te.useContext(qf);return my(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var gy=Te.createContext(void 0);gy.displayName="FrameworkContext";function V0(){let r=Te.useContext(gy);return my(r,"You must render this element inside a <HydratedRouter> element"),r}function EA(r,e){let n=Te.useContext(gy),[o,l]=Te.useState(!1),[u,c]=Te.useState(!1),{onFocus:s,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:j}=e,b=Te.useRef(null);Te.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let _=g=>{g.forEach(S=>{c(S.isIntersecting)})},$=new IntersectionObserver(_,{threshold:.5});return b.current&&$.observe(b.current),()=>{$.disconnect()}}},[r]),Te.useEffect(()=>{if(o){let _=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(_)}}},[o]);let R=()=>{l(!0)},d=()=>{l(!1),c(!1)};return n?r!=="intent"?[u,b,{}]:[u,b,{onFocus:gl(s,R),onBlur:gl(f,d),onMouseEnter:gl(h,R),onMouseLeave:gl(m,d),onTouchStart:gl(j,R)}]:[!1,b,{}]}function gl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function OA({page:r,...e}){let{router:n}=wA(),o=Te.useMemo(()=>j0(n.routes,r,n.basename),[n.routes,r,n.basename]);return o?Te.createElement(TA,{page:r,matches:o,...e}):null}function AA(r){let{manifest:e,routeModules:n}=V0(),[o,l]=Te.useState([]);return Te.useEffect(()=>{let u=!1;return yA(r,e,n).then(c=>{u||l(c)}),()=>{u=!0}},[r,e,n]),o}function TA({page:r,matches:e,...n}){let o=Sa(),{manifest:l,routeModules:u}=V0(),{loaderData:c,matches:s}=SA(),f=Te.useMemo(()=>kb(r,e,s,l,o,"data"),[r,e,s,l,o]),h=Te.useMemo(()=>kb(r,e,s,l,o,"assets"),[r,e,s,l,o]),m=Te.useMemo(()=>{if(r===o.pathname+o.search+o.hash)return[];let R=new Set,d=!1;if(e.forEach($=>{var S;let g=l.routes[$.route.id];!g||!g.hasLoader||(!f.some(x=>x.route.id===$.route.id)&&$.route.id in c&&((S=u[$.route.id])!=null&&S.shouldRevalidate)||g.hasClientLoader?d=!0:R.add($.route.id))}),R.size===0)return[];let _=_A(r);return d&&R.size>0&&_.searchParams.set("_routes",e.filter($=>R.has($.route.id)).map($=>$.route.id).join(",")),[_.pathname+_.search]},[c,o,l,f,e,r,u]),j=Te.useMemo(()=>mA(h,l),[h,l]),b=AA(h);return Te.createElement(Te.Fragment,null,m.map(R=>Te.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),j.map(R=>Te.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),b.map(({key:R,link:d})=>Te.createElement("link",{key:R,...d})))}function jA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var B0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{B0&&(window.__reactRouterVersion="7.2.0")}catch{}function xA({basename:r,children:e,window:n}){let o=Te.useRef();o.current==null&&(o.current=m1({window:n,v5Compat:!0}));let l=o.current,[u,c]=Te.useState({action:l.action,location:l.location}),s=Te.useCallback(f=>{Te.startTransition(()=>c(f))},[c]);return Te.useLayoutEffect(()=>l.listen(s),[l,s]),Te.createElement(rA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:l})}var U0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,L0=Te.forwardRef(function({onClick:e,discover:n="render",prefetch:o="none",relative:l,reloadDocument:u,replace:c,state:s,target:f,to:h,preventScrollReset:m,viewTransition:j,...b},R){let{basename:d}=Te.useContext(No),_=typeof h=="string"&&U0.test(h),$,g=!1;if(typeof h=="string"&&_&&($=h,B0))try{let E=new URL(window.location.href),N=h.startsWith("//")?new URL(E.protocol+h):new URL(h),P=Bs(N.pathname,d);N.origin===E.origin&&P!=null?h=P+N.search+N.hash:g=!0}catch{Po(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=F1(h,{relative:l}),[x,A,T]=EA(o,b),C=DA(h,{replace:c,state:s,target:f,preventScrollReset:m,relative:l,viewTransition:j});function w(E){e&&e(E),E.defaultPrevented||C(E)}let v=Te.createElement("a",{...b,...T,href:$||S,onClick:g||u?e:w,ref:jA(R,A),target:f,"data-discover":!_&&n==="render"?"true":void 0});return x&&!_?Te.createElement(Te.Fragment,null,v,Te.createElement(OA,{page:S})):v});L0.displayName="Link";var $A=Te.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:o="",end:l=!1,style:u,to:c,viewTransition:s,children:f,...h},m){let j=Kl(c,{relative:h.relative}),b=Sa(),R=Te.useContext(qf),{navigator:d,basename:_}=Te.useContext(No),$=R!=null&&kA(j)&&s===!0,g=d.encodeLocation?d.encodeLocation(j).pathname:j.pathname,S=b.pathname,x=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;n||(S=S.toLowerCase(),x=x?x.toLowerCase():null,g=g.toLowerCase()),x&&_&&(x=Bs(x,_)||x);const A=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let T=S===g||!l&&S.startsWith(g)&&S.charAt(A)==="/",C=x!=null&&(x===g||!l&&x.startsWith(g)&&x.charAt(g.length)==="/"),w={isActive:T,isPending:C,isTransitioning:$},v=T?e:void 0,E;typeof o=="function"?E=o(w):E=[o,T?"active":null,C?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(w):u;return Te.createElement(L0,{...h,"aria-current":v,className:E,ref:m,style:N,to:c,viewTransition:s},typeof f=="function"?f(w):f)});$A.displayName="NavLink";var RA=Te.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:o,replace:l,state:u,method:c=af,action:s,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:j,...b},R)=>{let d=IA(),_=MA(s,{relative:h}),$=c.toLowerCase()==="get"?"get":"post",g=typeof s=="string"&&U0.test(s),S=x=>{if(f&&f(x),x.defaultPrevented)return;x.preventDefault();let A=x.nativeEvent.submitter,T=(A==null?void 0:A.getAttribute("formmethod"))||c;d(A||x.currentTarget,{fetcherKey:e,method:T,navigate:n,replace:l,state:u,relative:h,preventScrollReset:m,viewTransition:j})};return Te.createElement("form",{ref:R,method:$,action:_,onSubmit:o?f:S,...b,"data-discover":!g&&r==="render"?"true":void 0})});RA.displayName="Form";function PA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F0(r){let e=Te.useContext(_u);return Rr(e,PA(r)),e}function DA(r,{target:e,replace:n,state:o,preventScrollReset:l,relative:u,viewTransition:c}={}){let s=zf(),f=Sa(),h=Kl(r,{relative:u});return Te.useCallback(m=>{if(lA(m,e)){m.preventDefault();let j=n!==void 0?n:Nl(f)===Nl(h);s(r,{replace:j,state:o,preventScrollReset:l,relative:u,viewTransition:c})}},[f,s,h,n,o,e,r,l,u,c])}var NA=0,CA=()=>`__${String(++NA)}__`;function IA(){let{router:r}=F0("useSubmit"),{basename:e}=Te.useContext(No),n=Z1();return Te.useCallback(async(o,l={})=>{let{action:u,method:c,encType:s,formData:f,body:h}=hA(o,e);if(l.navigate===!1){let m=l.fetcherKey||CA();await r.fetch(m,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:f,body:h,formMethod:l.method||c,formEncType:l.encType||s,flushSync:l.flushSync})}else await r.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:f,body:h,formMethod:l.method||c,formEncType:l.encType||s,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,e,n])}function MA(r,{relative:e}={}){let{basename:n}=Te.useContext(No),o=Te.useContext(cs);Rr(o,"useFormAction must be used inside a RouteContext");let[l]=o.matches.slice(-1),u={...Kl(r||".",{relative:e})},c=Sa();if(r==null){u.search=c.search;let s=new URLSearchParams(u.search),f=s.getAll("index");if(f.some(m=>m==="")){s.delete("index"),f.filter(j=>j).forEach(j=>s.append("index",j));let m=s.toString();u.search=m?`?${m}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ts([n,u.pathname])),Nl(u)}function kA(r,e={}){let n=Te.useContext(N0);Rr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=F0("useViewTransitionState"),l=Kl(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Bs(n.currentLocation.pathname,o)||n.currentLocation.pathname,c=Bs(n.nextLocation.pathname,o)||n.nextLocation.pathname;return vf(l.pathname,c)!=null||vf(l.pathname,u)!=null}new TextEncoder;var VA=T0();const su=Ff(VA);var dd={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Vb;function BA(){return Vb||(Vb=1,function(r){(function(){var e={}.hasOwnProperty;function n(){for(var u="",c=0;c<arguments.length;c++){var s=arguments[c];s&&(u=l(u,o(s)))}return u}function o(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var c="";for(var s in u)e.call(u,s)&&u[s]&&(c=l(c,s));return c}function l(u,c){return c?u?u+" "+c:u+c:u}r.exports?(n.default=n,r.exports=n):window.classNames=n})()}(dd)),dd.exports}var UA=BA();const fn=Ff(UA),LA=["xxl","xl","lg","md","sm","xs"],FA="xs",Gf=Te.createContext({prefixes:{},breakpoints:LA,minBreakpoint:FA}),{Consumer:wD,Provider:SD}=Gf;function An(r,e){const{prefixes:n}=Te.useContext(Gf);return r||n[e]||e}function q0(){const{breakpoints:r}=Te.useContext(Gf);return r}function z0(){const{minBreakpoint:r}=Te.useContext(Gf);return r}const au=Te.forwardRef(({bsPrefix:r,fluid:e=!1,as:n="div",className:o,...l},u)=>{const c=An(r,"container"),s=typeof e=="string"?`-${e}`:"-fluid";return Re.jsx(n,{ref:u,...l,className:fn(o,e?`${c}${s}`:c)})});au.displayName="Container";const bf=Te.createContext(null),vy=(r,e=null)=>r!=null?String(r):e||null;function kd(){return kd=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)({}).hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},kd.apply(null,arguments)}function H0(r,e){if(r==null)return{};var n={};for(var o in r)if({}.hasOwnProperty.call(r,o)){if(e.indexOf(o)!==-1)continue;n[o]=r[o]}return n}function Bb(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function qA(r){var e=zA(r,"string");return typeof e=="symbol"?e:String(e)}function zA(r,e){if(typeof r!="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var o=n.call(r,e);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function HA(r,e,n){var o=Te.useRef(r!==void 0),l=Te.useState(e),u=l[0],c=l[1],s=r!==void 0,f=o.current;return o.current=s,!s&&f&&u!==e&&c(e),[s?r:u,Te.useCallback(function(h){for(var m=arguments.length,j=new Array(m>1?m-1:0),b=1;b<m;b++)j[b-1]=arguments[b];n&&n.apply(void 0,[h].concat(j)),c(h)},[n])]}function G0(r,e){return Object.keys(e).reduce(function(n,o){var l,u=n,c=u[Bb(o)],s=u[o],f=H0(u,[Bb(o),o].map(qA)),h=e[o],m=HA(s,c,r[h]),j=m[0],b=m[1];return kd({},f,(l={},l[o]=j,l[h]=b,l))},r)}function Vd(r,e){return Vd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,o){return n.__proto__=o,n},Vd(r,e)}function GA(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,Vd(r,e)}const K0=Te.forwardRef(({bsPrefix:r,className:e,as:n,...o},l)=>{r=An(r,"navbar-brand");const u=n||(o.href?"a":"span");return Re.jsx(u,{...o,ref:l,className:fn(e,r)})});K0.displayName="NavbarBrand";function by(r){return r&&r.ownerDocument||document}function KA(r){var e=by(r);return e&&e.defaultView||window}function QA(r,e){return KA(r).getComputedStyle(r,e)}var YA=/([A-Z])/g;function WA(r){return r.replace(YA,"-$1").toLowerCase()}var XA=/^ms-/;function Zc(r){return WA(r).replace(XA,"-ms-")}var JA=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function ZA(r){return!!(r&&JA.test(r))}function ns(r,e){var n="",o="";if(typeof e=="string")return r.style.getPropertyValue(Zc(e))||QA(r).getPropertyValue(Zc(e));Object.keys(e).forEach(function(l){var u=e[l];!u&&u!==0?r.style.removeProperty(Zc(l)):ZA(l)?o+=l+"("+u+") ":n+=Zc(l)+": "+u+";"}),o&&(n+="transform: "+o+";"),r.style.cssText+=";"+n}var yd={exports:{}},md,Ub;function eT(){if(Ub)return md;Ub=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return md=r,md}var gd,Lb;function tT(){if(Lb)return gd;Lb=1;var r=eT();function e(){}function n(){}return n.resetWarningCache=e,gd=function(){function o(c,s,f,h,m,j){if(j!==r){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}o.isRequired=o;function l(){return o}var u={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:l,element:o,elementType:o,instanceOf:l,node:o,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:n,resetWarningCache:e};return u.PropTypes=u,u},gd}var Fb;function nT(){return Fb||(Fb=1,yd.exports=tT()()),yd.exports}var rT=nT();const rs=Ff(rT),qb={disabled:!1},Q0=kr.createContext(null);var iT=function(e){return e.scrollTop},Sl="unmounted",Ds="exited",ho="entering",Zo="entered",Cl="exiting",fs=function(r){GA(e,r);function e(o,l){var u;u=r.call(this,o,l)||this;var c=l,s=c&&!c.isMounting?o.enter:o.appear,f;return u.appearStatus=null,o.in?s?(f=Ds,u.appearStatus=ho):f=Zo:o.unmountOnExit||o.mountOnEnter?f=Sl:f=Ds,u.state={status:f},u.nextCallback=null,u}e.getDerivedStateFromProps=function(l,u){var c=l.in;return c&&u.status===Sl?{status:Ds}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(l){var u=null;if(l!==this.props){var c=this.state.status;this.props.in?c!==ho&&c!==Zo&&(u=ho):(c===ho||c===Zo)&&(u=Cl)}this.updateStatus(!1,u)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var l=this.props.timeout,u,c,s;return u=c=s=l,l!=null&&typeof l!="number"&&(u=l.exit,c=l.enter,s=l.appear!==void 0?l.appear:c),{exit:u,enter:c,appear:s}},n.updateStatus=function(l,u){if(l===void 0&&(l=!1),u!==null)if(this.cancelNextCallback(),u===ho){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:su.findDOMNode(this);c&&iT(c)}this.performEnter(l)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ds&&this.setState({status:Sl})},n.performEnter=function(l){var u=this,c=this.props.enter,s=this.context?this.context.isMounting:l,f=this.props.nodeRef?[s]:[su.findDOMNode(this),s],h=f[0],m=f[1],j=this.getTimeouts(),b=s?j.appear:j.enter;if(!l&&!c||qb.disabled){this.safeSetState({status:Zo},function(){u.props.onEntered(h)});return}this.props.onEnter(h,m),this.safeSetState({status:ho},function(){u.props.onEntering(h,m),u.onTransitionEnd(b,function(){u.safeSetState({status:Zo},function(){u.props.onEntered(h,m)})})})},n.performExit=function(){var l=this,u=this.props.exit,c=this.getTimeouts(),s=this.props.nodeRef?void 0:su.findDOMNode(this);if(!u||qb.disabled){this.safeSetState({status:Ds},function(){l.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:Cl},function(){l.props.onExiting(s),l.onTransitionEnd(c.exit,function(){l.safeSetState({status:Ds},function(){l.props.onExited(s)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(l,u){u=this.setNextCallback(u),this.setState(l,u)},n.setNextCallback=function(l){var u=this,c=!0;return this.nextCallback=function(s){c&&(c=!1,u.nextCallback=null,l(s))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},n.onTransitionEnd=function(l,u){this.setNextCallback(u);var c=this.props.nodeRef?this.props.nodeRef.current:su.findDOMNode(this),s=l==null&&!this.props.addEndListener;if(!c||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],h=f[0],m=f[1];this.props.addEndListener(h,m)}l!=null&&setTimeout(this.nextCallback,l)},n.render=function(){var l=this.state.status;if(l===Sl)return null;var u=this.props,c=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var s=H0(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return kr.createElement(Q0.Provider,{value:null},typeof c=="function"?c(l,s):kr.cloneElement(kr.Children.only(c),s))},e}(kr.Component);fs.contextType=Q0;fs.propTypes={};function Za(){}fs.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Za,onEntering:Za,onEntered:Za,onExit:Za,onExiting:Za,onExited:Za};fs.UNMOUNTED=Sl;fs.EXITED=Ds;fs.ENTERING=ho;fs.ENTERED=Zo;fs.EXITING=Cl;function oT(r){return r.code==="Escape"||r.keyCode===27}function sT(){const r=Te.version.split(".");return{major:+r[0],minor:+r[1],patch:+r[2]}}function wu(r){if(!r||typeof r=="function")return null;const{major:e}=sT();return e>=19?r.props.ref:r.ref}const Kf=!!(typeof window<"u"&&window.document&&window.document.createElement);var Bd=!1,Ud=!1;try{var vd={get passive(){return Bd=!0},get once(){return Ud=Bd=!0}};Kf&&(window.addEventListener("test",vd,vd),window.removeEventListener("test",vd,!0))}catch{}function aT(r,e,n,o){if(o&&typeof o!="boolean"&&!Ud){var l=o.once,u=o.capture,c=n;!Ud&&l&&(c=n.__once||function s(f){this.removeEventListener(e,s,u),n.call(this,f)},n.__once=c),r.addEventListener(e,c,Bd?o:u)}r.addEventListener(e,n,o)}function uT(r,e,n,o){var l=o&&typeof o!="boolean"?o.capture:o;r.removeEventListener(e,n,l),n.__once&&r.removeEventListener(e,n.__once,l)}function _f(r,e,n,o){return aT(r,e,n,o),function(){uT(r,e,n,o)}}function lT(r,e,n,o){if(o===void 0&&(o=!0),r){var l=document.createEvent("HTMLEvents");l.initEvent(e,n,o),r.dispatchEvent(l)}}function cT(r){var e=ns(r,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function fT(r,e,n){n===void 0&&(n=5);var o=!1,l=setTimeout(function(){o||lT(r,"transitionend",!0)},e+n),u=_f(r,"transitionend",function(){o=!0},{once:!0});return function(){clearTimeout(l),u()}}function hT(r,e,n,o){n==null&&(n=cT(r)||0);var l=fT(r,n,o),u=_f(r,"transitionend",e);return function(){l(),u()}}function zb(r,e){const n=ns(r,e)||"",o=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*o}function _y(r,e){const n=zb(r,"transitionDuration"),o=zb(r,"transitionDelay"),l=hT(r,u=>{u.target===r&&(l(),e(u))},n+o)}function vl(...r){return r.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...l){e.apply(this,l),n.apply(this,l)}},null)}function Y0(r){r.offsetHeight}const Hb=r=>!r||typeof r=="function"?r:e=>{r.current=e};function pT(r,e){const n=Hb(r),o=Hb(e);return l=>{n&&n(l),o&&o(l)}}function dT(r,e){return Te.useMemo(()=>pT(r,e),[r,e])}function yT(r){return r&&"setState"in r?su.findDOMNode(r):r??null}const wy=kr.forwardRef(({onEnter:r,onEntering:e,onEntered:n,onExit:o,onExiting:l,onExited:u,addEndListener:c,children:s,childRef:f,...h},m)=>{const j=Te.useRef(null),b=dT(j,f),R=C=>{b(yT(C))},d=C=>w=>{C&&j.current&&C(j.current,w)},_=Te.useCallback(d(r),[r]),$=Te.useCallback(d(e),[e]),g=Te.useCallback(d(n),[n]),S=Te.useCallback(d(o),[o]),x=Te.useCallback(d(l),[l]),A=Te.useCallback(d(u),[u]),T=Te.useCallback(d(c),[c]);return Re.jsx(fs,{ref:m,...h,onEnter:_,onEntered:g,onEntering:$,onExit:S,onExited:A,onExiting:x,addEndListener:T,nodeRef:j,children:typeof s=="function"?(C,w)=>s(C,{...w,ref:R}):kr.cloneElement(s,{ref:R})})}),mT={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function gT(r,e){const n=`offset${r[0].toUpperCase()}${r.slice(1)}`,o=e[n],l=mT[r];return o+parseInt(ns(e,l[0]),10)+parseInt(ns(e,l[1]),10)}const vT={[Ds]:"collapse",[Cl]:"collapsing",[ho]:"collapsing",[Zo]:"collapse show"},bT=kr.forwardRef(({onEnter:r,onEntering:e,onEntered:n,onExit:o,onExiting:l,className:u,children:c,dimension:s="height",in:f=!1,timeout:h=300,mountOnEnter:m=!1,unmountOnExit:j=!1,appear:b=!1,getDimensionValue:R=gT,...d},_)=>{const $=typeof s=="function"?s():s,g=Te.useMemo(()=>vl(C=>{C.style[$]="0"},r),[$,r]),S=Te.useMemo(()=>vl(C=>{const w=`scroll${$[0].toUpperCase()}${$.slice(1)}`;C.style[$]=`${C[w]}px`},e),[$,e]),x=Te.useMemo(()=>vl(C=>{C.style[$]=null},n),[$,n]),A=Te.useMemo(()=>vl(C=>{C.style[$]=`${R($,C)}px`,Y0(C)},o),[o,R,$]),T=Te.useMemo(()=>vl(C=>{C.style[$]=null},l),[$,l]);return Re.jsx(wy,{ref:_,addEndListener:_y,...d,"aria-expanded":d.role?f:null,onEnter:g,onEntering:S,onEntered:x,onExit:A,onExiting:T,childRef:wu(c),in:f,timeout:h,mountOnEnter:m,unmountOnExit:j,appear:b,children:(C,w)=>kr.cloneElement(c,{...w,className:fn(u,c.props.className,vT[C],$==="width"&&"collapse-horizontal")})})}),Su=Te.createContext(null);Su.displayName="NavbarContext";const W0=Te.forwardRef(({children:r,bsPrefix:e,...n},o)=>{e=An(e,"navbar-collapse");const l=Te.useContext(Su);return Re.jsx(bT,{in:!!(l&&l.expanded),...n,children:Re.jsx("div",{ref:o,className:e,children:r})})});W0.displayName="NavbarCollapse";function _T(r){const e=Te.useRef(r);return Te.useEffect(()=>{e.current=r},[r]),e}function Qf(r){const e=_T(r);return Te.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const X0=Te.forwardRef(({bsPrefix:r,className:e,children:n,label:o="Toggle navigation",as:l="button",onClick:u,...c},s)=>{r=An(r,"navbar-toggler");const{onToggle:f,expanded:h}=Te.useContext(Su)||{},m=Qf(j=>{u&&u(j),f&&f()});return l==="button"&&(c.type="button"),Re.jsx(l,{...c,ref:s,onClick:m,"aria-label":o,className:fn(e,r,!h&&"collapsed"),children:n||Re.jsx("span",{className:`${r}-icon`})})});X0.displayName="NavbarToggle";const wT=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",ST=typeof document<"u",ET=ST||wT?Te.useLayoutEffect:Te.useEffect,Ld=new WeakMap,Gb=(r,e)=>{if(!r||!e)return;const n=Ld.get(e)||new Map;Ld.set(e,n);let o=n.get(r);return o||(o=e.matchMedia(r),o.refCount=0,n.set(o.media,o)),o};function OT(r,e=typeof window>"u"?void 0:window){const n=Gb(r,e),[o,l]=Te.useState(()=>n?n.matches:!1);return ET(()=>{let u=Gb(r,e);if(!u)return l(!1);let c=Ld.get(e);const s=()=>{l(u.matches)};return u.refCount++,u.addListener(s),s(),()=>{u.removeListener(s),u.refCount--,u.refCount<=0&&(c==null||c.delete(u.media)),u=void 0}},[r]),o}function AT(r){const e=Object.keys(r);function n(s,f){return s===f?f:s?`${s} and ${f}`:f}function o(s){return e[Math.min(e.indexOf(s)+1,e.length-1)]}function l(s){const f=o(s);let h=r[f];return typeof h=="number"?h=`${h-.2}px`:h=`calc(${h} - 0.2px)`,`(max-width: ${h})`}function u(s){let f=r[s];return typeof f=="number"&&(f=`${f}px`),`(min-width: ${f})`}function c(s,f,h){let m;typeof s=="object"?(m=s,h=f,f=!0):(f=f||!0,m={[s]:f});let j=Te.useMemo(()=>Object.entries(m).reduce((b,[R,d])=>((d==="up"||d===!0)&&(b=n(b,u(R))),(d==="down"||d===!0)&&(b=n(b,l(R))),b),""),[JSON.stringify(m)]);return OT(j,h)}return c}const TT=AT({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function bd(r){r===void 0&&(r=by());try{var e=r.activeElement;return!e||!e.nodeName?null:e}catch{return r.body}}function Kb(r,e){if(r.contains)return r.contains(e);if(r.compareDocumentPosition)return r===e||!!(r.compareDocumentPosition(e)&16)}function jT(){const r=Te.useRef(!0),e=Te.useRef(()=>r.current);return Te.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),e.current}function xT(r){const e=Te.useRef(r);return e.current=r,e}function $T(r){const e=xT(r);Te.useEffect(()=>()=>e.current(),[])}function RT(r){const e=Te.useRef(null);return Te.useEffect(()=>{e.current=r}),e.current}function PT(r){const e=Te.useRef(r);return Te.useEffect(()=>{e.current=r},[r]),e}function es(r){const e=PT(r);return Te.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const DT="data-rr-ui-",NT="rrUi";function Yf(r){return`${DT}${r}`}function CT(r){return`${NT}${r}`}function IT(r=document){const e=r.defaultView;return Math.abs(e.innerWidth-r.documentElement.clientWidth)}const Qb=Yf("modal-open");class Sy{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:o=!1}={}){this.handleContainerOverflow=n,this.isRTL=o,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return IT(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},o=this.isRTL?"paddingLeft":"paddingRight",l=this.getElement();e.style={overflow:l.style.overflow,[o]:l.style[o]},e.scrollBarWidth&&(n[o]=`${parseInt(ns(l,o)||"0",10)+e.scrollBarWidth}px`),l.setAttribute(Qb,""),ns(l,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(Qb),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const J0=Te.createContext(Kf?window:void 0);J0.Provider;function Ey(){return Te.useContext(J0)}const _d=(r,e)=>Kf?r==null?(e||by()).body:(typeof r=="function"&&(r=r()),r&&"current"in r&&(r=r.current),r&&("nodeType"in r||r.getBoundingClientRect)?r:null):null;function MT(r,e){const n=Ey(),[o,l]=Te.useState(()=>_d(r,n==null?void 0:n.document));if(!o){const u=_d(r);u&&l(u)}return Te.useEffect(()=>{},[e,o]),Te.useEffect(()=>{const u=_d(r);u!==o&&l(u)},[r,o]),o}const Yb=r=>!r||typeof r=="function"?r:e=>{r.current=e};function kT(r,e){const n=Yb(r),o=Yb(e);return l=>{n&&n(l),o&&o(l)}}function Wf(r,e){return Te.useMemo(()=>kT(r,e),[r,e])}const VT=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",BT=typeof document<"u",Wb=BT||VT?Te.useLayoutEffect:Te.useEffect;function UT({children:r,in:e,onExited:n,mountOnEnter:o,unmountOnExit:l}){const u=Te.useRef(null),c=Te.useRef(e),s=es(n);Te.useEffect(()=>{e?c.current=!0:s(u.current)},[e,s]);const f=Wf(u,wu(r)),h=Te.cloneElement(r,{ref:f});return e?h:l||!c.current&&o?null:h}const LT=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function FT(r,e){if(r==null)return{};var n={};for(var o in r)if({}.hasOwnProperty.call(r,o)){if(e.indexOf(o)>=0)continue;n[o]=r[o]}return n}function qT(r){let{onEnter:e,onEntering:n,onEntered:o,onExit:l,onExiting:u,onExited:c,addEndListener:s,children:f}=r,h=FT(r,LT);const m=Te.useRef(null),j=Wf(m,wu(f)),b=A=>T=>{A&&m.current&&A(m.current,T)},R=Te.useCallback(b(e),[e]),d=Te.useCallback(b(n),[n]),_=Te.useCallback(b(o),[o]),$=Te.useCallback(b(l),[l]),g=Te.useCallback(b(u),[u]),S=Te.useCallback(b(c),[c]),x=Te.useCallback(b(s),[s]);return Object.assign({},h,{nodeRef:m},e&&{onEnter:R},n&&{onEntering:d},o&&{onEntered:_},l&&{onExit:$},u&&{onExiting:g},c&&{onExited:S},s&&{addEndListener:x},{children:typeof f=="function"?(A,T)=>f(A,Object.assign({},T,{ref:j})):Te.cloneElement(f,{ref:j})})}const zT=["component"];function HT(r,e){if(r==null)return{};var n={};for(var o in r)if({}.hasOwnProperty.call(r,o)){if(e.indexOf(o)>=0)continue;n[o]=r[o]}return n}const GT=Te.forwardRef((r,e)=>{let{component:n}=r,o=HT(r,zT);const l=qT(o);return Re.jsx(n,Object.assign({ref:e},l))});function KT({in:r,onTransition:e}){const n=Te.useRef(null),o=Te.useRef(!0),l=es(e);return Wb(()=>{if(!n.current)return;let u=!1;return l({in:r,element:n.current,initial:o.current,isStale:()=>u}),()=>{u=!0}},[r,l]),Wb(()=>(o.current=!1,()=>{o.current=!0}),[]),n}function QT({children:r,in:e,onExited:n,onEntered:o,transition:l}){const[u,c]=Te.useState(!e);e&&u&&c(!1);const s=KT({in:!!e,onTransition:h=>{const m=()=>{h.isStale()||(h.in?o==null||o(h.element,h.initial):(c(!0),n==null||n(h.element)))};Promise.resolve(l(h)).then(m,j=>{throw h.in||c(!0),j})}}),f=Wf(s,wu(r));return u&&!e?null:Te.cloneElement(r,{ref:f})}function Xb(r,e,n){return r?Re.jsx(GT,Object.assign({},n,{component:r})):e?Re.jsx(QT,Object.assign({},n,{transition:e})):Re.jsx(UT,Object.assign({},n))}const YT=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function WT(r,e){if(r==null)return{};var n={};for(var o in r)if({}.hasOwnProperty.call(r,o)){if(e.indexOf(o)>=0)continue;n[o]=r[o]}return n}let wd;function XT(r){return wd||(wd=new Sy({ownerDocument:r==null?void 0:r.document})),wd}function JT(r){const e=Ey(),n=r||XT(e),o=Te.useRef({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>n.add(o.current),remove:()=>n.remove(o.current),isTopModal:()=>n.isTopModal(o.current),setDialogRef:Te.useCallback(l=>{o.current.dialog=l},[]),setBackdropRef:Te.useCallback(l=>{o.current.backdrop=l},[])})}const Z0=Te.forwardRef((r,e)=>{let{show:n=!1,role:o="dialog",className:l,style:u,children:c,backdrop:s=!0,keyboard:f=!0,onBackdropClick:h,onEscapeKeyDown:m,transition:j,runTransition:b,backdropTransition:R,runBackdropTransition:d,autoFocus:_=!0,enforceFocus:$=!0,restoreFocus:g=!0,restoreFocusOptions:S,renderDialog:x,renderBackdrop:A=X=>Re.jsx("div",Object.assign({},X)),manager:T,container:C,onShow:w,onHide:v=()=>{},onExit:E,onExited:N,onExiting:P,onEnter:I,onEntering:B,onEntered:ee}=r,Z=WT(r,YT);const te=Ey(),re=MT(C),ce=JT(T),ge=jT(),F=RT(n),[V,H]=Te.useState(!n),W=Te.useRef(null);Te.useImperativeHandle(e,()=>ce,[ce]),Kf&&!F&&n&&(W.current=bd(te==null?void 0:te.document)),n&&V&&H(!1);const z=es(()=>{if(ce.add(),we.current=_f(document,"keydown",fe),ve.current=_f(document,"focus",()=>setTimeout(q),!0),w&&w(),_){var X,oe;const Oe=bd((X=(oe=ce.dialog)==null?void 0:oe.ownerDocument)!=null?X:te==null?void 0:te.document);ce.dialog&&Oe&&!Kb(ce.dialog,Oe)&&(W.current=Oe,ce.dialog.focus())}}),M=es(()=>{if(ce.remove(),we.current==null||we.current(),ve.current==null||ve.current(),g){var X;(X=W.current)==null||X.focus==null||X.focus(S),W.current=null}});Te.useEffect(()=>{!n||!re||z()},[n,re,z]),Te.useEffect(()=>{V&&M()},[V,M]),$T(()=>{M()});const q=es(()=>{if(!$||!ge()||!ce.isTopModal())return;const X=bd(te==null?void 0:te.document);ce.dialog&&X&&!Kb(ce.dialog,X)&&ce.dialog.focus()}),ne=es(X=>{X.target===X.currentTarget&&(h==null||h(X),s===!0&&v())}),fe=es(X=>{f&&oT(X)&&ce.isTopModal()&&(m==null||m(X),X.defaultPrevented||v())}),ve=Te.useRef(),we=Te.useRef(),me=(...X)=>{H(!0),N==null||N(...X)};if(!re)return null;const ue=Object.assign({role:o,ref:ce.setDialogRef,"aria-modal":o==="dialog"?!0:void 0},Z,{style:u,className:l,tabIndex:-1});let _e=x?x(ue):Re.jsx("div",Object.assign({},ue,{children:Te.cloneElement(c,{role:"document"})}));_e=Xb(j,b,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:E,onExiting:P,onExited:me,onEnter:I,onEntering:B,onEntered:ee,children:_e});let L=null;return s&&(L=A({ref:ce.setBackdropRef,onClick:ne}),L=Xb(R,d,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:L})),Re.jsx(Re.Fragment,{children:su.createPortal(Re.jsxs(Re.Fragment,{children:[L,_e]}),re)})});Z0.displayName="Modal";const ZT=Object.assign(Z0,{Manager:Sy}),ej={[ho]:"show",[Zo]:"show"},ew=Te.forwardRef(({className:r,children:e,transitionClasses:n={},onEnter:o,...l},u)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...l},s=Te.useCallback((f,h)=>{Y0(f),o==null||o(f,h)},[o]);return Re.jsx(wy,{ref:u,addEndListener:_y,...c,onEnter:s,childRef:wu(e),children:(f,h)=>Te.cloneElement(e,{...h,className:fn("fade",r,e.props.className,ej[f],n[f])})})});ew.displayName="Fade";const tw=Te.forwardRef(({className:r,bsPrefix:e,as:n="div",...o},l)=>(e=An(e,"offcanvas-body"),Re.jsx(n,{ref:l,className:fn(r,e),...o})));tw.displayName="OffcanvasBody";const tj={[ho]:"show",[Zo]:"show"},nw=Te.forwardRef(({bsPrefix:r,className:e,children:n,in:o=!1,mountOnEnter:l=!1,unmountOnExit:u=!1,appear:c=!1,...s},f)=>(r=An(r,"offcanvas"),Re.jsx(wy,{ref:f,addEndListener:_y,in:o,mountOnEnter:l,unmountOnExit:u,appear:c,...s,childRef:wu(n),children:(h,m)=>Te.cloneElement(n,{...m,className:fn(e,n.props.className,(h===ho||h===Cl)&&`${r}-toggling`,tj[h])})})));nw.displayName="OffcanvasToggling";const rw=Te.createContext({onHide(){}}),nj={"aria-label":rs.string,onClick:rs.func,variant:rs.oneOf(["white"])},Oy=Te.forwardRef(({className:r,variant:e,"aria-label":n="Close",...o},l)=>Re.jsx("button",{ref:l,type:"button",className:fn("btn-close",e&&`btn-close-${e}`,r),"aria-label":n,...o}));Oy.displayName="CloseButton";Oy.propTypes=nj;const rj=Te.forwardRef(({closeLabel:r="Close",closeVariant:e,closeButton:n=!1,onHide:o,children:l,...u},c)=>{const s=Te.useContext(rw),f=Qf(()=>{s==null||s.onHide(),o==null||o()});return Re.jsxs("div",{ref:c,...u,children:[l,n&&Re.jsx(Oy,{"aria-label":r,variant:e,onClick:f})]})}),iw=Te.forwardRef(({bsPrefix:r,className:e,closeLabel:n="Close",closeButton:o=!1,...l},u)=>(r=An(r,"offcanvas-header"),Re.jsx(rj,{ref:u,...l,className:fn(e,r),closeLabel:n,closeButton:o})));iw.displayName="OffcanvasHeader";const Ay=r=>Te.forwardRef((e,n)=>Re.jsx("div",{...e,ref:n,className:fn(e.className,r)})),ij=Ay("h5"),ow=Te.forwardRef(({className:r,bsPrefix:e,as:n=ij,...o},l)=>(e=An(e,"offcanvas-title"),Re.jsx(n,{ref:l,className:fn(r,e),...o})));ow.displayName="OffcanvasTitle";function oj(r,e){return r.classList?r.classList.contains(e):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+e+" ")!==-1}function sj(r,e){r.classList?r.classList.add(e):oj(r,e)||(typeof r.className=="string"?r.className=r.className+" "+e:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+e))}var aj=Function.prototype.bind.call(Function.prototype.call,[].slice);function da(r,e){return aj(r.querySelectorAll(e))}function Jb(r,e){return r.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function uj(r,e){r.classList?r.classList.remove(e):typeof r.className=="string"?r.className=Jb(r.className,e):r.setAttribute("class",Jb(r.className&&r.className.baseVal||"",e))}const eu={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class sw extends Sy{adjustAndStore(e,n,o){const l=n.style[e];n.dataset[e]=l,ns(n,{[e]:`${parseFloat(ns(n,e))+o}px`})}restore(e,n){const o=n.dataset[e];o!==void 0&&(delete n.dataset[e],ns(n,{[e]:o}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(sj(n,"modal-open"),!e.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",l=this.isRTL?"marginLeft":"marginRight";da(n,eu.FIXED_CONTENT).forEach(u=>this.adjustAndStore(o,u,e.scrollBarWidth)),da(n,eu.STICKY_CONTENT).forEach(u=>this.adjustAndStore(l,u,-e.scrollBarWidth)),da(n,eu.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(l,u,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();uj(n,"modal-open");const o=this.isRTL?"paddingLeft":"paddingRight",l=this.isRTL?"marginLeft":"marginRight";da(n,eu.FIXED_CONTENT).forEach(u=>this.restore(o,u)),da(n,eu.STICKY_CONTENT).forEach(u=>this.restore(l,u)),da(n,eu.NAVBAR_TOGGLER).forEach(u=>this.restore(l,u))}}let Sd;function lj(r){return Sd||(Sd=new sw(r)),Sd}function cj(r){return Re.jsx(nw,{...r})}function fj(r){return Re.jsx(ew,{...r})}const aw=Te.forwardRef(({bsPrefix:r,className:e,children:n,"aria-labelledby":o,placement:l="start",responsive:u,show:c=!1,backdrop:s=!0,keyboard:f=!0,scroll:h=!1,onEscapeKeyDown:m,onShow:j,onHide:b,container:R,autoFocus:d=!0,enforceFocus:_=!0,restoreFocus:$=!0,restoreFocusOptions:g,onEntered:S,onExit:x,onExiting:A,onEnter:T,onEntering:C,onExited:w,backdropClassName:v,manager:E,renderStaticNode:N=!1,...P},I)=>{const B=Te.useRef();r=An(r,"offcanvas");const[ee,Z]=Te.useState(!1),te=Qf(b),re=TT(u||"xs","up");Te.useEffect(()=>{Z(u?c&&!re:c)},[c,u,re]);const ce=Te.useMemo(()=>({onHide:te}),[te]);function ge(){return E||(h?(B.current||(B.current=new sw({handleContainerOverflow:!1})),B.current):lj())}const F=(z,...M)=>{z&&(z.style.visibility="visible"),T==null||T(z,...M)},V=(z,...M)=>{z&&(z.style.visibility=""),w==null||w(...M)},H=Te.useCallback(z=>Re.jsx("div",{...z,className:fn(`${r}-backdrop`,v)}),[v,r]),W=z=>Re.jsx("div",{...z,...P,className:fn(e,u?`${r}-${u}`:r,`${r}-${l}`),"aria-labelledby":o,children:n});return Re.jsxs(Re.Fragment,{children:[!ee&&(u||N)&&W({}),Re.jsx(rw.Provider,{value:ce,children:Re.jsx(ZT,{show:ee,ref:I,backdrop:s,container:R,keyboard:f,autoFocus:d,enforceFocus:_&&!h,restoreFocus:$,restoreFocusOptions:g,onEscapeKeyDown:m,onShow:j,onHide:te,onEnter:F,onEntering:C,onEntered:S,onExit:x,onExiting:A,onExited:V,manager:ge(),transition:cj,backdropTransition:fj,renderBackdrop:H,renderDialog:W})})]})});aw.displayName="Offcanvas";const hj=Object.assign(aw,{Body:tw,Header:iw,Title:ow}),uw=Te.forwardRef(({onHide:r,...e},n)=>{const o=Te.useContext(Su),l=Qf(()=>{o==null||o.onToggle==null||o.onToggle(),r==null||r()});return Re.jsx(hj,{ref:n,show:!!(o!=null&&o.expanded),...e,renderStaticNode:!0,onHide:l})});uw.displayName="NavbarOffcanvas";const lw=Te.forwardRef(({className:r,bsPrefix:e,as:n="span",...o},l)=>(e=An(e,"navbar-text"),Re.jsx(n,{ref:l,className:fn(r,e),...o})));lw.displayName="NavbarText";const cw=Te.forwardRef((r,e)=>{const{bsPrefix:n,expand:o=!0,variant:l="light",bg:u,fixed:c,sticky:s,className:f,as:h="nav",expanded:m,onToggle:j,onSelect:b,collapseOnSelect:R=!1,...d}=G0(r,{expanded:"onToggle"}),_=An(n,"navbar"),$=Te.useCallback((...x)=>{b==null||b(...x),R&&m&&(j==null||j(!1))},[b,R,m,j]);d.role===void 0&&h!=="nav"&&(d.role="navigation");let g=`${_}-expand`;typeof o=="string"&&(g=`${g}-${o}`);const S=Te.useMemo(()=>({onToggle:()=>j==null?void 0:j(!m),bsPrefix:_,expanded:!!m,expand:o}),[_,m,o,j]);return Re.jsx(Su.Provider,{value:S,children:Re.jsx(bf.Provider,{value:$,children:Re.jsx(h,{ref:e,...d,className:fn(f,_,o&&g,l&&`${_}-${l}`,u&&`bg-${u}`,s&&`sticky-${s}`,c&&`fixed-${c}`)})})})});cw.displayName="Navbar";const oo=Object.assign(cw,{Brand:K0,Collapse:W0,Offcanvas:uw,Text:lw,Toggle:X0});function pj(){const[,r]=Te.useReducer(e=>e+1,0);return r}const Ty=Te.createContext(null);Ty.displayName="NavContext";const fw=Te.createContext(null),dj=["as","disabled"];function yj(r,e){if(r==null)return{};var n={};for(var o in r)if({}.hasOwnProperty.call(r,o)){if(e.indexOf(o)>=0)continue;n[o]=r[o]}return n}function mj(r){return!r||r.trim()==="#"}function jy({tagName:r,disabled:e,href:n,target:o,rel:l,role:u,onClick:c,tabIndex:s=0,type:f}){r||(n!=null||o!=null||l!=null?r="a":r="button");const h={tagName:r};if(r==="button")return[{type:f||"button",disabled:e},h];const m=b=>{if((e||r==="a"&&mj(n))&&b.preventDefault(),e){b.stopPropagation();return}c==null||c(b)},j=b=>{b.key===" "&&(b.preventDefault(),m(b))};return r==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:u??"button",disabled:void 0,tabIndex:e?void 0:s,href:n,target:r==="a"?o:void 0,"aria-disabled":e||void 0,rel:r==="a"?l:void 0,onClick:m,onKeyDown:j},h]}const hw=Te.forwardRef((r,e)=>{let{as:n,disabled:o}=r,l=yj(r,dj);const[u,{tagName:c}]=jy(Object.assign({tagName:n,disabled:o},l));return Re.jsx(c,Object.assign({},l,u,{ref:e}))});hw.displayName="Button";const gj=["as","active","eventKey"];function vj(r,e){if(r==null)return{};var n={};for(var o in r)if({}.hasOwnProperty.call(r,o)){if(e.indexOf(o)>=0)continue;n[o]=r[o]}return n}function pw({key:r,onClick:e,active:n,id:o,role:l,disabled:u}){const c=Te.useContext(bf),s=Te.useContext(Ty),f=Te.useContext(fw);let h=n;const m={role:l};if(s){!l&&s.role==="tablist"&&(m.role="tab");const j=s.getControllerId(r??null),b=s.getControlledId(r??null);m[Yf("event-key")]=r,m.id=j||o,h=n==null&&r!=null?s.activeKey===r:n,(h||!(f!=null&&f.unmountOnExit)&&!(f!=null&&f.mountOnEnter))&&(m["aria-controls"]=b)}return m.role==="tab"&&(m["aria-selected"]=h,h||(m.tabIndex=-1),u&&(m.tabIndex=-1,m["aria-disabled"]=!0)),m.onClick=es(j=>{u||(e==null||e(j),r!=null&&c&&!j.isPropagationStopped()&&c(r,j))}),[m,{isActive:h}]}const dw=Te.forwardRef((r,e)=>{let{as:n=hw,active:o,eventKey:l}=r,u=vj(r,gj);const[c,s]=pw(Object.assign({key:vy(l,u.href),active:o},u));return c[Yf("active")]=s.isActive,Re.jsx(n,Object.assign({},u,c,{ref:e}))});dw.displayName="NavItem";const bj=["as","onSelect","activeKey","role","onKeyDown"];function _j(r,e){if(r==null)return{};var n={};for(var o in r)if({}.hasOwnProperty.call(r,o)){if(e.indexOf(o)>=0)continue;n[o]=r[o]}return n}const Zb=()=>{},e_=Yf("event-key"),yw=Te.forwardRef((r,e)=>{let{as:n="div",onSelect:o,activeKey:l,role:u,onKeyDown:c}=r,s=_j(r,bj);const f=pj(),h=Te.useRef(!1),m=Te.useContext(bf),j=Te.useContext(fw);let b,R;j&&(u=u||"tablist",l=j.activeKey,b=j.getControlledId,R=j.getControllerId);const d=Te.useRef(null),_=x=>{const A=d.current;if(!A)return null;const T=da(A,`[${e_}]:not([aria-disabled=true])`),C=A.querySelector("[aria-selected=true]");if(!C||C!==document.activeElement)return null;const w=T.indexOf(C);if(w===-1)return null;let v=w+x;return v>=T.length&&(v=0),v<0&&(v=T.length-1),T[v]},$=(x,A)=>{x!=null&&(o==null||o(x,A),m==null||m(x,A))},g=x=>{if(c==null||c(x),!j)return;let A;switch(x.key){case"ArrowLeft":case"ArrowUp":A=_(-1);break;case"ArrowRight":case"ArrowDown":A=_(1);break;default:return}A&&(x.preventDefault(),$(A.dataset[CT("EventKey")]||null,x),h.current=!0,f())};Te.useEffect(()=>{if(d.current&&h.current){const x=d.current.querySelector(`[${e_}][aria-selected=true]`);x==null||x.focus()}h.current=!1});const S=Wf(e,d);return Re.jsx(bf.Provider,{value:$,children:Re.jsx(Ty.Provider,{value:{role:u,activeKey:vy(l),getControlledId:b||Zb,getControllerId:R||Zb},children:Re.jsx(n,Object.assign({},s,{onKeyDown:g,ref:S,role:u}))})})});yw.displayName="Nav";const wj=Object.assign(yw,{Item:dw}),xy=Te.createContext(null);xy.displayName="CardHeaderContext";const mw=Te.forwardRef(({className:r,bsPrefix:e,as:n="div",...o},l)=>(e=An(e,"nav-item"),Re.jsx(n,{ref:l,className:fn(r,e),...o})));mw.displayName="NavItem";const Sj=["onKeyDown"];function Ej(r,e){if(r==null)return{};var n={};for(var o in r)if({}.hasOwnProperty.call(r,o)){if(e.indexOf(o)>=0)continue;n[o]=r[o]}return n}function Oj(r){return!r||r.trim()==="#"}const gw=Te.forwardRef((r,e)=>{let{onKeyDown:n}=r,o=Ej(r,Sj);const[l]=jy(Object.assign({tagName:"a"},o)),u=es(c=>{l.onKeyDown(c),n==null||n(c)});return Oj(o.href)||o.role==="button"?Re.jsx("a",Object.assign({ref:e},o,l,{onKeyDown:u})):Re.jsx("a",Object.assign({ref:e},o,{onKeyDown:n}))});gw.displayName="Anchor";const vw=Te.forwardRef(({bsPrefix:r,className:e,as:n=gw,active:o,eventKey:l,disabled:u=!1,...c},s)=>{r=An(r,"nav-link");const[f,h]=pw({key:vy(l,c.href),active:o,disabled:u,...c});return Re.jsx(n,{...c,...f,ref:s,disabled:u,className:fn(e,r,u&&"disabled",h.isActive&&"active")})});vw.displayName="NavLink";const bw=Te.forwardRef((r,e)=>{const{as:n="div",bsPrefix:o,variant:l,fill:u=!1,justify:c=!1,navbar:s,navbarScroll:f,className:h,activeKey:m,...j}=G0(r,{activeKey:"onSelect"}),b=An(o,"nav");let R,d,_=!1;const $=Te.useContext(Su),g=Te.useContext(xy);return $?(R=$.bsPrefix,_=s??!0):g&&({cardHeaderBsPrefix:d}=g),Re.jsx(wj,{as:n,ref:e,activeKey:m,className:fn(h,{[b]:!_,[`${R}-nav`]:_,[`${R}-nav-scroll`]:_&&f,[`${d}-${l}`]:!!d,[`${b}-${l}`]:!!l,[`${b}-fill`]:u,[`${b}-justified`]:c}),...j})});bw.displayName="Nav";const uu=Object.assign(bw,{Item:mw,Link:vw}),To=Te.forwardRef(({as:r,bsPrefix:e,variant:n="primary",size:o,active:l=!1,disabled:u=!1,className:c,...s},f)=>{const h=An(e,"btn"),[m,{tagName:j}]=jy({tagName:r,disabled:u,...s}),b=j;return Re.jsx(b,{...m,...s,ref:f,disabled:u,className:fn(c,h,l&&"active",n&&`${h}-${n}`,o&&`${h}-${o}`,s.href&&u&&"disabled")})});To.displayName="Button";const $y=Te.forwardRef(({className:r,bsPrefix:e,as:n="div",...o},l)=>(e=An(e,"card-body"),Re.jsx(n,{ref:l,className:fn(r,e),...o})));$y.displayName="CardBody";const _w=Te.forwardRef(({className:r,bsPrefix:e,as:n="div",...o},l)=>(e=An(e,"card-footer"),Re.jsx(n,{ref:l,className:fn(r,e),...o})));_w.displayName="CardFooter";const ww=Te.forwardRef(({bsPrefix:r,className:e,as:n="div",...o},l)=>{const u=An(r,"card-header"),c=Te.useMemo(()=>({cardHeaderBsPrefix:u}),[u]);return Re.jsx(xy.Provider,{value:c,children:Re.jsx(n,{ref:l,...o,className:fn(e,u)})})});ww.displayName="CardHeader";const Sw=Te.forwardRef(({bsPrefix:r,className:e,variant:n,as:o="img",...l},u)=>{const c=An(r,"card-img");return Re.jsx(o,{ref:u,className:fn(n?`${c}-${n}`:c,e),...l})});Sw.displayName="CardImg";const Ew=Te.forwardRef(({className:r,bsPrefix:e,as:n="div",...o},l)=>(e=An(e,"card-img-overlay"),Re.jsx(n,{ref:l,className:fn(r,e),...o})));Ew.displayName="CardImgOverlay";const Ow=Te.forwardRef(({className:r,bsPrefix:e,as:n="a",...o},l)=>(e=An(e,"card-link"),Re.jsx(n,{ref:l,className:fn(r,e),...o})));Ow.displayName="CardLink";const Aj=Ay("h6"),Aw=Te.forwardRef(({className:r,bsPrefix:e,as:n=Aj,...o},l)=>(e=An(e,"card-subtitle"),Re.jsx(n,{ref:l,className:fn(r,e),...o})));Aw.displayName="CardSubtitle";const Tw=Te.forwardRef(({className:r,bsPrefix:e,as:n="p",...o},l)=>(e=An(e,"card-text"),Re.jsx(n,{ref:l,className:fn(r,e),...o})));Tw.displayName="CardText";const Tj=Ay("h5"),jw=Te.forwardRef(({className:r,bsPrefix:e,as:n=Tj,...o},l)=>(e=An(e,"card-title"),Re.jsx(n,{ref:l,className:fn(r,e),...o})));jw.displayName="CardTitle";const xw=Te.forwardRef(({bsPrefix:r,className:e,bg:n,text:o,border:l,body:u=!1,children:c,as:s="div",...f},h)=>{const m=An(r,"card");return Re.jsx(s,{ref:h,...f,className:fn(e,m,n&&`bg-${n}`,o&&`text-${o}`,l&&`border-${l}`),children:u?Re.jsx($y,{children:c}):c})});xw.displayName="Card";const Ed=Object.assign(xw,{Img:Sw,Title:jw,Subtitle:Aw,Body:$y,Link:Ow,Text:Tw,Header:ww,Footer:_w,ImgOverlay:Ew}),Jo=Te.forwardRef(({bsPrefix:r,className:e,as:n="div",...o},l)=>{const u=An(r,"row"),c=q0(),s=z0(),f=`${u}-cols`,h=[];return c.forEach(m=>{const j=o[m];delete o[m];let b;j!=null&&typeof j=="object"?{cols:b}=j:b=j;const R=m!==s?`-${m}`:"";b!=null&&h.push(`${f}${R}-${b}`)}),Re.jsx(n,{ref:l,...o,className:fn(e,u,...h)})});Jo.displayName="Row";function jj({as:r,bsPrefix:e,className:n,...o}){e=An(e,"col");const l=q0(),u=z0(),c=[],s=[];return l.forEach(f=>{const h=o[f];delete o[f];let m,j,b;typeof h=="object"&&h!=null?{span:m,offset:j,order:b}=h:m=h;const R=f!==u?`-${f}`:"";m&&c.push(m===!0?`${e}${R}`:`${e}${R}-${m}`),b!=null&&s.push(`order${R}-${b}`),j!=null&&s.push(`offset${R}-${j}`)}),[{...o,className:fn(n,...c,...s)},{as:r,bsPrefix:e,spans:c}]}const Lr=Te.forwardRef((r,e)=>{const[{className:n,...o},{as:l="div",bsPrefix:u,spans:c}]=jj(r);return Re.jsx(l,{...o,ref:e,className:fn(n,!c.length&&u)})});Lr.displayName="Col";const xj=()=>{};var t_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $w=function(r){const e=[];let n=0;for(let o=0;o<r.length;o++){let l=r.charCodeAt(o);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&o+1<r.length&&(r.charCodeAt(o+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++o)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},$j=function(r){const e=[];let n=0,o=0;for(;n<r.length;){const l=r[n++];if(l<128)e[o++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[o++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],c=r[n++],s=r[n++],f=((l&7)<<18|(u&63)<<12|(c&63)<<6|s&63)-65536;e[o++]=String.fromCharCode(55296+(f>>10)),e[o++]=String.fromCharCode(56320+(f&1023))}else{const u=r[n++],c=r[n++];e[o++]=String.fromCharCode((l&15)<<12|(u&63)<<6|c&63)}}return e.join("")},Rw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let l=0;l<r.length;l+=3){const u=r[l],c=l+1<r.length,s=c?r[l+1]:0,f=l+2<r.length,h=f?r[l+2]:0,m=u>>2,j=(u&3)<<4|s>>4;let b=(s&15)<<2|h>>6,R=h&63;f||(R=64,c||(b=64)),o.push(n[m],n[j],n[b],n[R])}return o.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray($w(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):$j(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],s=l<r.length?n[r.charAt(l)]:0;++l;const h=l<r.length?n[r.charAt(l)]:64;++l;const j=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||s==null||h==null||j==null)throw new Rj;const b=u<<2|s>>4;if(o.push(b),h!==64){const R=s<<4&240|h>>2;if(o.push(R),j!==64){const d=h<<6&192|j;o.push(d)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Rj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pj=function(r){const e=$w(r);return Rw.encodeByteArray(e,!0)},wf=function(r){return Pj(r).replace(/\./g,"")},Dj=function(r){try{return Rw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cj=()=>Nj().__FIREBASE_DEFAULTS__,Ij=()=>{if(typeof process>"u"||typeof t_>"u")return;const r=t_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Mj=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Dj(r[1]);return e&&JSON.parse(e)},Ry=()=>{try{return xj()||Cj()||Ij()||Mj()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},kj=r=>{var e,n;return(n=(e=Ry())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Vj=r=>{const e=kj(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),o]:[e.substring(0,n),o]},Pw=()=>{var r;return(r=Ry())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},o=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[wf(JSON.stringify(n)),wf(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lj(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fj(){var r;const e=(r=Ry())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qj(){return!Fj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zj(){try{return typeof indexedDB=="object"}catch{return!1}}function Hj(){return new Promise((r,e)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(o);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(o),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj="FirebaseError";class Eu extends Error{constructor(e,n,o){super(n),this.code=e,this.customData=o,this.name=Gj,Object.setPrototypeOf(this,Eu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dw.prototype.create)}}class Dw{constructor(e,n,o){this.service=e,this.serviceName=n,this.errors=o}create(e,...n){const o=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],c=u?Kj(u,o):"Error",s=`${this.serviceName}: ${c} (${l}).`;return new Eu(l,s,o)}}function Kj(r,e){return r.replace(Qj,(n,o)=>{const l=e[o];return l!=null?String(l):`<${o}?>`})}const Qj=/\{\$([^}]+)}/g;function Sf(r,e){if(r===e)return!0;const n=Object.keys(r),o=Object.keys(e);for(const l of n){if(!o.includes(l))return!1;const u=r[l],c=e[l];if(n_(u)&&n_(c)){if(!Sf(u,c))return!1}else if(u!==c)return!1}for(const l of o)if(!n.includes(l))return!1;return!0}function n_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function os(r){return r&&r._delegate?r._delegate:r}class Il{constructor(e,n,o){this.name=e,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const o=new Bj;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&o.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xj(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});o.resolve(u)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[u,c]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(u);o===s&&c.resolve(l)}return l}onInit(e,n){var o;const l=this.normalizeInstanceIdentifier(n),u=(o=this.onInitCallbacks.get(l))!==null&&o!==void 0?o:new Set;u.add(e),this.onInitCallbacks.set(l,u);const c=this.instances.get(l);return c&&e(c,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const o=this.onInitCallbacks.get(n);if(o)for(const l of o)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Wj(e),options:n}),this.instances.set(e,o),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Wj(r){return r===ya?void 0:r}function Xj(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Yj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zn;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(zn||(zn={}));const Zj={debug:zn.DEBUG,verbose:zn.VERBOSE,info:zn.INFO,warn:zn.WARN,error:zn.ERROR,silent:zn.SILENT},ex=zn.INFO,tx={[zn.DEBUG]:"log",[zn.VERBOSE]:"log",[zn.INFO]:"info",[zn.WARN]:"warn",[zn.ERROR]:"error"},nx=(r,e,...n)=>{if(e<r.logLevel)return;const o=new Date().toISOString(),l=tx[e];if(l)console[l](`[${o}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nw{constructor(e){this.name=e,this._logLevel=ex,this._logHandler=nx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in zn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,zn.DEBUG,...e),this._logHandler(this,zn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,zn.VERBOSE,...e),this._logHandler(this,zn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,zn.INFO,...e),this._logHandler(this,zn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,zn.WARN,...e),this._logHandler(this,zn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,zn.ERROR,...e),this._logHandler(this,zn.ERROR,...e)}}const rx=(r,e)=>e.some(n=>r instanceof n);let r_,i_;function ix(){return r_||(r_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ox(){return i_||(i_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Cw=new WeakMap,Fd=new WeakMap,Iw=new WeakMap,Od=new WeakMap,Py=new WeakMap;function sx(r){const e=new Promise((n,o)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",c)},u=()=>{n(Is(r.result)),l()},c=()=>{o(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&Cw.set(n,r)}).catch(()=>{}),Py.set(e,r),e}function ax(r){if(Fd.has(r))return;const e=new Promise((n,o)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",c),r.removeEventListener("abort",c)},u=()=>{n(),l()},c=()=>{o(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",c),r.addEventListener("abort",c)});Fd.set(r,e)}let qd={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Fd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Iw.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Is(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ux(r){qd=r(qd)}function lx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const o=r.call(Ad(this),e,...n);return Iw.set(o,e.sort?e.sort():[e]),Is(o)}:ox().includes(r)?function(...e){return r.apply(Ad(this),e),Is(Cw.get(this))}:function(...e){return Is(r.apply(Ad(this),e))}}function cx(r){return typeof r=="function"?lx(r):(r instanceof IDBTransaction&&ax(r),rx(r,ix())?new Proxy(r,qd):r)}function Is(r){if(r instanceof IDBRequest)return sx(r);if(Od.has(r))return Od.get(r);const e=cx(r);return e!==r&&(Od.set(r,e),Py.set(e,r)),e}const Ad=r=>Py.get(r);function fx(r,e,{blocked:n,upgrade:o,blocking:l,terminated:u}={}){const c=indexedDB.open(r,e),s=Is(c);return o&&c.addEventListener("upgradeneeded",f=>{o(Is(c.result),f.oldVersion,f.newVersion,Is(c.transaction),f)}),n&&c.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),s.then(f=>{u&&f.addEventListener("close",()=>u()),l&&f.addEventListener("versionchange",h=>l(h.oldVersion,h.newVersion,h))}).catch(()=>{}),s}const hx=["get","getKey","getAll","getAllKeys","count"],px=["put","add","delete","clear"],Td=new Map;function o_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Td.get(e))return Td.get(e);const n=e.replace(/FromIndex$/,""),o=e!==n,l=px.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(l||hx.includes(n)))return;const u=async function(c,...s){const f=this.transaction(c,l?"readwrite":"readonly");let h=f.store;return o&&(h=h.index(s.shift())),(await Promise.all([h[n](...s),l&&f.done]))[0]};return Td.set(e,u),u}ux(r=>({...r,get:(e,n,o)=>o_(e,n)||r.get(e,n,o),has:(e,n)=>!!o_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yx(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function yx(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zd="@firebase/app",s_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new Nw("@firebase/app"),mx="@firebase/app-compat",gx="@firebase/analytics-compat",vx="@firebase/analytics",bx="@firebase/app-check-compat",_x="@firebase/app-check",wx="@firebase/auth",Sx="@firebase/auth-compat",Ex="@firebase/database",Ox="@firebase/data-connect",Ax="@firebase/database-compat",Tx="@firebase/functions",jx="@firebase/functions-compat",xx="@firebase/installations",$x="@firebase/installations-compat",Rx="@firebase/messaging",Px="@firebase/messaging-compat",Dx="@firebase/performance",Nx="@firebase/performance-compat",Cx="@firebase/remote-config",Ix="@firebase/remote-config-compat",Mx="@firebase/storage",kx="@firebase/storage-compat",Vx="@firebase/firestore",Bx="@firebase/vertexai",Ux="@firebase/firestore-compat",Lx="firebase",Fx="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="[DEFAULT]",qx={[zd]:"fire-core",[mx]:"fire-core-compat",[vx]:"fire-analytics",[gx]:"fire-analytics-compat",[_x]:"fire-app-check",[bx]:"fire-app-check-compat",[wx]:"fire-auth",[Sx]:"fire-auth-compat",[Ex]:"fire-rtdb",[Ox]:"fire-data-connect",[Ax]:"fire-rtdb-compat",[Tx]:"fire-fn",[jx]:"fire-fn-compat",[xx]:"fire-iid",[$x]:"fire-iid-compat",[Rx]:"fire-fcm",[Px]:"fire-fcm-compat",[Dx]:"fire-perf",[Nx]:"fire-perf-compat",[Cx]:"fire-rc",[Ix]:"fire-rc-compat",[Mx]:"fire-gcs",[kx]:"fire-gcs-compat",[Vx]:"fire-fst",[Ux]:"fire-fst-compat",[Bx]:"fire-vertex","fire-js":"fire-js",[Lx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef=new Map,zx=new Map,Gd=new Map;function a_(r,e){try{r.container.addComponent(e)}catch(n){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Of(r){const e=r.name;if(Gd.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;Gd.set(e,r);for(const n of Ef.values())a_(n,r);for(const n of zx.values())a_(n,r);return!0}function Hx(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Gx(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new Dw("app","Firebase",Kx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Il("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=Fx;function Mw(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const o=Object.assign({name:Hd,automaticDataCollectionEnabled:!1},e),l=o.name;if(typeof l!="string"||!l)throw Ms.create("bad-app-name",{appName:String(l)});if(n||(n=Pw()),!n)throw Ms.create("no-options");const u=Ef.get(l);if(u){if(Sf(n,u.options)&&Sf(o,u.config))return u;throw Ms.create("duplicate-app",{appName:l})}const c=new Jj(l);for(const f of Gd.values())c.addComponent(f);const s=new Qx(n,o,c);return Ef.set(l,s),s}function Wx(r=Hd){const e=Ef.get(r);if(!e&&r===Hd&&Pw())return Mw();if(!e)throw Ms.create("no-app",{appName:r});return e}function lu(r,e,n){var o;let l=(o=qx[r])!==null&&o!==void 0?o:r;n&&(l+=`-${n}`);const u=l.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const s=[`Unable to register library "${l}" with version "${e}":`];u&&s.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&c&&s.push("and"),c&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(s.join(" "));return}Of(new Il(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="firebase-heartbeat-database",Jx=1,Ml="firebase-heartbeat-store";let jd=null;function kw(){return jd||(jd=fx(Xx,Jx,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ml)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ms.create("idb-open",{originalErrorMessage:r.message})})),jd}async function Zx(r){try{const n=(await kw()).transaction(Ml),o=await n.objectStore(Ml).get(Vw(r));return await n.done,o}catch(e){if(e instanceof Eu)ss.warn(e.message);else{const n=Ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ss.warn(n.message)}}}async function u_(r,e){try{const o=(await kw()).transaction(Ml,"readwrite");await o.objectStore(Ml).put(e,Vw(r)),await o.done}catch(n){if(n instanceof Eu)ss.warn(n.message);else{const o=Ms.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ss.warn(o.message)}}}function Vw(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=1024,t2=30;class n2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new i2(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=l_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>t2){const c=o2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(o){ss.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=l_(),{heartbeatsToSend:o,unsentEntries:l}=r2(this._heartbeatsCache.heartbeats),u=wf(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ss.warn(n),""}}}function l_(){return new Date().toISOString().substring(0,10)}function r2(r,e=e2){const n=[];let o=r.slice();for(const l of r){const u=n.find(c=>c.agent===l.agent);if(u){if(u.dates.push(l.date),c_(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),c_(n)>e){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class i2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zj()?Hj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Zx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return u_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return u_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function c_(r){return wf(JSON.stringify({version:2,heartbeats:r})).length}function o2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let o=1;o<r.length;o++)r[o].date<n&&(n=r[o].date,e=o);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(r){Of(new Il("platform-logger",e=>new dx(e),"PRIVATE")),Of(new Il("heartbeat",e=>new n2(e),"PRIVATE")),lu(zd,s_,r),lu(zd,s_,"esm2017"),lu("fire-js","")}s2("");var a2="firebase",u2="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */lu(a2,u2,"app");var f_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ks,Bw;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(N,P,I){for(var B=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)B[ee-2]=arguments[ee];return v.prototype[P].apply(N,B)}}function n(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,n),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(w,v,E){E||(E=0);var N=Array(16);if(typeof v=="string")for(var P=0;16>P;++P)N[P]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(P=0;16>P;++P)N[P]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],P=w.g[2];var I=w.g[3],B=v+(I^E&(P^I))+N[0]+3614090360&4294967295;v=E+(B<<7&4294967295|B>>>25),B=I+(P^v&(E^P))+N[1]+3905402710&4294967295,I=v+(B<<12&4294967295|B>>>20),B=P+(E^I&(v^E))+N[2]+606105819&4294967295,P=I+(B<<17&4294967295|B>>>15),B=E+(v^P&(I^v))+N[3]+3250441966&4294967295,E=P+(B<<22&4294967295|B>>>10),B=v+(I^E&(P^I))+N[4]+4118548399&4294967295,v=E+(B<<7&4294967295|B>>>25),B=I+(P^v&(E^P))+N[5]+1200080426&4294967295,I=v+(B<<12&4294967295|B>>>20),B=P+(E^I&(v^E))+N[6]+2821735955&4294967295,P=I+(B<<17&4294967295|B>>>15),B=E+(v^P&(I^v))+N[7]+4249261313&4294967295,E=P+(B<<22&4294967295|B>>>10),B=v+(I^E&(P^I))+N[8]+1770035416&4294967295,v=E+(B<<7&4294967295|B>>>25),B=I+(P^v&(E^P))+N[9]+2336552879&4294967295,I=v+(B<<12&4294967295|B>>>20),B=P+(E^I&(v^E))+N[10]+4294925233&4294967295,P=I+(B<<17&4294967295|B>>>15),B=E+(v^P&(I^v))+N[11]+2304563134&4294967295,E=P+(B<<22&4294967295|B>>>10),B=v+(I^E&(P^I))+N[12]+1804603682&4294967295,v=E+(B<<7&4294967295|B>>>25),B=I+(P^v&(E^P))+N[13]+4254626195&4294967295,I=v+(B<<12&4294967295|B>>>20),B=P+(E^I&(v^E))+N[14]+2792965006&4294967295,P=I+(B<<17&4294967295|B>>>15),B=E+(v^P&(I^v))+N[15]+1236535329&4294967295,E=P+(B<<22&4294967295|B>>>10),B=v+(P^I&(E^P))+N[1]+4129170786&4294967295,v=E+(B<<5&4294967295|B>>>27),B=I+(E^P&(v^E))+N[6]+3225465664&4294967295,I=v+(B<<9&4294967295|B>>>23),B=P+(v^E&(I^v))+N[11]+643717713&4294967295,P=I+(B<<14&4294967295|B>>>18),B=E+(I^v&(P^I))+N[0]+3921069994&4294967295,E=P+(B<<20&4294967295|B>>>12),B=v+(P^I&(E^P))+N[5]+3593408605&4294967295,v=E+(B<<5&4294967295|B>>>27),B=I+(E^P&(v^E))+N[10]+38016083&4294967295,I=v+(B<<9&4294967295|B>>>23),B=P+(v^E&(I^v))+N[15]+3634488961&4294967295,P=I+(B<<14&4294967295|B>>>18),B=E+(I^v&(P^I))+N[4]+3889429448&4294967295,E=P+(B<<20&4294967295|B>>>12),B=v+(P^I&(E^P))+N[9]+568446438&4294967295,v=E+(B<<5&4294967295|B>>>27),B=I+(E^P&(v^E))+N[14]+3275163606&4294967295,I=v+(B<<9&4294967295|B>>>23),B=P+(v^E&(I^v))+N[3]+4107603335&4294967295,P=I+(B<<14&4294967295|B>>>18),B=E+(I^v&(P^I))+N[8]+1163531501&4294967295,E=P+(B<<20&4294967295|B>>>12),B=v+(P^I&(E^P))+N[13]+2850285829&4294967295,v=E+(B<<5&4294967295|B>>>27),B=I+(E^P&(v^E))+N[2]+4243563512&4294967295,I=v+(B<<9&4294967295|B>>>23),B=P+(v^E&(I^v))+N[7]+1735328473&4294967295,P=I+(B<<14&4294967295|B>>>18),B=E+(I^v&(P^I))+N[12]+2368359562&4294967295,E=P+(B<<20&4294967295|B>>>12),B=v+(E^P^I)+N[5]+4294588738&4294967295,v=E+(B<<4&4294967295|B>>>28),B=I+(v^E^P)+N[8]+2272392833&4294967295,I=v+(B<<11&4294967295|B>>>21),B=P+(I^v^E)+N[11]+1839030562&4294967295,P=I+(B<<16&4294967295|B>>>16),B=E+(P^I^v)+N[14]+4259657740&4294967295,E=P+(B<<23&4294967295|B>>>9),B=v+(E^P^I)+N[1]+2763975236&4294967295,v=E+(B<<4&4294967295|B>>>28),B=I+(v^E^P)+N[4]+1272893353&4294967295,I=v+(B<<11&4294967295|B>>>21),B=P+(I^v^E)+N[7]+4139469664&4294967295,P=I+(B<<16&4294967295|B>>>16),B=E+(P^I^v)+N[10]+3200236656&4294967295,E=P+(B<<23&4294967295|B>>>9),B=v+(E^P^I)+N[13]+681279174&4294967295,v=E+(B<<4&4294967295|B>>>28),B=I+(v^E^P)+N[0]+3936430074&4294967295,I=v+(B<<11&4294967295|B>>>21),B=P+(I^v^E)+N[3]+3572445317&4294967295,P=I+(B<<16&4294967295|B>>>16),B=E+(P^I^v)+N[6]+76029189&4294967295,E=P+(B<<23&4294967295|B>>>9),B=v+(E^P^I)+N[9]+3654602809&4294967295,v=E+(B<<4&4294967295|B>>>28),B=I+(v^E^P)+N[12]+3873151461&4294967295,I=v+(B<<11&4294967295|B>>>21),B=P+(I^v^E)+N[15]+530742520&4294967295,P=I+(B<<16&4294967295|B>>>16),B=E+(P^I^v)+N[2]+3299628645&4294967295,E=P+(B<<23&4294967295|B>>>9),B=v+(P^(E|~I))+N[0]+4096336452&4294967295,v=E+(B<<6&4294967295|B>>>26),B=I+(E^(v|~P))+N[7]+1126891415&4294967295,I=v+(B<<10&4294967295|B>>>22),B=P+(v^(I|~E))+N[14]+2878612391&4294967295,P=I+(B<<15&4294967295|B>>>17),B=E+(I^(P|~v))+N[5]+4237533241&4294967295,E=P+(B<<21&4294967295|B>>>11),B=v+(P^(E|~I))+N[12]+1700485571&4294967295,v=E+(B<<6&4294967295|B>>>26),B=I+(E^(v|~P))+N[3]+2399980690&4294967295,I=v+(B<<10&4294967295|B>>>22),B=P+(v^(I|~E))+N[10]+4293915773&4294967295,P=I+(B<<15&4294967295|B>>>17),B=E+(I^(P|~v))+N[1]+2240044497&4294967295,E=P+(B<<21&4294967295|B>>>11),B=v+(P^(E|~I))+N[8]+1873313359&4294967295,v=E+(B<<6&4294967295|B>>>26),B=I+(E^(v|~P))+N[15]+4264355552&4294967295,I=v+(B<<10&4294967295|B>>>22),B=P+(v^(I|~E))+N[6]+2734768916&4294967295,P=I+(B<<15&4294967295|B>>>17),B=E+(I^(P|~v))+N[13]+1309151649&4294967295,E=P+(B<<21&4294967295|B>>>11),B=v+(P^(E|~I))+N[4]+4149444226&4294967295,v=E+(B<<6&4294967295|B>>>26),B=I+(E^(v|~P))+N[11]+3174756917&4294967295,I=v+(B<<10&4294967295|B>>>22),B=P+(v^(I|~E))+N[2]+718787259&4294967295,P=I+(B<<15&4294967295|B>>>17),B=E+(I^(P|~v))+N[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(P+(B<<21&4294967295|B>>>11))&4294967295,w.g[2]=w.g[2]+P&4294967295,w.g[3]=w.g[3]+I&4294967295}o.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,N=this.B,P=this.h,I=0;I<v;){if(P==0)for(;I<=E;)l(this,w,I),I+=this.blockSize;if(typeof w=="string"){for(;I<v;)if(N[P++]=w.charCodeAt(I++),P==this.blockSize){l(this,N),P=0;break}}else for(;I<v;)if(N[P++]=w[I++],P==this.blockSize){l(this,N),P=0;break}}this.h=P,this.o+=v},o.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var N=0;32>N;N+=8)w[E++]=this.g[v]>>>N&255;return w};function u(w,v){var E=s;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function c(w,v){this.h=v;for(var E=[],N=!0,P=w.length-1;0<=P;P--){var I=w[P]|0;N&&I==v||(E[P]=I,N=!1)}this.g=E}var s={};function f(w){return-128<=w&&128>w?u(w,function(v){return new c([v|0],0>v?-1:0)}):new c([w|0],0>w?-1:0)}function h(w){if(isNaN(w)||!isFinite(w))return j;if(0>w)return $(h(-w));for(var v=[],E=1,N=0;w>=E;N++)v[N]=w/E|0,E*=4294967296;return new c(v,0)}function m(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return $(m(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=h(Math.pow(v,8)),N=j,P=0;P<w.length;P+=8){var I=Math.min(8,w.length-P),B=parseInt(w.substring(P,P+I),v);8>I?(I=h(Math.pow(v,I)),N=N.j(I).add(h(B))):(N=N.j(E),N=N.add(h(B)))}return N}var j=f(0),b=f(1),R=f(16777216);r=c.prototype,r.m=function(){if(_(this))return-$(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var N=this.i(E);w+=(0<=N?N:4294967296+N)*v,v*=4294967296}return w},r.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(d(this))return"0";if(_(this))return"-"+$(this).toString(w);for(var v=h(Math.pow(w,6)),E=this,N="";;){var P=A(E,v).g;E=g(E,P.j(v));var I=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=P,d(E))return I+N;for(;6>I.length;)I="0"+I;N=I+N}},r.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function d(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function _(w){return w.h==-1}r.l=function(w){return w=g(this,w),_(w)?-1:d(w)?0:1};function $(w){for(var v=w.g.length,E=[],N=0;N<v;N++)E[N]=~w.g[N];return new c(E,~w.h).add(b)}r.abs=function(){return _(this)?$(this):this},r.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],N=0,P=0;P<=v;P++){var I=N+(this.i(P)&65535)+(w.i(P)&65535),B=(I>>>16)+(this.i(P)>>>16)+(w.i(P)>>>16);N=B>>>16,I&=65535,B&=65535,E[P]=B<<16|I}return new c(E,E[E.length-1]&-2147483648?-1:0)};function g(w,v){return w.add($(v))}r.j=function(w){if(d(this)||d(w))return j;if(_(this))return _(w)?$(this).j($(w)):$($(this).j(w));if(_(w))return $(this.j($(w)));if(0>this.l(R)&&0>w.l(R))return h(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],N=0;N<2*v;N++)E[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<w.g.length;P++){var I=this.i(N)>>>16,B=this.i(N)&65535,ee=w.i(P)>>>16,Z=w.i(P)&65535;E[2*N+2*P]+=B*Z,S(E,2*N+2*P),E[2*N+2*P+1]+=I*Z,S(E,2*N+2*P+1),E[2*N+2*P+1]+=B*ee,S(E,2*N+2*P+1),E[2*N+2*P+2]+=I*ee,S(E,2*N+2*P+2)}for(N=0;N<v;N++)E[N]=E[2*N+1]<<16|E[2*N];for(N=v;N<2*v;N++)E[N]=0;return new c(E,0)};function S(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function x(w,v){this.g=w,this.h=v}function A(w,v){if(d(v))throw Error("division by zero");if(d(w))return new x(j,j);if(_(w))return v=A($(w),v),new x($(v.g),$(v.h));if(_(v))return v=A(w,$(v)),new x($(v.g),v.h);if(30<w.g.length){if(_(w)||_(v))throw Error("slowDivide_ only works with positive integers.");for(var E=b,N=v;0>=N.l(w);)E=T(E),N=T(N);var P=C(E,1),I=C(N,1);for(N=C(N,2),E=C(E,2);!d(N);){var B=I.add(N);0>=B.l(w)&&(P=P.add(E),I=B),N=C(N,1),E=C(E,1)}return v=g(w,P.j(v)),new x(P,v)}for(P=j;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),N=Math.ceil(Math.log(E)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),I=h(E),B=I.j(v);_(B)||0<B.l(w);)E-=N,I=h(E),B=I.j(v);d(I)&&(I=b),P=P.add(I),w=g(w,B)}return new x(P,w)}r.A=function(w){return A(this,w).h},r.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],N=0;N<v;N++)E[N]=this.i(N)&w.i(N);return new c(E,this.h&w.h)},r.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],N=0;N<v;N++)E[N]=this.i(N)|w.i(N);return new c(E,this.h|w.h)},r.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],N=0;N<v;N++)E[N]=this.i(N)^w.i(N);return new c(E,this.h^w.h)};function T(w){for(var v=w.g.length+1,E=[],N=0;N<v;N++)E[N]=w.i(N)<<1|w.i(N-1)>>>31;return new c(E,w.h)}function C(w,v){var E=v>>5;v%=32;for(var N=w.g.length-E,P=[],I=0;I<N;I++)P[I]=0<v?w.i(I+E)>>>v|w.i(I+E+1)<<32-v:w.i(I+E);return new c(P,w.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,Bw=o,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=h,c.fromString=m,ks=c}).apply(typeof f_<"u"?f_:typeof self<"u"?self:typeof window<"u"?window:{});var ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Uw,El,Lw,lf,Kd,Fw,qw,zw;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(O,G,se){return O==Array.prototype||O==Object.prototype||(O[G]=se.value),O};function n(O){O=[typeof globalThis=="object"&&globalThis,O,typeof window=="object"&&window,typeof self=="object"&&self,typeof ef=="object"&&ef];for(var G=0;G<O.length;++G){var se=O[G];if(se&&se.Math==Math)return se}throw Error("Cannot find global object")}var o=n(this);function l(O,G){if(G)e:{var se=o;O=O.split(".");for(var Ee=0;Ee<O.length-1;Ee++){var Qe=O[Ee];if(!(Qe in se))break e;se=se[Qe]}O=O[O.length-1],Ee=se[O],G=G(Ee),G!=Ee&&G!=null&&e(se,O,{configurable:!0,writable:!0,value:G})}}function u(O,G){O instanceof String&&(O+="");var se=0,Ee=!1,Qe={next:function(){if(!Ee&&se<O.length){var rt=se++;return{value:G(rt,O[rt]),done:!1}}return Ee=!0,{done:!0,value:void 0}}};return Qe[Symbol.iterator]=function(){return Qe},Qe}l("Array.prototype.values",function(O){return O||function(){return u(this,function(G,se){return se})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},s=this||self;function f(O){var G=typeof O;return G=G!="object"?G:O?Array.isArray(O)?"array":G:"null",G=="array"||G=="object"&&typeof O.length=="number"}function h(O){var G=typeof O;return G=="object"&&O!=null||G=="function"}function m(O,G,se){return O.call.apply(O.bind,arguments)}function j(O,G,se){if(!O)throw Error();if(2<arguments.length){var Ee=Array.prototype.slice.call(arguments,2);return function(){var Qe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Qe,Ee),O.apply(G,Qe)}}return function(){return O.apply(G,arguments)}}function b(O,G,se){return b=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:j,b.apply(null,arguments)}function R(O,G){var se=Array.prototype.slice.call(arguments,1);return function(){var Ee=se.slice();return Ee.push.apply(Ee,arguments),O.apply(this,Ee)}}function d(O,G){function se(){}se.prototype=G.prototype,O.aa=G.prototype,O.prototype=new se,O.prototype.constructor=O,O.Qb=function(Ee,Qe,rt){for(var Et=Array(arguments.length-2),Un=2;Un<arguments.length;Un++)Et[Un-2]=arguments[Un];return G.prototype[Qe].apply(Ee,Et)}}function _(O){const G=O.length;if(0<G){const se=Array(G);for(let Ee=0;Ee<G;Ee++)se[Ee]=O[Ee];return se}return[]}function $(O,G){for(let se=1;se<arguments.length;se++){const Ee=arguments[se];if(f(Ee)){const Qe=O.length||0,rt=Ee.length||0;O.length=Qe+rt;for(let Et=0;Et<rt;Et++)O[Qe+Et]=Ee[Et]}else O.push(Ee)}}class g{constructor(G,se){this.i=G,this.j=se,this.h=0,this.g=null}get(){let G;return 0<this.h?(this.h--,G=this.g,this.g=G.next,G.next=null):G=this.i(),G}}function S(O){return/^[\s\xa0]*$/.test(O)}function x(){var O=s.navigator;return O&&(O=O.userAgent)?O:""}function A(O){return A[" "](O),O}A[" "]=function(){};var T=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function C(O,G,se){for(const Ee in O)G.call(se,O[Ee],Ee,O)}function w(O,G){for(const se in O)G.call(void 0,O[se],se,O)}function v(O){const G={};for(const se in O)G[se]=O[se];return G}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(O,G){let se,Ee;for(let Qe=1;Qe<arguments.length;Qe++){Ee=arguments[Qe];for(se in Ee)O[se]=Ee[se];for(let rt=0;rt<E.length;rt++)se=E[rt],Object.prototype.hasOwnProperty.call(Ee,se)&&(O[se]=Ee[se])}}function P(O){var G=1;O=O.split(":");const se=[];for(;0<G&&O.length;)se.push(O.shift()),G--;return O.length&&se.push(O.join(":")),se}function I(O){s.setTimeout(()=>{throw O},0)}function B(){var O=ge;let G=null;return O.g&&(G=O.g,O.g=O.g.next,O.g||(O.h=null),G.next=null),G}class ee{constructor(){this.h=this.g=null}add(G,se){const Ee=Z.get();Ee.set(G,se),this.h?this.h.next=Ee:this.g=Ee,this.h=Ee}}var Z=new g(()=>new te,O=>O.reset());class te{constructor(){this.next=this.g=this.h=null}set(G,se){this.h=G,this.g=se,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ce=!1,ge=new ee,F=()=>{const O=s.Promise.resolve(void 0);re=()=>{O.then(V)}};var V=()=>{for(var O;O=B();){try{O.h.call(O.g)}catch(se){I(se)}var G=Z;G.j(O),100>G.h&&(G.h++,O.next=G.g,G.g=O)}ce=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(O,G){this.type=O,this.g=this.target=G,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var z=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var O=!1,G=Object.defineProperty({},"passive",{get:function(){O=!0}});try{const se=()=>{};s.addEventListener("test",se,G),s.removeEventListener("test",se,G)}catch{}return O}();function M(O,G){if(W.call(this,O?O.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,O){var se=this.type=O.type,Ee=O.changedTouches&&O.changedTouches.length?O.changedTouches[0]:null;if(this.target=O.target||O.srcElement,this.g=G,G=O.relatedTarget){if(T){e:{try{A(G.nodeName);var Qe=!0;break e}catch{}Qe=!1}Qe||(G=null)}}else se=="mouseover"?G=O.fromElement:se=="mouseout"&&(G=O.toElement);this.relatedTarget=G,Ee?(this.clientX=Ee.clientX!==void 0?Ee.clientX:Ee.pageX,this.clientY=Ee.clientY!==void 0?Ee.clientY:Ee.pageY,this.screenX=Ee.screenX||0,this.screenY=Ee.screenY||0):(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0),this.button=O.button,this.key=O.key||"",this.ctrlKey=O.ctrlKey,this.altKey=O.altKey,this.shiftKey=O.shiftKey,this.metaKey=O.metaKey,this.pointerId=O.pointerId||0,this.pointerType=typeof O.pointerType=="string"?O.pointerType:q[O.pointerType]||"",this.state=O.state,this.i=O,O.defaultPrevented&&M.aa.h.call(this)}}d(M,W);var q={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var O=this.i;O.preventDefault?O.preventDefault():O.returnValue=!1};var ne="closure_listenable_"+(1e6*Math.random()|0),fe=0;function ve(O,G,se,Ee,Qe){this.listener=O,this.proxy=null,this.src=G,this.type=se,this.capture=!!Ee,this.ha=Qe,this.key=++fe,this.da=this.fa=!1}function we(O){O.da=!0,O.listener=null,O.proxy=null,O.src=null,O.ha=null}function me(O){this.src=O,this.g={},this.h=0}me.prototype.add=function(O,G,se,Ee,Qe){var rt=O.toString();O=this.g[rt],O||(O=this.g[rt]=[],this.h++);var Et=_e(O,G,Ee,Qe);return-1<Et?(G=O[Et],se||(G.fa=!1)):(G=new ve(G,this.src,rt,!!Ee,Qe),G.fa=se,O.push(G)),G};function ue(O,G){var se=G.type;if(se in O.g){var Ee=O.g[se],Qe=Array.prototype.indexOf.call(Ee,G,void 0),rt;(rt=0<=Qe)&&Array.prototype.splice.call(Ee,Qe,1),rt&&(we(G),O.g[se].length==0&&(delete O.g[se],O.h--))}}function _e(O,G,se,Ee){for(var Qe=0;Qe<O.length;++Qe){var rt=O[Qe];if(!rt.da&&rt.listener==G&&rt.capture==!!se&&rt.ha==Ee)return Qe}return-1}var L="closure_lm_"+(1e6*Math.random()|0),X={};function oe(O,G,se,Ee,Qe){if(Array.isArray(G)){for(var rt=0;rt<G.length;rt++)oe(O,G[rt],se,Ee,Qe);return null}return se=de(se),O&&O[ne]?O.K(G,se,h(Ee)?!!Ee.capture:!1,Qe):Oe(O,G,se,!1,Ee,Qe)}function Oe(O,G,se,Ee,Qe,rt){if(!G)throw Error("Invalid event type");var Et=h(Qe)?!!Qe.capture:!!Qe,Un=ye(O);if(Un||(O[L]=Un=new me(O)),se=Un.add(G,se,Ee,Et,rt),se.proxy)return se;if(Ee=le(),se.proxy=Ee,Ee.src=O,Ee.listener=se,O.addEventListener)z||(Qe=Et),Qe===void 0&&(Qe=!1),O.addEventListener(G.toString(),Ee,Qe);else if(O.attachEvent)O.attachEvent(K(G.toString()),Ee);else if(O.addListener&&O.removeListener)O.addListener(Ee);else throw Error("addEventListener and attachEvent are unavailable.");return se}function le(){function O(se){return G.call(O.src,O.listener,se)}const G=ie;return O}function pe(O,G,se,Ee,Qe){if(Array.isArray(G))for(var rt=0;rt<G.length;rt++)pe(O,G[rt],se,Ee,Qe);else Ee=h(Ee)?!!Ee.capture:!!Ee,se=de(se),O&&O[ne]?(O=O.i,G=String(G).toString(),G in O.g&&(rt=O.g[G],se=_e(rt,se,Ee,Qe),-1<se&&(we(rt[se]),Array.prototype.splice.call(rt,se,1),rt.length==0&&(delete O.g[G],O.h--)))):O&&(O=ye(O))&&(G=O.g[G.toString()],O=-1,G&&(O=_e(G,se,Ee,Qe)),(se=-1<O?G[O]:null)&&Ae(se))}function Ae(O){if(typeof O!="number"&&O&&!O.da){var G=O.src;if(G&&G[ne])ue(G.i,O);else{var se=O.type,Ee=O.proxy;G.removeEventListener?G.removeEventListener(se,Ee,O.capture):G.detachEvent?G.detachEvent(K(se),Ee):G.addListener&&G.removeListener&&G.removeListener(Ee),(se=ye(G))?(ue(se,O),se.h==0&&(se.src=null,G[L]=null)):we(O)}}}function K(O){return O in X?X[O]:X[O]="on"+O}function ie(O,G){if(O.da)O=!0;else{G=new M(G,this);var se=O.listener,Ee=O.ha||O.src;O.fa&&Ae(O),O=se.call(Ee,G)}return O}function ye(O){return O=O[L],O instanceof me?O:null}var je="__closure_events_fn_"+(1e9*Math.random()>>>0);function de(O){return typeof O=="function"?O:(O[je]||(O[je]=function(G){return O.handleEvent(G)}),O[je])}function De(){H.call(this),this.i=new me(this),this.M=this,this.F=null}d(De,H),De.prototype[ne]=!0,De.prototype.removeEventListener=function(O,G,se,Ee){pe(this,O,G,se,Ee)};function He(O,G){var se,Ee=O.F;if(Ee)for(se=[];Ee;Ee=Ee.F)se.push(Ee);if(O=O.M,Ee=G.type||G,typeof G=="string")G=new W(G,O);else if(G instanceof W)G.target=G.target||O;else{var Qe=G;G=new W(Ee,O),N(G,Qe)}if(Qe=!0,se)for(var rt=se.length-1;0<=rt;rt--){var Et=G.g=se[rt];Qe=Ve(Et,Ee,!0,G)&&Qe}if(Et=G.g=O,Qe=Ve(Et,Ee,!0,G)&&Qe,Qe=Ve(Et,Ee,!1,G)&&Qe,se)for(rt=0;rt<se.length;rt++)Et=G.g=se[rt],Qe=Ve(Et,Ee,!1,G)&&Qe}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var O=this.i,G;for(G in O.g){for(var se=O.g[G],Ee=0;Ee<se.length;Ee++)we(se[Ee]);delete O.g[G],O.h--}}this.F=null},De.prototype.K=function(O,G,se,Ee){return this.i.add(String(O),G,!1,se,Ee)},De.prototype.L=function(O,G,se,Ee){return this.i.add(String(O),G,!0,se,Ee)};function Ve(O,G,se,Ee){if(G=O.i.g[String(G)],!G)return!0;G=G.concat();for(var Qe=!0,rt=0;rt<G.length;++rt){var Et=G[rt];if(Et&&!Et.da&&Et.capture==se){var Un=Et.listener,ei=Et.ha||Et.src;Et.fa&&ue(O.i,Et),Qe=Un.call(ei,Ee)!==!1&&Qe}}return Qe&&!Ee.defaultPrevented}function ke(O,G,se){if(typeof O=="function")se&&(O=b(O,se));else if(O&&typeof O.handleEvent=="function")O=b(O.handleEvent,O);else throw Error("Invalid listener argument");return 2147483647<Number(G)?-1:s.setTimeout(O,G||0)}function Je(O){O.g=ke(()=>{O.g=null,O.i&&(O.i=!1,Je(O))},O.l);const G=O.h;O.h=null,O.m.apply(null,G)}class Ue extends H{constructor(G,se){super(),this.m=G,this.l=se,this.h=null,this.i=!1,this.g=null}j(G){this.h=arguments,this.g?this.i=!0:Je(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tt(O){H.call(this),this.h=O,this.g={}}d(tt,H);var xt=[];function Tt(O){C(O.g,function(G,se){this.g.hasOwnProperty(se)&&Ae(G)},O),O.g={}}tt.prototype.N=function(){tt.aa.N.call(this),Tt(this)},tt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var It=s.JSON.stringify,_t=s.JSON.parse,gn=class{stringify(O){return s.JSON.stringify(O,void 0)}parse(O){return s.JSON.parse(O,void 0)}};function Qt(){}Qt.prototype.h=null;function nn(O){return O.h||(O.h=O.i())}function vn(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Jt(){W.call(this,"d")}d(Jt,W);function nr(){W.call(this,"c")}d(nr,W);var Xe={},rr=null;function Hn(){return rr=rr||new De}Xe.La="serverreachability";function Be(O){W.call(this,Xe.La,O)}d(Be,W);function fr(O){const G=Hn();He(G,new Be(G))}Xe.STAT_EVENT="statevent";function Si(O,G){W.call(this,Xe.STAT_EVENT,O),this.stat=G}d(Si,W);function Tn(O){const G=Hn();He(G,new Si(G,O))}Xe.Ma="timingevent";function Jn(O,G){W.call(this,Xe.Ma,O),this.size=G}d(Jn,W);function br(O,G){if(typeof O!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){O()},G)}function hi(){this.g=!0}hi.prototype.xa=function(){this.g=!1};function Xr(O,G,se,Ee,Qe,rt){O.info(function(){if(O.g)if(rt)for(var Et="",Un=rt.split("&"),ei=0;ei<Un.length;ei++){var Ln=Un[ei].split("=");if(1<Ln.length){var ai=Ln[0];Ln=Ln[1];var ti=ai.split("_");Et=2<=ti.length&&ti[1]=="type"?Et+(ai+"="+Ln+"&"):Et+(ai+"=redacted&")}}else Et=null;else Et=rt;return"XMLHTTP REQ ("+Ee+") [attempt "+Qe+"]: "+G+`
`+se+`
`+Et})}function Bi(O,G,se,Ee,Qe,rt,Et){O.info(function(){return"XMLHTTP RESP ("+Ee+") [ attempt "+Qe+"]: "+G+`
`+se+`
`+rt+" "+Et})}function Y(O,G,se,Ee){O.info(function(){return"XMLHTTP TEXT ("+G+"): "+Se(O,se)+(Ee?" "+Ee:"")})}function he(O,G){O.info(function(){return"TIMEOUT: "+G})}hi.prototype.info=function(){};function Se(O,G){if(!O.g)return G;if(!G)return null;try{var se=JSON.parse(G);if(se){for(O=0;O<se.length;O++)if(Array.isArray(se[O])){var Ee=se[O];if(!(2>Ee.length)){var Qe=Ee[1];if(Array.isArray(Qe)&&!(1>Qe.length)){var rt=Qe[0];if(rt!="noop"&&rt!="stop"&&rt!="close")for(var Et=1;Et<Qe.length;Et++)Qe[Et]=""}}}}return It(se)}catch{return G}}var xe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ne;function Fe(){}d(Fe,Qt),Fe.prototype.g=function(){return new XMLHttpRequest},Fe.prototype.i=function(){return{}},Ne=new Fe;function Le(O,G,se,Ee){this.j=O,this.i=G,this.l=se,this.R=Ee||1,this.U=new tt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new st}function st(){this.i=null,this.g="",this.h=!1}var Ye={},nt={};function Ge(O,G,se){O.L=1,O.v=jn(rn(G)),O.m=se,O.P=!0,ct(O,null)}function ct(O,G){O.F=Date.now(),mt(O),O.A=rn(O.v);var se=O.A,Ee=O.R;Array.isArray(Ee)||(Ee=[String(Ee)]),Xn(se.i,"t",Ee),O.C=0,se=O.j.J,O.h=new st,O.g=Qs(O.j,se?G:null,!O.m),0<O.O&&(O.M=new Ue(b(O.Y,O,O.g),O.O)),G=O.U,se=O.g,Ee=O.ca;var Qe="readystatechange";Array.isArray(Qe)||(Qe&&(xt[0]=Qe.toString()),Qe=xt);for(var rt=0;rt<Qe.length;rt++){var Et=oe(se,Qe[rt],Ee||G.handleEvent,!1,G.h||G);if(!Et)break;G.g[Et.key]=Et}G=O.H?v(O.H):{},O.m?(O.u||(O.u="POST"),G["Content-Type"]="application/x-www-form-urlencoded",O.g.ea(O.A,O.u,O.m,G)):(O.u="GET",O.g.ea(O.A,O.u,null,G)),fr(),Xr(O.i,O.u,O.A,O.l,O.R,O.m)}Le.prototype.ca=function(O){O=O.target;const G=this.M;G&&Me(O)==3?G.j():this.Y(O)},Le.prototype.Y=function(O){try{if(O==this.g)e:{const ti=Me(this.g);var G=this.g.Ba();const Io=this.g.Z();if(!(3>ti)&&(ti!=3||this.g&&(this.h.h||this.g.oa()||jt(this.g)))){this.J||ti!=4||G==7||(G==8||0>=Io?fr(3):fr(2)),At(this);var se=this.g.Z();this.X=se;t:if(pt(this)){var Ee=jt(this.g);O="";var Qe=Ee.length,rt=Me(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),zt(this);var Et="";break t}this.h.i=new s.TextDecoder}for(G=0;G<Qe;G++)this.h.h=!0,O+=this.h.i.decode(Ee[G],{stream:!(rt&&G==Qe-1)});Ee.length=0,this.h.g+=O,this.C=0,Et=this.h.g}else Et=this.g.oa();if(this.o=se==200,Bi(this.i,this.u,this.A,this.l,this.R,ti,se),this.o){if(this.T&&!this.K){t:{if(this.g){var Un,ei=this.g;if((Un=ei.g?ei.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(Un)){var Ln=Un;break t}}Ln=null}if(se=Ln)Y(this.i,this.l,se,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bt(this,se);else{this.o=!1,this.s=3,Tn(12),sn(this),zt(this);break e}}if(this.P){se=!0;let di;for(;!this.J&&this.C<Et.length;)if(di=vt(this,Et),di==nt){ti==4&&(this.s=4,Tn(14),se=!1),Y(this.i,this.l,null,"[Incomplete Response]");break}else if(di==Ye){this.s=4,Tn(15),Y(this.i,this.l,Et,"[Invalid Chunk]"),se=!1;break}else Y(this.i,this.l,di,null),Bt(this,di);if(pt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ti!=4||Et.length!=0||this.h.h||(this.s=1,Tn(16),se=!1),this.o=this.o&&se,!se)Y(this.i,this.l,Et,"[Invalid Chunked Response]"),sn(this),zt(this);else if(0<Et.length&&!this.W){this.W=!0;var ai=this.j;ai.g==this&&ai.ba&&!ai.M&&(ai.j.info("Great, no buffering proxy detected. Bytes received: "+Et.length),mn(ai),ai.M=!0,Tn(11))}}else Y(this.i,this.l,Et,null),Bt(this,Et);ti==4&&sn(this),this.o&&!this.J&&(ti==4?Dt(this.j,this):(this.o=!1,mt(this)))}else gt(this.g),se==400&&0<Et.indexOf("Unknown SID")?(this.s=3,Tn(12)):(this.s=0,Tn(13)),sn(this),zt(this)}}}catch{}finally{}};function pt(O){return O.g?O.u=="GET"&&O.L!=2&&O.j.Ca:!1}function vt(O,G){var se=O.C,Ee=G.indexOf(`
`,se);return Ee==-1?nt:(se=Number(G.substring(se,Ee)),isNaN(se)?Ye:(Ee+=1,Ee+se>G.length?nt:(G=G.slice(Ee,Ee+se),O.C=Ee+se,G)))}Le.prototype.cancel=function(){this.J=!0,sn(this)};function mt(O){O.S=Date.now()+O.I,Ot(O,O.I)}function Ot(O,G){if(O.B!=null)throw Error("WatchDog timer not null");O.B=br(b(O.ba,O),G)}function At(O){O.B&&(s.clearTimeout(O.B),O.B=null)}Le.prototype.ba=function(){this.B=null;const O=Date.now();0<=O-this.S?(he(this.i,this.A),this.L!=2&&(fr(),Tn(17)),sn(this),this.s=2,zt(this)):Ot(this,this.S-O)};function zt(O){O.j.G==0||O.J||Dt(O.j,O)}function sn(O){At(O);var G=O.M;G&&typeof G.ma=="function"&&G.ma(),O.M=null,Tt(O.U),O.g&&(G=O.g,O.g=null,G.abort(),G.ma())}function Bt(O,G){try{var se=O.j;if(se.G!=0&&(se.g==O||Gn(se.h,O))){if(!O.K&&Gn(se.h,O)&&se.G==3){try{var Ee=se.Da.g.parse(G)}catch{Ee=null}if(Array.isArray(Ee)&&Ee.length==3){var Qe=Ee;if(Qe[0]==0){e:if(!se.u){if(se.g)if(se.g.F+3e3<O.F)wt(se),Rt(se);else break e;Oi(se),Tn(18)}}else se.za=Qe[1],0<se.za-se.T&&37500>Qe[2]&&se.F&&se.v==0&&!se.C&&(se.C=br(b(se.Za,se),6e3));if(1>=Zt(se.h)&&se.ca){try{se.ca()}catch{}se.ca=void 0}}else ar(se,11)}else if((O.K||se.g==O)&&wt(se),!S(G))for(Qe=se.Da.g.parse(G),G=0;G<Qe.length;G++){let Ln=Qe[G];if(se.T=Ln[0],Ln=Ln[1],se.G==2)if(Ln[0]=="c"){se.K=Ln[1],se.ia=Ln[2];const ai=Ln[3];ai!=null&&(se.la=ai,se.j.info("VER="+se.la));const ti=Ln[4];ti!=null&&(se.Aa=ti,se.j.info("SVER="+se.Aa));const Io=Ln[5];Io!=null&&typeof Io=="number"&&0<Io&&(Ee=1.5*Io,se.L=Ee,se.j.info("backChannelRequestTimeoutMs_="+Ee)),Ee=se;const di=O.g;if(di){const vo=di.g?di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vo){var rt=Ee.h;rt.g||vo.indexOf("spdy")==-1&&vo.indexOf("quic")==-1&&vo.indexOf("h2")==-1||(rt.j=rt.l,rt.g=new Set,rt.h&&(In(rt,rt.h),rt.h=null))}if(Ee.D){const $u=di.g?di.g.getResponseHeader("X-HTTP-Session-Id"):null;$u&&(Ee.ya=$u,tn(Ee.I,Ee.D,$u))}}se.G=3,se.l&&se.l.ua(),se.ba&&(se.R=Date.now()-O.F,se.j.info("Handshake RTT: "+se.R+"ms")),Ee=se;var Et=O;if(Ee.qa=mr(Ee,Ee.J?Ee.ia:null,Ee.W),Et.K){Ut(Ee.h,Et);var Un=Et,ei=Ee.L;ei&&(Un.I=ei),Un.B&&(At(Un),mt(Un)),Ee.g=Et}else Ft(Ee);0<se.i.length&&Mn(se)}else Ln[0]!="stop"&&Ln[0]!="close"||ar(se,7);else se.G==3&&(Ln[0]=="stop"||Ln[0]=="close"?Ln[0]=="stop"?ar(se,7):$t(se):Ln[0]!="noop"&&se.l&&se.l.ta(Ln),se.v=0)}}fr(4)}catch{}}var Pn=class{constructor(O,G){this.g=O,this.map=G}};function pn(O){this.l=O||10,s.PerformanceNavigationTiming?(O=s.performance.getEntriesByType("navigation"),O=0<O.length&&(O[0].nextHopProtocol=="hq"||O[0].nextHopProtocol=="h2")):O=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=O?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kt(O){return O.h?!0:O.g?O.g.size>=O.j:!1}function Zt(O){return O.h?1:O.g?O.g.size:0}function Gn(O,G){return O.h?O.h==G:O.g?O.g.has(G):!1}function In(O,G){O.g?O.g.add(G):O.h=G}function Ut(O,G){O.h&&O.h==G?O.h=null:O.g&&O.g.has(G)&&O.g.delete(G)}pn.prototype.cancel=function(){if(this.i=Yt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const O of this.g.values())O.cancel();this.g.clear()}};function Yt(O){if(O.h!=null)return O.i.concat(O.h.D);if(O.g!=null&&O.g.size!==0){let G=O.i;for(const se of O.g.values())G=G.concat(se.D);return G}return _(O.i)}function ft(O){if(O.V&&typeof O.V=="function")return O.V();if(typeof Map<"u"&&O instanceof Map||typeof Set<"u"&&O instanceof Set)return Array.from(O.values());if(typeof O=="string")return O.split("");if(f(O)){for(var G=[],se=O.length,Ee=0;Ee<se;Ee++)G.push(O[Ee]);return G}G=[],se=0;for(Ee in O)G[se++]=O[Ee];return G}function Wt(O){if(O.na&&typeof O.na=="function")return O.na();if(!O.V||typeof O.V!="function"){if(typeof Map<"u"&&O instanceof Map)return Array.from(O.keys());if(!(typeof Set<"u"&&O instanceof Set)){if(f(O)||typeof O=="string"){var G=[];O=O.length;for(var se=0;se<O;se++)G.push(se);return G}G=[],se=0;for(const Ee in O)G[se++]=Ee;return G}}}function un(O,G){if(O.forEach&&typeof O.forEach=="function")O.forEach(G,void 0);else if(f(O)||typeof O=="string")Array.prototype.forEach.call(O,G,void 0);else for(var se=Wt(O),Ee=ft(O),Qe=Ee.length,rt=0;rt<Qe;rt++)G.call(void 0,Ee[rt],se&&se[rt],O)}var dn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yn(O,G){if(O){O=O.split("&");for(var se=0;se<O.length;se++){var Ee=O[se].indexOf("="),Qe=null;if(0<=Ee){var rt=O[se].substring(0,Ee);Qe=O[se].substring(Ee+1)}else rt=O[se];G(rt,Qe?decodeURIComponent(Qe.replace(/\+/g," ")):"")}}}function ir(O){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,O instanceof ir){this.h=O.h,Dr(this,O.j),this.o=O.o,this.g=O.g,Or(this,O.s),this.l=O.l;var G=O.i,se=new Sn;se.i=G.i,G.g&&(se.g=new Map(G.g),se.h=G.h),zr(this,se),this.m=O.m}else O&&(G=String(O).match(dn))?(this.h=!1,Dr(this,G[1]||"",!0),this.o=Wn(G[2]||""),this.g=Wn(G[3]||"",!0),Or(this,G[4]),this.l=Wn(G[5]||"",!0),zr(this,G[6]||"",!0),this.m=Wn(G[7]||"")):(this.h=!1,this.i=new Sn(null,this.h))}ir.prototype.toString=function(){var O=[],G=this.j;G&&O.push(xn(G,Dn,!0),":");var se=this.g;return(se||G=="file")&&(O.push("//"),(G=this.o)&&O.push(xn(G,Dn,!0),"@"),O.push(encodeURIComponent(String(se)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),se=this.s,se!=null&&O.push(":",String(se))),(se=this.l)&&(this.g&&se.charAt(0)!="/"&&O.push("/"),O.push(xn(se,se.charAt(0)=="/"?_r:Zn,!0))),(se=this.i.toString())&&O.push("?",se),(se=this.m)&&O.push("#",xn(se,er)),O.join("")};function rn(O){return new ir(O)}function Dr(O,G,se){O.j=se?Wn(G,!0):G,O.j&&(O.j=O.j.replace(/:$/,""))}function Or(O,G){if(G){if(G=Number(G),isNaN(G)||0>G)throw Error("Bad port number "+G);O.s=G}else O.s=null}function zr(O,G,se){G instanceof Sn?(O.i=G,Jr(O.i,O.h)):(se||(G=xn(G,Pt)),O.i=new Sn(G,O.h))}function tn(O,G,se){O.i.set(G,se)}function jn(O){return tn(O,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),O}function Wn(O,G){return O?G?decodeURI(O.replace(/%25/g,"%2525")):decodeURIComponent(O):""}function xn(O,G,se){return typeof O=="string"?(O=encodeURI(O).replace(G,pr),se&&(O=O.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O):null}function pr(O){return O=O.charCodeAt(0),"%"+(O>>4&15).toString(16)+(O&15).toString(16)}var Dn=/[#\/\?@]/g,Zn=/[#\?:]/g,_r=/[#\?]/g,Pt=/[#\?@]/g,er=/#/g;function Sn(O,G){this.h=this.g=null,this.i=O||null,this.j=!!G}function on(O){O.g||(O.g=new Map,O.h=0,O.i&&yn(O.i,function(G,se){O.add(decodeURIComponent(G.replace(/\+/g," ")),se)}))}r=Sn.prototype,r.add=function(O,G){on(this),this.i=null,O=Bn(this,O);var se=this.g.get(O);return se||this.g.set(O,se=[]),se.push(G),this.h+=1,this};function ln(O,G){on(O),G=Bn(O,G),O.g.has(G)&&(O.i=null,O.h-=O.g.get(G).length,O.g.delete(G))}function Gt(O,G){return on(O),G=Bn(O,G),O.g.has(G)}r.forEach=function(O,G){on(this),this.g.forEach(function(se,Ee){se.forEach(function(Qe){O.call(G,Qe,Ee,this)},this)},this)},r.na=function(){on(this);const O=Array.from(this.g.values()),G=Array.from(this.g.keys()),se=[];for(let Ee=0;Ee<G.length;Ee++){const Qe=O[Ee];for(let rt=0;rt<Qe.length;rt++)se.push(G[Ee])}return se},r.V=function(O){on(this);let G=[];if(typeof O=="string")Gt(this,O)&&(G=G.concat(this.g.get(Bn(this,O))));else{O=Array.from(this.g.values());for(let se=0;se<O.length;se++)G=G.concat(O[se])}return G},r.set=function(O,G){return on(this),this.i=null,O=Bn(this,O),Gt(this,O)&&(this.h-=this.g.get(O).length),this.g.set(O,[G]),this.h+=1,this},r.get=function(O,G){return O?(O=this.V(O),0<O.length?String(O[0]):G):G};function Xn(O,G,se){ln(O,G),0<se.length&&(O.i=null,O.g.set(Bn(O,G),_(se)),O.h+=se.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const O=[],G=Array.from(this.g.keys());for(var se=0;se<G.length;se++){var Ee=G[se];const rt=encodeURIComponent(String(Ee)),Et=this.V(Ee);for(Ee=0;Ee<Et.length;Ee++){var Qe=rt;Et[Ee]!==""&&(Qe+="="+encodeURIComponent(String(Et[Ee]))),O.push(Qe)}}return this.i=O.join("&")};function Bn(O,G){return G=String(G),O.j&&(G=G.toLowerCase()),G}function Jr(O,G){G&&!O.j&&(on(O),O.i=null,O.g.forEach(function(se,Ee){var Qe=Ee.toLowerCase();Ee!=Qe&&(ln(this,Ee),Xn(this,Qe,se))},O)),O.j=G}function Vr(O,G){const se=new hi;if(s.Image){const Ee=new Image;Ee.onload=R(or,se,"TestLoadImage: loaded",!0,G,Ee),Ee.onerror=R(or,se,"TestLoadImage: error",!1,G,Ee),Ee.onabort=R(or,se,"TestLoadImage: abort",!1,G,Ee),Ee.ontimeout=R(or,se,"TestLoadImage: timeout",!1,G,Ee),s.setTimeout(function(){Ee.ontimeout&&Ee.ontimeout()},1e4),Ee.src=O}else G(!1)}function Ar(O,G){const se=new hi,Ee=new AbortController,Qe=setTimeout(()=>{Ee.abort(),or(se,"TestPingServer: timeout",!1,G)},1e4);fetch(O,{signal:Ee.signal}).then(rt=>{clearTimeout(Qe),rt.ok?or(se,"TestPingServer: ok",!0,G):or(se,"TestPingServer: server error",!1,G)}).catch(()=>{clearTimeout(Qe),or(se,"TestPingServer: error",!1,G)})}function or(O,G,se,Ee,Qe){try{Qe&&(Qe.onload=null,Qe.onerror=null,Qe.onabort=null,Qe.ontimeout=null),Ee(se)}catch{}}function sr(){this.g=new gn}function wr(O,G,se){const Ee=se||"";try{un(O,function(Qe,rt){let Et=Qe;h(Qe)&&(Et=It(Qe)),G.push(Ee+rt+"="+encodeURIComponent(Et))})}catch(Qe){throw G.push(Ee+"type="+encodeURIComponent("_badmap")),Qe}}function pi(O){this.l=O.Ub||null,this.j=O.eb||!1}d(pi,Qt),pi.prototype.g=function(){return new Ci(this.l,this.j)},pi.prototype.i=function(O){return function(){return O}}({});function Ci(O,G){De.call(this),this.D=O,this.o=G,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}d(Ci,De),r=Ci.prototype,r.open=function(O,G){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=O,this.A=G,this.readyState=1,Zr(this)},r.send=function(O){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const G={headers:this.u,method:this.B,credentials:this.m,cache:void 0};O&&(G.body=O),(this.D||s).fetch(new Request(this.A,G)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ei(this)),this.readyState=0},r.Sa=function(O){if(this.g&&(this.l=O,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=O.headers,this.readyState=2,Zr(this)),this.g&&(this.readyState=3,Zr(this),this.g)))if(this.responseType==="arraybuffer")O.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in O){if(this.j=O.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gi(this)}else O.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gi(O){O.j.read().then(O.Pa.bind(O)).catch(O.ga.bind(O))}r.Pa=function(O){if(this.g){if(this.o&&O.value)this.response.push(O.value);else if(!this.o){var G=O.value?O.value:new Uint8Array(0);(G=this.v.decode(G,{stream:!O.done}))&&(this.response=this.responseText+=G)}O.done?Ei(this):Zr(this),this.readyState==3&&Gi(this)}},r.Ra=function(O){this.g&&(this.response=this.responseText=O,Ei(this))},r.Qa=function(O){this.g&&(this.response=O,Ei(this))},r.ga=function(){this.g&&Ei(this)};function Ei(O){O.readyState=4,O.l=null,O.j=null,O.v=null,Zr(O)}r.setRequestHeader=function(O,G){this.u.append(O,G)},r.getResponseHeader=function(O){return this.h&&this.h.get(O.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const O=[],G=this.h.entries();for(var se=G.next();!se.done;)se=se.value,O.push(se[0]+": "+se[1]),se=G.next();return O.join(`\r
`)};function Zr(O){O.onreadystatechange&&O.onreadystatechange.call(O)}Object.defineProperty(Ci.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(O){this.m=O?"include":"same-origin"}});function ao(O){let G="";return C(O,function(se,Ee){G+=Ee,G+=":",G+=se,G+=`\r
`}),G}function dr(O,G,se){e:{for(Ee in se){var Ee=!1;break e}Ee=!0}Ee||(se=ao(se),typeof O=="string"?se!=null&&encodeURIComponent(String(se)):tn(O,G,se))}function k(O){De.call(this),this.headers=new Map,this.o=O||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}d(k,De);var y=/^https?$/i,J=["POST","PUT"];r=k.prototype,r.Ha=function(O){this.J=O},r.ea=function(O,G,se,Ee){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+O);G=G?G.toUpperCase():"GET",this.D=O,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ne.g(),this.v=this.o?nn(this.o):nn(Ne),this.g.onreadystatechange=b(this.Ea,this);try{this.B=!0,this.g.open(G,String(O),!0),this.B=!1}catch(rt){Q(this,rt);return}if(O=se||"",se=new Map(this.headers),Ee)if(Object.getPrototypeOf(Ee)===Object.prototype)for(var Qe in Ee)se.set(Qe,Ee[Qe]);else if(typeof Ee.keys=="function"&&typeof Ee.get=="function")for(const rt of Ee.keys())se.set(rt,Ee.get(rt));else throw Error("Unknown input type for opt_headers: "+String(Ee));Ee=Array.from(se.keys()).find(rt=>rt.toLowerCase()=="content-type"),Qe=s.FormData&&O instanceof s.FormData,!(0<=Array.prototype.indexOf.call(J,G,void 0))||Ee||Qe||se.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[rt,Et]of se)this.g.setRequestHeader(rt,Et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{it(this),this.u=!0,this.g.send(O),this.u=!1}catch(rt){Q(this,rt)}};function Q(O,G){O.h=!1,O.g&&(O.j=!0,O.g.abort(),O.j=!1),O.l=G,O.m=5,$e(O),ot(O)}function $e(O){O.A||(O.A=!0,He(O,"complete"),He(O,"error"))}r.abort=function(O){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=O||7,He(this,"complete"),He(this,"abort"),ot(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ot(this,!0)),k.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ie(this):this.bb())},r.bb=function(){Ie(this)};function Ie(O){if(O.h&&typeof c<"u"&&(!O.v[1]||Me(O)!=4||O.Z()!=2)){if(O.u&&Me(O)==4)ke(O.Ea,0,O);else if(He(O,"readystatechange"),Me(O)==4){O.h=!1;try{const Et=O.Z();e:switch(Et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var G=!0;break e;default:G=!1}var se;if(!(se=G)){var Ee;if(Ee=Et===0){var Qe=String(O.D).match(dn)[1]||null;!Qe&&s.self&&s.self.location&&(Qe=s.self.location.protocol.slice(0,-1)),Ee=!y.test(Qe?Qe.toLowerCase():"")}se=Ee}if(se)He(O,"complete"),He(O,"success");else{O.m=6;try{var rt=2<Me(O)?O.g.statusText:""}catch{rt=""}O.l=rt+" ["+O.Z()+"]",$e(O)}}finally{ot(O)}}}}function ot(O,G){if(O.g){it(O);const se=O.g,Ee=O.v[0]?()=>{}:null;O.g=null,O.v=null,G||He(O,"ready");try{se.onreadystatechange=Ee}catch{}}}function it(O){O.I&&(s.clearTimeout(O.I),O.I=null)}r.isActive=function(){return!!this.g};function Me(O){return O.g?O.g.readyState:0}r.Z=function(){try{return 2<Me(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(O){if(this.g){var G=this.g.responseText;return O&&G.indexOf(O)==0&&(G=G.substring(O.length)),_t(G)}};function jt(O){try{if(!O.g)return null;if("response"in O.g)return O.g.response;switch(O.H){case"":case"text":return O.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in O.g)return O.g.mozResponseArrayBuffer}return null}catch{return null}}function gt(O){const G={};O=(O.g&&2<=Me(O)&&O.g.getAllResponseHeaders()||"").split(`\r
`);for(let Ee=0;Ee<O.length;Ee++){if(S(O[Ee]))continue;var se=P(O[Ee]);const Qe=se[0];if(se=se[1],typeof se!="string")continue;se=se.trim();const rt=G[Qe]||[];G[Qe]=rt,rt.push(se)}w(G,function(Ee){return Ee.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function et(O,G,se){return se&&se.internalChannelParams&&se.internalChannelParams[O]||G}function lt(O){this.Aa=0,this.i=[],this.j=new hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=et("failFast",!1,O),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=et("baseRetryDelayMs",5e3,O),this.cb=et("retryDelaySeedMs",1e4,O),this.Wa=et("forwardChannelMaxRetries",2,O),this.wa=et("forwardChannelRequestTimeoutMs",2e4,O),this.pa=O&&O.xmlHttpFactory||void 0,this.Xa=O&&O.Tb||void 0,this.Ca=O&&O.useFetchStreams||!1,this.L=void 0,this.J=O&&O.supportsCrossDomainXhr||!1,this.K="",this.h=new pn(O&&O.concurrentRequestLimit),this.Da=new sr,this.P=O&&O.fastHandshake||!1,this.O=O&&O.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=O&&O.Rb||!1,O&&O.xa&&this.j.xa(),O&&O.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&O&&O.detectBufferingProxy||!1,this.ja=void 0,O&&O.longPollingTimeout&&0<O.longPollingTimeout&&(this.ja=O.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=lt.prototype,r.la=8,r.G=1,r.connect=function(O,G,se,Ee){Tn(0),this.W=O,this.H=G||{},se&&Ee!==void 0&&(this.H.OSID=se,this.H.OAID=Ee),this.F=this.X,this.I=mr(this,null,this.W),Mn(this)};function $t(O){if(bn(O),O.G==3){var G=O.U++,se=rn(O.I);if(tn(se,"SID",O.K),tn(se,"RID",G),tn(se,"TYPE","terminate"),Nn(O,se),G=new Le(O,O.j,G),G.L=2,G.v=jn(rn(se)),se=!1,s.navigator&&s.navigator.sendBeacon)try{se=s.navigator.sendBeacon(G.v.toString(),"")}catch{}!se&&s.Image&&(new Image().src=G.v,se=!0),se||(G.g=Qs(G.j,null),G.g.ea(G.v)),G.F=Date.now(),mt(G)}yr(O)}function Rt(O){O.g&&(mn(O),O.g.cancel(),O.g=null)}function bn(O){Rt(O),O.u&&(s.clearTimeout(O.u),O.u=null),wt(O),O.h.cancel(),O.s&&(typeof O.s=="number"&&s.clearTimeout(O.s),O.s=null)}function Mn(O){if(!Kt(O.h)&&!O.s){O.s=!0;var G=O.Ga;re||F(),ce||(re(),ce=!0),ge.add(G,O),O.B=0}}function Kn(O,G){return Zt(O.h)>=O.h.j-(O.s?1:0)?!1:O.s?(O.i=G.D.concat(O.i),!0):O.G==1||O.G==2||O.B>=(O.Va?0:O.Wa)?!1:(O.s=br(b(O.Ga,O,G),Mt(O,O.B)),O.B++,!0)}r.Ga=function(O){if(this.s)if(this.s=null,this.G==1){if(!O){this.U=Math.floor(1e5*Math.random()),O=this.U++;const Qe=new Le(this,this.j,O);let rt=this.o;if(this.S&&(rt?(rt=v(rt),N(rt,this.S)):rt=this.S),this.m!==null||this.O||(Qe.H=rt,rt=null),this.P)e:{for(var G=0,se=0;se<this.i.length;se++){t:{var Ee=this.i[se];if("__data__"in Ee.map&&(Ee=Ee.map.__data__,typeof Ee=="string")){Ee=Ee.length;break t}Ee=void 0}if(Ee===void 0)break;if(G+=Ee,4096<G){G=se;break e}if(G===4096||se===this.i.length-1){G=se+1;break e}}G=1e3}else G=1e3;G=St(this,Qe,G),se=rn(this.I),tn(se,"RID",O),tn(se,"CVER",22),this.D&&tn(se,"X-HTTP-Session-Id",this.D),Nn(this,se),rt&&(this.O?G="headers="+encodeURIComponent(String(ao(rt)))+"&"+G:this.m&&dr(se,this.m,rt)),In(this.h,Qe),this.Ua&&tn(se,"TYPE","init"),this.P?(tn(se,"$req",G),tn(se,"SID","null"),Qe.T=!0,Ge(Qe,se,null)):Ge(Qe,se,G),this.G=2}}else this.G==3&&(O?ur(this,O):this.i.length==0||Kt(this.h)||ur(this))};function ur(O,G){var se;G?se=G.l:se=O.U++;const Ee=rn(O.I);tn(Ee,"SID",O.K),tn(Ee,"RID",se),tn(Ee,"AID",O.T),Nn(O,Ee),O.m&&O.o&&dr(Ee,O.m,O.o),se=new Le(O,O.j,se,O.B+1),O.m===null&&(se.H=O.o),G&&(O.i=G.D.concat(O.i)),G=St(O,se,1e3),se.I=Math.round(.5*O.wa)+Math.round(.5*O.wa*Math.random()),In(O.h,se),Ge(se,Ee,G)}function Nn(O,G){O.H&&C(O.H,function(se,Ee){tn(G,Ee,se)}),O.l&&un({},function(se,Ee){tn(G,Ee,se)})}function St(O,G,se){se=Math.min(O.i.length,se);var Ee=O.l?b(O.l.Na,O.l,O):null;e:{var Qe=O.i;let rt=-1;for(;;){const Et=["count="+se];rt==-1?0<se?(rt=Qe[0].g,Et.push("ofs="+rt)):rt=0:Et.push("ofs="+rt);let Un=!0;for(let ei=0;ei<se;ei++){let Ln=Qe[ei].g;const ai=Qe[ei].map;if(Ln-=rt,0>Ln)rt=Math.max(0,Qe[ei].g-100),Un=!1;else try{wr(ai,Et,"req"+Ln+"_")}catch{Ee&&Ee(ai)}}if(Un){Ee=Et.join("&");break e}}}return O=O.i.splice(0,se),G.D=O,Ee}function Ft(O){if(!O.g&&!O.u){O.Y=1;var G=O.Fa;re||F(),ce||(re(),ce=!0),ge.add(G,O),O.v=0}}function Oi(O){return O.g||O.u||3<=O.v?!1:(O.Y++,O.u=br(b(O.Fa,O),Mt(O,O.v)),O.v++,!0)}r.Fa=function(){if(this.u=null,Tr(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var O=2*this.R;this.j.info("BP detection timer enabled: "+O),this.A=br(b(this.ab,this),O)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tn(10),Rt(this),Tr(this))};function mn(O){O.A!=null&&(s.clearTimeout(O.A),O.A=null)}function Tr(O){O.g=new Le(O,O.j,"rpc",O.Y),O.m===null&&(O.g.H=O.o),O.g.O=0;var G=rn(O.qa);tn(G,"RID","rpc"),tn(G,"SID",O.K),tn(G,"AID",O.T),tn(G,"CI",O.F?"0":"1"),!O.F&&O.ja&&tn(G,"TO",O.ja),tn(G,"TYPE","xmlhttp"),Nn(O,G),O.m&&O.o&&dr(G,O.m,O.o),O.L&&(O.g.I=O.L);var se=O.g;O=O.ia,se.L=1,se.v=jn(rn(G)),se.m=null,se.P=!0,ct(se,O)}r.Za=function(){this.C!=null&&(this.C=null,Rt(this),Oi(this),Tn(19))};function wt(O){O.C!=null&&(s.clearTimeout(O.C),O.C=null)}function Dt(O,G){var se=null;if(O.g==G){wt(O),mn(O),O.g=null;var Ee=2}else if(Gn(O.h,G))se=G.D,Ut(O.h,G),Ee=1;else return;if(O.G!=0){if(G.o)if(Ee==1){se=G.m?G.m.length:0,G=Date.now()-G.F;var Qe=O.B;Ee=Hn(),He(Ee,new Jn(Ee,se)),Mn(O)}else Ft(O);else if(Qe=G.s,Qe==3||Qe==0&&0<G.X||!(Ee==1&&Kn(O,G)||Ee==2&&Oi(O)))switch(se&&0<se.length&&(G=O.h,G.i=G.i.concat(se)),Qe){case 1:ar(O,5);break;case 4:ar(O,10);break;case 3:ar(O,6);break;default:ar(O,2)}}}function Mt(O,G){let se=O.Ta+Math.floor(Math.random()*O.cb);return O.isActive()||(se*=2),se*G}function ar(O,G){if(O.j.info("Error code "+G),G==2){var se=b(O.fb,O),Ee=O.Xa;const Qe=!Ee;Ee=new ir(Ee||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Dr(Ee,"https"),jn(Ee),Qe?Vr(Ee.toString(),se):Ar(Ee.toString(),se)}else Tn(2);O.G=0,O.l&&O.l.sa(G),yr(O),bn(O)}r.fb=function(O){O?(this.j.info("Successfully pinged google.com"),Tn(2)):(this.j.info("Failed to ping google.com"),Tn(1))};function yr(O){if(O.G=0,O.ka=[],O.l){const G=Yt(O.h);(G.length!=0||O.i.length!=0)&&($(O.ka,G),$(O.ka,O.i),O.h.i.length=0,_(O.i),O.i.length=0),O.l.ra()}}function mr(O,G,se){var Ee=se instanceof ir?rn(se):new ir(se);if(Ee.g!="")G&&(Ee.g=G+"."+Ee.g),Or(Ee,Ee.s);else{var Qe=s.location;Ee=Qe.protocol,G=G?G+"."+Qe.hostname:Qe.hostname,Qe=+Qe.port;var rt=new ir(null);Ee&&Dr(rt,Ee),G&&(rt.g=G),Qe&&Or(rt,Qe),se&&(rt.l=se),Ee=rt}return se=O.D,G=O.ya,se&&G&&tn(Ee,se,G),tn(Ee,"VER",O.la),Nn(O,Ee),Ee}function Qs(O,G,se){if(G&&!O.J)throw Error("Can't create secondary domain capable XhrIo object.");return G=O.Ca&&!O.pa?new k(new pi({eb:se})):new k(O.pa),G.Ha(O.J),G}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ys(){}r=Ys.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ki(){}Ki.prototype.g=function(O,G){return new Br(O,G)};function Br(O,G){De.call(this),this.g=new lt(G),this.l=O,this.h=G&&G.messageUrlParams||null,O=G&&G.messageHeaders||null,G&&G.clientProtocolHeaderRequired&&(O?O["X-Client-Protocol"]="webchannel":O={"X-Client-Protocol":"webchannel"}),this.g.o=O,O=G&&G.initMessageHeaders||null,G&&G.messageContentType&&(O?O["X-WebChannel-Content-Type"]=G.messageContentType:O={"X-WebChannel-Content-Type":G.messageContentType}),G&&G.va&&(O?O["X-WebChannel-Client-Profile"]=G.va:O={"X-WebChannel-Client-Profile":G.va}),this.g.S=O,(O=G&&G.Sb)&&!S(O)&&(this.g.m=O),this.v=G&&G.supportsCrossDomainXhr||!1,this.u=G&&G.sendRawJson||!1,(G=G&&G.httpSessionIdParam)&&!S(G)&&(this.g.D=G,O=this.h,O!==null&&G in O&&(O=this.h,G in O&&delete O[G])),this.j=new go(this)}d(Br,De),Br.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Br.prototype.close=function(){$t(this.g)},Br.prototype.o=function(O){var G=this.g;if(typeof O=="string"){var se={};se.__data__=O,O=se}else this.u&&(se={},se.__data__=It(O),O=se);G.i.push(new Pn(G.Ya++,O)),G.G==3&&Mn(G)},Br.prototype.N=function(){this.g.l=null,delete this.j,$t(this.g),delete this.g,Br.aa.N.call(this)};function Ta(O){Jt.call(this),O.__headers__&&(this.headers=O.__headers__,this.statusCode=O.__status__,delete O.__headers__,delete O.__status__);var G=O.__sm__;if(G){e:{for(const se in G){O=se;break e}O=void 0}(this.i=O)&&(O=this.i,G=G!==null&&O in G?G[O]:void 0),this.data=G}else this.data=O}d(Ta,Jt);function Co(){nr.call(this),this.status=1}d(Co,nr);function go(O){this.g=O}d(go,Ys),go.prototype.ua=function(){He(this.g,"a")},go.prototype.ta=function(O){He(this.g,new Ta(O))},go.prototype.sa=function(O){He(this.g,new Co)},go.prototype.ra=function(){He(this.g,"b")},Ki.prototype.createWebChannel=Ki.prototype.g,Br.prototype.send=Br.prototype.o,Br.prototype.open=Br.prototype.m,Br.prototype.close=Br.prototype.close,zw=function(){return new Ki},qw=function(){return Hn()},Fw=Xe,Kd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xe.NO_ERROR=0,xe.TIMEOUT=8,xe.HTTP_ERROR=6,lf=xe,Pe.COMPLETE="complete",Lw=Pe,vn.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",De.prototype.listen=De.prototype.K,El=vn,k.prototype.listenOnce=k.prototype.L,k.prototype.getLastError=k.prototype.Ka,k.prototype.getLastErrorCode=k.prototype.Ba,k.prototype.getStatus=k.prototype.Z,k.prototype.getResponseJson=k.prototype.Oa,k.prototype.getResponseText=k.prototype.oa,k.prototype.send=k.prototype.ea,k.prototype.setWithCredentials=k.prototype.Ha,Uw=k}).apply(typeof ef<"u"?ef:typeof self<"u"?self:typeof window<"u"?window:{});const h_="@firebase/firestore",p_="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xi.UNAUTHENTICATED=new xi(null),xi.GOOGLE_CREDENTIALS=new xi("google-credentials-uid"),xi.FIRST_PARTY=new xi("first-party-uid"),xi.MOCK_USER=new xi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ou="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new Nw("@firebase/firestore");function nu(){return _a.logLevel}function Nt(r,...e){if(_a.logLevel<=zn.DEBUG){const n=e.map(Dy);_a.debug(`Firestore (${Ou}): ${r}`,...n)}}function as(r,...e){if(_a.logLevel<=zn.ERROR){const n=e.map(Dy);_a.error(`Firestore (${Ou}): ${r}`,...n)}}function fu(r,...e){if(_a.logLevel<=zn.WARN){const n=e.map(Dy);_a.warn(`Firestore (${Ou}): ${r}`,...n)}}function Dy(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(r="Unexpected state"){const e=`FIRESTORE (${Ou}) INTERNAL ASSERTION FAILED: `+r;throw as(e),new Error(e)}function tr(r,e){r||en()}function hn(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends Eu{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class l2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xi.UNAUTHENTICATED))}shutdown(){}}class c2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class f2{constructor(e){this.t=e,this.currentUser=xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){tr(this.o===void 0);let o=this.i;const l=f=>this.i!==o?(o=this.i,n(f)):Promise.resolve();let u=new is;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new is,e.enqueueRetryable(()=>l(this.currentUser))};const c=()=>{const f=u;e.enqueueRetryable(async()=>{await f.promise,await l(this.currentUser)})},s=f=>{Nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(f=>s(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?s(f):(Nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new is)}},0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(tr(typeof o.accessToken=="string"),new Hw(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tr(e===null||typeof e=="string"),new xi(e)}}class h2{constructor(e,n,o){this.l=e,this.h=n,this.P=o,this.type="FirstParty",this.user=xi.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class p2{constructor(e,n,o){this.l=e,this.h=n,this.P=o}getToken(){return Promise.resolve(new h2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class d_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d2{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Gx(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){tr(this.o===void 0);const o=u=>{u.error!=null&&Nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.R;return this.R=u.token,Nt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>o(u))};const l=u=>{Nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):Nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new d_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tr(typeof n.token=="string"),this.R=n.token,new d_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let o=0;o<r;o++)n[o]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const l=y2(40);for(let u=0;u<l.length;++u)o.length<20&&l[u]<n&&(o+=e.charAt(l[u]%62))}return o}}function Vn(r,e){return r<e?-1:r>e?1:0}function hu(r,e,n){return r.length===e.length&&r.every((o,l)=>n(o,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=-62135596800,m_=1e6;class oi{static now(){return oi.fromMillis(Date.now())}static fromDate(e){return oi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor((e-1e3*n)*m_);return new oi(n,o)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ct(yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ct(yt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<y_)throw new Ct(yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ct(yt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/m_}_compareTo(e){return this.seconds===e.seconds?Vn(this.nanoseconds,e.nanoseconds):Vn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-y_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{static fromTimestamp(e){return new an(e)}static min(){return new an(new oi(0,0))}static max(){return new an(new oi(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_="__name__";class Oo{constructor(e,n,o){n===void 0?n=0:n>e.length&&en(),o===void 0?o=e.length-n:o>e.length-n&&en(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return Oo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oo?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let l=0;l<o;l++){const u=Oo.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const o=Oo.isNumericId(e),l=Oo.isNumericId(n);return o&&!l?-1:!o&&l?1:o&&l?Oo.extractNumericId(e).compare(Oo.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ks.fromString(e.substring(4,e.length-2))}}class Er extends Oo{construct(e,n,o){return new Er(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ct(yt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(l=>l.length>0))}return new Er(n)}static emptyPath(){return new Er([])}}const m2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _i extends Oo{construct(e,n,o){return new _i(e,n,o)}static isValidIdentifier(e){return m2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===g_}static keyField(){return new _i([g_])}static fromServerFormat(e){const n=[];let o="",l=0;const u=()=>{if(o.length===0)throw new Ct(yt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let c=!1;for(;l<e.length;){const s=e[l];if(s==="\\"){if(l+1===e.length)throw new Ct(yt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[l+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ct(yt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=f,l+=2}else s==="`"?(c=!c,l++):s!=="."||c?(o+=s,l++):(u(),l++)}if(u(),c)throw new Ct(yt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _i(n)}static emptyPath(){return new _i([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.path=e}static fromPath(e){return new Ht(Er.fromString(e))}static fromName(e){return new Ht(Er.fromString(e).popFirst(5))}static empty(){return new Ht(Er.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Er.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Er.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ht(new Er(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=-1;function g2(r,e){const n=r.toTimestamp().seconds,o=r.toTimestamp().nanoseconds+1,l=an.fromTimestamp(o===1e9?new oi(n+1,0):new oi(n,o));return new Us(l,Ht.empty(),e)}function v2(r){return new Us(r.readTime,r.key,kl)}class Us{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new Us(an.min(),Ht.empty(),kl)}static max(){return new Us(an.max(),Ht.empty(),kl)}}function b2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ht.comparator(r.documentKey,e.documentKey),n!==0?n:Vn(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Au(r){if(r.code!==yt.FAILED_PRECONDITION||r.message!==_2)throw r;Nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&en(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new dt((o,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(o,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(o,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof dt?n:dt.resolve(n)}catch(n){return dt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):dt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):dt.reject(n)}static resolve(e){return new dt((n,o)=>{n(e)})}static reject(e){return new dt((n,o)=>{o(e)})}static waitFor(e){return new dt((n,o)=>{let l=0,u=0,c=!1;e.forEach(s=>{++l,s.next(()=>{++u,c&&u===l&&n()},f=>o(f))}),c=!0,u===l&&n()})}static or(e){let n=dt.resolve(!1);for(const o of e)n=n.next(l=>l?dt.resolve(l):o());return n}static forEach(e,n){const o=[];return e.forEach((l,u)=>{o.push(n.call(this,l,u))}),this.waitFor(o)}static mapArray(e,n){return new dt((o,l)=>{const u=e.length,c=new Array(u);let s=0;for(let f=0;f<u;f++){const h=f;n(e[h]).next(m=>{c[h]=m,++s,s===u&&o(c)},m=>l(m))}})}static doWhile(e,n){return new dt((o,l)=>{const u=()=>{e()===!0?n().next(()=>{u()},l):o()};u()})}}function S2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Tu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.oe(o),this._e=o=>n.writeSequenceNumber(o))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Xf.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=-1;function Jf(r){return r==null}function Af(r){return r===0&&1/r==-1/0}function E2(r){return typeof r=="number"&&Number.isInteger(r)&&!Af(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw="";function O2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=v_(e)),e=A2(r.get(n),e);return v_(e)}function A2(r,e){let n=e;const o=r.length;for(let l=0;l<o;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case Kw:n+="";break;default:n+=u}}return n}function v_(r){return r+Kw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Gs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Qw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e,n){this.comparator=e,this.root=n||bi.EMPTY}insert(e,n){return new Pr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bi.BLACK,null,null))}remove(e){return new Pr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(o===0)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const l=this.comparator(e,o.key);if(l===0)return n+o.left.size;l<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tf(this.root,e,this.comparator,!1)}getReverseIterator(){return new tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tf(this.root,e,this.comparator,!0)}}class tf{constructor(e,n,o,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?o(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bi{constructor(e,n,o,l,u){this.key=e,this.value=n,this.color=o??bi.RED,this.left=l??bi.EMPTY,this.right=u??bi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,l,u){return new bi(e??this.key,n??this.value,o??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let l=this;const u=o(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,o),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,o)),l.fixUp()}removeMin(){if(this.left.isEmpty())return bi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return bi.EMPTY;o=l.right.min(),l=l.copy(o.key,o.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw en();const e=this.left.check();if(e!==this.right.check())throw en();return e+(this.isRed()?0:1)}}bi.EMPTY=null,bi.RED=!0,bi.BLACK=!1;bi.EMPTY=new class{constructor(){this.size=0}get key(){throw en()}get value(){throw en()}get color(){throw en()}get left(){throw en()}get right(){throw en()}copy(e,n,o,l,u){return this}insert(e,n,o){return new bi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.comparator=e,this.data=new Pr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const l=o.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let o;for(o=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new __(this.data.getIterator())}getIteratorFrom(e){return new __(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof si)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=o.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new si(this.comparator);return n.data=e,n}}class __{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e){this.fields=e,e.sort(_i.comparator)}static empty(){return new Hi([])}unionWith(e){let n=new si(_i.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new Hi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hu(this.fields,e.fields,(n,o)=>n.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Yw("Invalid base64 string: "+u):u}}(e);return new wi(n)}static fromUint8Array(e){const n=function(l){let u="";for(let c=0;c<l.length;++c)u+=String.fromCharCode(l[c]);return u}(e);return new wi(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const o=new Uint8Array(n.length);for(let l=0;l<n.length;l++)o[l]=n.charCodeAt(l);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wi.EMPTY_BYTE_STRING=new wi("");const T2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ls(r){if(tr(!!r),typeof r=="string"){let e=0;const n=T2.exec(r);if(tr(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const o=new Date(r);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Fr(r.seconds),nanos:Fr(r.nanos)}}function Fr(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Fs(r){return typeof r=="string"?wi.fromBase64String(r):wi.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="server_timestamp",Xw="__type__",Jw="__previous_value__",Zw="__local_write_time__";function Cy(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Xw])===null||n===void 0?void 0:n.stringValue)===Ww}function Zf(r){const e=r.mapValue.fields[Jw];return Cy(e)?Zf(e):e}function Vl(r){const e=Ls(r.mapValue.fields[Zw].timestampValue);return new oi(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n,o,l,u,c,s,f,h){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=l,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=s,this.longPollingOptions=f,this.useFetchStreams=h}}const Tf="(default)";class Bl{constructor(e,n){this.projectId=e,this.database=n||Tf}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===Tf}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="__type__",x2="__max__",nf={mapValue:{}},tS="__vector__",jf="value";function qs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cy(r)?4:R2(r)?9007199254740991:$2(r)?10:11:en()}function Do(r,e){if(r===e)return!0;const n=qs(r);if(n!==qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Vl(r).isEqual(Vl(e));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const c=Ls(l.timestampValue),s=Ls(u.timestampValue);return c.seconds===s.seconds&&c.nanos===s.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(l,u){return Fs(l.bytesValue).isEqual(Fs(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(l,u){return Fr(l.geoPointValue.latitude)===Fr(u.geoPointValue.latitude)&&Fr(l.geoPointValue.longitude)===Fr(u.geoPointValue.longitude)}(r,e);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return Fr(l.integerValue)===Fr(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const c=Fr(l.doubleValue),s=Fr(u.doubleValue);return c===s?Af(c)===Af(s):isNaN(c)&&isNaN(s)}return!1}(r,e);case 9:return hu(r.arrayValue.values||[],e.arrayValue.values||[],Do);case 10:case 11:return function(l,u){const c=l.mapValue.fields||{},s=u.mapValue.fields||{};if(b_(c)!==b_(s))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(s[f]===void 0||!Do(c[f],s[f])))return!1;return!0}(r,e);default:return en()}}function Ul(r,e){return(r.values||[]).find(n=>Do(n,e))!==void 0}function pu(r,e){if(r===e)return 0;const n=qs(r),o=qs(e);if(n!==o)return Vn(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return Vn(r.booleanValue,e.booleanValue);case 2:return function(u,c){const s=Fr(u.integerValue||u.doubleValue),f=Fr(c.integerValue||c.doubleValue);return s<f?-1:s>f?1:s===f?0:isNaN(s)?isNaN(f)?0:-1:1}(r,e);case 3:return w_(r.timestampValue,e.timestampValue);case 4:return w_(Vl(r),Vl(e));case 5:return Vn(r.stringValue,e.stringValue);case 6:return function(u,c){const s=Fs(u),f=Fs(c);return s.compareTo(f)}(r.bytesValue,e.bytesValue);case 7:return function(u,c){const s=u.split("/"),f=c.split("/");for(let h=0;h<s.length&&h<f.length;h++){const m=Vn(s[h],f[h]);if(m!==0)return m}return Vn(s.length,f.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,c){const s=Vn(Fr(u.latitude),Fr(c.latitude));return s!==0?s:Vn(Fr(u.longitude),Fr(c.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return S_(r.arrayValue,e.arrayValue);case 10:return function(u,c){var s,f,h,m;const j=u.fields||{},b=c.fields||{},R=(s=j[jf])===null||s===void 0?void 0:s.arrayValue,d=(f=b[jf])===null||f===void 0?void 0:f.arrayValue,_=Vn(((h=R==null?void 0:R.values)===null||h===void 0?void 0:h.length)||0,((m=d==null?void 0:d.values)===null||m===void 0?void 0:m.length)||0);return _!==0?_:S_(R,d)}(r.mapValue,e.mapValue);case 11:return function(u,c){if(u===nf.mapValue&&c===nf.mapValue)return 0;if(u===nf.mapValue)return 1;if(c===nf.mapValue)return-1;const s=u.fields||{},f=Object.keys(s),h=c.fields||{},m=Object.keys(h);f.sort(),m.sort();for(let j=0;j<f.length&&j<m.length;++j){const b=Vn(f[j],m[j]);if(b!==0)return b;const R=pu(s[f[j]],h[m[j]]);if(R!==0)return R}return Vn(f.length,m.length)}(r.mapValue,e.mapValue);default:throw en()}}function w_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Vn(r,e);const n=Ls(r),o=Ls(e),l=Vn(n.seconds,o.seconds);return l!==0?l:Vn(n.nanos,o.nanos)}function S_(r,e){const n=r.values||[],o=e.values||[];for(let l=0;l<n.length&&l<o.length;++l){const u=pu(n[l],o[l]);if(u)return u}return Vn(n.length,o.length)}function du(r){return Qd(r)}function Qd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const o=Ls(n);return`time(${o.seconds},${o.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Fs(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return Ht.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let o="[",l=!0;for(const u of n.values||[])l?l=!1:o+=",",o+=Qd(u);return o+"]"}(r.arrayValue):"mapValue"in r?function(n){const o=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const c of o)u?u=!1:l+=",",l+=`${c}:${Qd(n.fields[c])}`;return l+"}"}(r.mapValue):en()}function cf(r){switch(qs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zf(r);return e?16+cf(e):16;case 5:return 2*r.stringValue.length;case 6:return Fs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((l,u)=>l+cf(u),0)}(r.arrayValue);case 10:case 11:return function(o){let l=0;return Gs(o.fields,(u,c)=>{l+=u.length+cf(c)}),l}(r.mapValue);default:throw en()}}function E_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Yd(r){return!!r&&"integerValue"in r}function Iy(r){return!!r&&"arrayValue"in r}function O_(r){return!!r&&"nullValue"in r}function A_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ff(r){return!!r&&"mapValue"in r}function $2(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[eS])===null||n===void 0?void 0:n.stringValue)===tS}function jl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Gs(r.mapValue.fields,(n,o)=>e.mapValue.fields[n]=jl(o)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function R2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===x2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.value=e}static empty(){return new Vi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!ff(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(n)}setAll(e){let n=_i.emptyPath(),o={},l=[];e.forEach((c,s)=>{if(!n.isImmediateParentOf(s)){const f=this.getFieldsMap(n);this.applyChanges(f,o,l),o={},l=[],n=s.popLast()}c?o[s.lastSegment()]=jl(c):l.push(s.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,o,l)}delete(e){const n=this.field(e.popLast());ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Do(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let l=n.mapValue.fields[e.get(o)];ff(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,o){Gs(n,(l,u)=>e[l]=u);for(const l of o)delete e[l]}clone(){return new Vi(jl(this.value))}}function nS(r){const e=[];return Gs(r.fields,(n,o)=>{const l=new _i([n]);if(ff(o)){const u=nS(o.mapValue).fields;if(u.length===0)e.push(l);else for(const c of u)e.push(l.child(c))}else e.push(l)}),new Hi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n,o,l,u,c,s){this.key=e,this.documentType=n,this.version=o,this.readTime=l,this.createTime=u,this.data=c,this.documentState=s}static newInvalidDocument(e){return new $i(e,0,an.min(),an.min(),an.min(),Vi.empty(),0)}static newFoundDocument(e,n,o,l){return new $i(e,1,n,an.min(),o,l,0)}static newNoDocument(e,n){return new $i(e,2,n,an.min(),an.min(),Vi.empty(),0)}static newUnknownDocument(e,n){return new $i(e,3,n,an.min(),an.min(),Vi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(an.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=an.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,n){this.position=e,this.inclusive=n}}function T_(r,e,n){let o=0;for(let l=0;l<r.position.length;l++){const u=e[l],c=r.position[l];if(u.field.isKeyField()?o=Ht.comparator(Ht.fromName(c.referenceValue),n.key):o=pu(c,n.data.field(u.field)),u.dir==="desc"&&(o*=-1),o!==0)break}return o}function j_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Do(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n="asc"){this.field=e,this.dir=n}}function P2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{}class Wr extends rS{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,o):new N2(e,n,o):n==="array-contains"?new M2(e,o):n==="in"?new k2(e,o):n==="not-in"?new V2(e,o):n==="array-contains-any"?new B2(e,o):new Wr(e,n,o)}static createKeyFieldInFilter(e,n,o){return n==="in"?new C2(e,o):new I2(e,o)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(pu(n,this.value)):n!==null&&qs(this.value)===qs(n)&&this.matchesComparison(pu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return en()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yo extends rS{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new yo(e,n)}matches(e){return iS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function iS(r){return r.op==="and"}function oS(r){return D2(r)&&iS(r)}function D2(r){for(const e of r.filters)if(e instanceof yo)return!1;return!0}function Wd(r){if(r instanceof Wr)return r.field.canonicalString()+r.op.toString()+du(r.value);if(oS(r))return r.filters.map(e=>Wd(e)).join(",");{const e=r.filters.map(n=>Wd(n)).join(",");return`${r.op}(${e})`}}function sS(r,e){return r instanceof Wr?function(o,l){return l instanceof Wr&&o.op===l.op&&o.field.isEqual(l.field)&&Do(o.value,l.value)}(r,e):r instanceof yo?function(o,l){return l instanceof yo&&o.op===l.op&&o.filters.length===l.filters.length?o.filters.reduce((u,c,s)=>u&&sS(c,l.filters[s]),!0):!1}(r,e):void en()}function aS(r){return r instanceof Wr?function(n){return`${n.field.canonicalString()} ${n.op} ${du(n.value)}`}(r):r instanceof yo?function(n){return n.op.toString()+" {"+n.getFilters().map(aS).join(" ,")+"}"}(r):"Filter"}class N2 extends Wr{constructor(e,n,o){super(e,n,o),this.key=Ht.fromName(o.referenceValue)}matches(e){const n=Ht.comparator(e.key,this.key);return this.matchesComparison(n)}}class C2 extends Wr{constructor(e,n){super(e,"in",n),this.keys=uS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class I2 extends Wr{constructor(e,n){super(e,"not-in",n),this.keys=uS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uS(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(o=>Ht.fromName(o.referenceValue))}class M2 extends Wr{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Iy(n)&&Ul(n.arrayValue,this.value)}}class k2 extends Wr{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ul(this.value.arrayValue,n)}}class V2 extends Wr{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ul(this.value.arrayValue,n)}}class B2 extends Wr{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Iy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>Ul(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n=null,o=[],l=[],u=null,c=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=l,this.limit=u,this.startAt=c,this.endAt=s,this.le=null}}function x_(r,e=null,n=[],o=[],l=null,u=null,c=null){return new U2(r,e,n,o,l,u,c)}function My(r){const e=hn(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>Wd(o)).join(","),n+="|ob:",n+=e.orderBy.map(o=>function(u){return u.field.canonicalString()+u.dir}(o)).join(","),Jf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>du(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>du(o)).join(",")),e.le=n}return e.le}function ky(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!P2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!sS(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!j_(r.startAt,e.startAt)&&j_(r.endAt,e.endAt)}function Xd(r){return Ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n=null,o=[],l=[],u=null,c="F",s=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=l,this.limit=u,this.limitType=c,this.startAt=s,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function L2(r,e,n,o,l,u,c,s){return new Ql(r,e,n,o,l,u,c,s)}function Vy(r){return new Ql(r)}function $_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function lS(r){return r.collectionGroup!==null}function xl(r){const e=hn(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let s=new si(_i.comparator);return c.filters.forEach(f=>{f.getFlattenedFilters().forEach(h=>{h.isInequality()&&(s=s.add(h.field))})}),s})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new $f(u,o))}),n.has(_i.keyField().canonicalString())||e.he.push(new $f(_i.keyField(),o))}return e.he}function $o(r){const e=hn(r);return e.Pe||(e.Pe=F2(e,xl(r))),e.Pe}function F2(r,e){if(r.limitType==="F")return x_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new $f(l.field,u)});const n=r.endAt?new xf(r.endAt.position,r.endAt.inclusive):null,o=r.startAt?new xf(r.startAt.position,r.startAt.inclusive):null;return x_(r.path,r.collectionGroup,e,r.filters,r.limit,n,o)}}function Jd(r,e){const n=r.filters.concat([e]);return new Ql(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Zd(r,e,n){return new Ql(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function eh(r,e){return ky($o(r),$o(e))&&r.limitType===e.limitType}function cS(r){return`${My($o(r))}|lt:${r.limitType}`}function ru(r){return`Query(target=${function(n){let o=n.path.canonicalString();return n.collectionGroup!==null&&(o+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(o+=`, filters: [${n.filters.map(l=>aS(l)).join(", ")}]`),Jf(n.limit)||(o+=", limit: "+n.limit),n.orderBy.length>0&&(o+=`, orderBy: [${n.orderBy.map(l=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(l)).join(", ")}]`),n.startAt&&(o+=", startAt: ",o+=n.startAt.inclusive?"b:":"a:",o+=n.startAt.position.map(l=>du(l)).join(",")),n.endAt&&(o+=", endAt: ",o+=n.endAt.inclusive?"a:":"b:",o+=n.endAt.position.map(l=>du(l)).join(",")),`Target(${o})`}($o(r))}; limitType=${r.limitType})`}function th(r,e){return e.isFoundDocument()&&function(o,l){const u=l.key.path;return o.collectionGroup!==null?l.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(u):Ht.isDocumentKey(o.path)?o.path.isEqual(u):o.path.isImmediateParentOf(u)}(r,e)&&function(o,l){for(const u of xl(o))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(r,e)&&function(o,l){for(const u of o.filters)if(!u.matches(l))return!1;return!0}(r,e)&&function(o,l){return!(o.startAt&&!function(c,s,f){const h=T_(c,s,f);return c.inclusive?h<=0:h<0}(o.startAt,xl(o),l)||o.endAt&&!function(c,s,f){const h=T_(c,s,f);return c.inclusive?h>=0:h>0}(o.endAt,xl(o),l))}(r,e)}function q2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function fS(r){return(e,n)=>{let o=!1;for(const l of xl(r)){const u=z2(l,e,n);if(u!==0)return u;o=o||l.field.isKeyField()}return 0}}function z2(r,e,n){const o=r.field.isKeyField()?Ht.comparator(e.key,n.key):function(u,c,s){const f=c.data.field(u),h=s.data.field(u);return f!==null&&h!==null?pu(f,h):en()}(r.field,e,n);switch(r.dir){case"asc":return o;case"desc":return-1*o;default:return en()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(o!==void 0){for(const[l,u]of o)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const o=this.mapKeyFn(e),l=this.inner[o];if(l===void 0)return this.inner[o]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(o===void 0)return!1;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return o.length===1?delete this.inner[n]:o.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(n,o)=>{for(const[l,u]of o)e(l,u)})}isEmpty(){return Qw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new Pr(Ht.comparator);function us(){return H2}const hS=new Pr(Ht.comparator);function Ol(...r){let e=hS;for(const n of r)e=e.insert(n.key,n);return e}function pS(r){let e=hS;return r.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function ga(){return $l()}function dS(){return $l()}function $l(){return new Ea(r=>r.toString(),(r,e)=>r.isEqual(e))}const G2=new Pr(Ht.comparator),K2=new si(Ht.comparator);function Cn(...r){let e=K2;for(const n of r)e=e.add(n);return e}const Q2=new si(Vn);function Y2(){return Q2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function By(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Af(e)?"-0":e}}function yS(r){return{integerValue:""+r}}function W2(r,e){return E2(e)?yS(e):By(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this._=void 0}}function X2(r,e,n){return r instanceof Rf?function(l,u){const c={fields:{[Xw]:{stringValue:Ww},[Zw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Cy(u)&&(u=Zf(u)),u&&(c.fields[Jw]=u),{mapValue:c}}(n,e):r instanceof Ll?gS(r,e):r instanceof Fl?vS(r,e):function(l,u){const c=mS(l,u),s=R_(c)+R_(l.Ie);return Yd(c)&&Yd(l.Ie)?yS(s):By(l.serializer,s)}(r,e)}function J2(r,e,n){return r instanceof Ll?gS(r,e):r instanceof Fl?vS(r,e):n}function mS(r,e){return r instanceof Pf?function(o){return Yd(o)||function(u){return!!u&&"doubleValue"in u}(o)}(e)?e:{integerValue:0}:null}class Rf extends nh{}class Ll extends nh{constructor(e){super(),this.elements=e}}function gS(r,e){const n=bS(e);for(const o of r.elements)n.some(l=>Do(l,o))||n.push(o);return{arrayValue:{values:n}}}class Fl extends nh{constructor(e){super(),this.elements=e}}function vS(r,e){let n=bS(e);for(const o of r.elements)n=n.filter(l=>!Do(l,o));return{arrayValue:{values:n}}}class Pf extends nh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function R_(r){return Fr(r.integerValue||r.doubleValue)}function bS(r){return Iy(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function Z2(r,e){return r.field.isEqual(e.field)&&function(o,l){return o instanceof Ll&&l instanceof Ll||o instanceof Fl&&l instanceof Fl?hu(o.elements,l.elements,Do):o instanceof Pf&&l instanceof Pf?Do(o.Ie,l.Ie):o instanceof Rf&&l instanceof Rf}(r.transform,e.transform)}class e${constructor(e,n){this.version=e,this.transformResults=n}}class so{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new so}static exists(e){return new so(void 0,e)}static updateTime(e){return new so(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class rh{}function _S(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Uy(r.key,so.none()):new Yl(r.key,r.data,so.none());{const n=r.data,o=Vi.empty();let l=new si(_i.comparator);for(let u of e.fields)if(!l.has(u)){let c=n.field(u);c===null&&u.length>1&&(u=u.popLast(),c=n.field(u)),c===null?o.delete(u):o.set(u,c),l=l.add(u)}return new Ks(r.key,o,new Hi(l.toArray()),so.none())}}function t$(r,e,n){r instanceof Yl?function(l,u,c){const s=l.value.clone(),f=D_(l.fieldTransforms,u,c.transformResults);s.setAll(f),u.convertToFoundDocument(c.version,s).setHasCommittedMutations()}(r,e,n):r instanceof Ks?function(l,u,c){if(!hf(l.precondition,u))return void u.convertToUnknownDocument(c.version);const s=D_(l.fieldTransforms,u,c.transformResults),f=u.data;f.setAll(wS(l)),f.setAll(s),u.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(r,e,n):function(l,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,n)}function Rl(r,e,n,o){return r instanceof Yl?function(u,c,s,f){if(!hf(u.precondition,c))return s;const h=u.value.clone(),m=N_(u.fieldTransforms,f,c);return h.setAll(m),c.convertToFoundDocument(c.version,h).setHasLocalMutations(),null}(r,e,n,o):r instanceof Ks?function(u,c,s,f){if(!hf(u.precondition,c))return s;const h=N_(u.fieldTransforms,f,c),m=c.data;return m.setAll(wS(u)),m.setAll(h),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),s===null?null:s.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(j=>j.field))}(r,e,n,o):function(u,c,s){return hf(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):s}(r,e,n)}function n$(r,e){let n=null;for(const o of r.fieldTransforms){const l=e.data.field(o.field),u=mS(o.transform,l||null);u!=null&&(n===null&&(n=Vi.empty()),n.set(o.field,u))}return n||null}function P_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(o,l){return o===void 0&&l===void 0||!(!o||!l)&&hu(o,l,(u,c)=>Z2(u,c))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Yl extends rh{constructor(e,n,o,l=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ks extends rh{constructor(e,n,o,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function wS(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=r.data.field(n);e.set(n,o)}}),e}function D_(r,e,n){const o=new Map;tr(r.length===n.length);for(let l=0;l<n.length;l++){const u=r[l],c=u.transform,s=e.data.field(u.field);o.set(u.field,J2(c,s,n[l]))}return o}function N_(r,e,n){const o=new Map;for(const l of r){const u=l.transform,c=n.data.field(l.field);o.set(l.field,X2(u,c,e))}return o}class Uy extends rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r$ extends rh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e,n,o,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=l}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&t$(u,e,o[l])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=Rl(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=Rl(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=dS();return this.mutations.forEach(l=>{const u=e.get(l.key),c=u.overlayedDocument;let s=this.applyToLocalView(c,u.mutatedFields);s=n.has(l.key)?null:s;const f=_S(c,s);f!==null&&o.set(l.key,f),c.isValidDocument()||c.convertToNoDocument(an.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Cn())}isEqual(e){return this.batchId===e.batchId&&hu(this.mutations,e.mutations,(n,o)=>P_(n,o))&&hu(this.baseMutations,e.baseMutations,(n,o)=>P_(n,o))}}class Ly{constructor(e,n,o,l){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=l}static from(e,n,o){tr(e.mutations.length===o.length);let l=function(){return G2}();const u=e.mutations;for(let c=0;c<u.length;c++)l=l.insert(u[c].key,o[c].version);return new Ly(e,n,o,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qr,qn;function a$(r){switch(r){case yt.OK:return en();case yt.CANCELLED:case yt.UNKNOWN:case yt.DEADLINE_EXCEEDED:case yt.RESOURCE_EXHAUSTED:case yt.INTERNAL:case yt.UNAVAILABLE:case yt.UNAUTHENTICATED:return!1;case yt.INVALID_ARGUMENT:case yt.NOT_FOUND:case yt.ALREADY_EXISTS:case yt.PERMISSION_DENIED:case yt.FAILED_PRECONDITION:case yt.ABORTED:case yt.OUT_OF_RANGE:case yt.UNIMPLEMENTED:case yt.DATA_LOSS:return!0;default:return en()}}function SS(r){if(r===void 0)return as("GRPC error has no .code"),yt.UNKNOWN;switch(r){case Qr.OK:return yt.OK;case Qr.CANCELLED:return yt.CANCELLED;case Qr.UNKNOWN:return yt.UNKNOWN;case Qr.DEADLINE_EXCEEDED:return yt.DEADLINE_EXCEEDED;case Qr.RESOURCE_EXHAUSTED:return yt.RESOURCE_EXHAUSTED;case Qr.INTERNAL:return yt.INTERNAL;case Qr.UNAVAILABLE:return yt.UNAVAILABLE;case Qr.UNAUTHENTICATED:return yt.UNAUTHENTICATED;case Qr.INVALID_ARGUMENT:return yt.INVALID_ARGUMENT;case Qr.NOT_FOUND:return yt.NOT_FOUND;case Qr.ALREADY_EXISTS:return yt.ALREADY_EXISTS;case Qr.PERMISSION_DENIED:return yt.PERMISSION_DENIED;case Qr.FAILED_PRECONDITION:return yt.FAILED_PRECONDITION;case Qr.ABORTED:return yt.ABORTED;case Qr.OUT_OF_RANGE:return yt.OUT_OF_RANGE;case Qr.UNIMPLEMENTED:return yt.UNIMPLEMENTED;case Qr.DATA_LOSS:return yt.DATA_LOSS;default:return en()}}(qn=Qr||(Qr={}))[qn.OK=0]="OK",qn[qn.CANCELLED=1]="CANCELLED",qn[qn.UNKNOWN=2]="UNKNOWN",qn[qn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qn[qn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qn[qn.NOT_FOUND=5]="NOT_FOUND",qn[qn.ALREADY_EXISTS=6]="ALREADY_EXISTS",qn[qn.PERMISSION_DENIED=7]="PERMISSION_DENIED",qn[qn.UNAUTHENTICATED=16]="UNAUTHENTICATED",qn[qn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qn[qn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qn[qn.ABORTED=10]="ABORTED",qn[qn.OUT_OF_RANGE=11]="OUT_OF_RANGE",qn[qn.UNIMPLEMENTED=12]="UNIMPLEMENTED",qn[qn.INTERNAL=13]="INTERNAL",qn[qn.UNAVAILABLE=14]="UNAVAILABLE",qn[qn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=new ks([4294967295,4294967295],0);function C_(r){const e=u$().encode(r),n=new Bw;return n.update(e),new Uint8Array(n.digest())}function I_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),o=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ks([n,o],0),new ks([l,u],0)]}class Fy{constructor(e,n,o){if(this.bitmap=e,this.padding=n,this.hashCount=o,n<0||n>=8)throw new Al(`Invalid padding: ${n}`);if(o<0)throw new Al(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new Al(`Invalid hash count: ${o}`);if(e.length===0&&n!==0)throw new Al(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ks.fromNumber(this.Ee)}Ae(e,n,o){let l=e.add(n.multiply(ks.fromNumber(o)));return l.compare(l$)===1&&(l=new ks([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=C_(e),[o,l]=I_(n);for(let u=0;u<this.hashCount;u++){const c=this.Ae(o,l,u);if(!this.Re(c))return!1}return!0}static create(e,n,o){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new Fy(u,l,n);return o.forEach(s=>c.insert(s)),c}insert(e){if(this.Ee===0)return;const n=C_(e),[o,l]=I_(n);for(let u=0;u<this.hashCount;u++){const c=this.Ae(o,l,u);this.Ve(c)}}Ve(e){const n=Math.floor(e/8),o=e%8;this.bitmap[n]|=1<<o}}class Al extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,o,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,o){const l=new Map;return l.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,n,o)),new ih(an.min(),l,new Pr(Vn),us(),Cn())}}class Wl{constructor(e,n,o,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,o){return new Wl(o,n,Cn(),Cn(),Cn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n,o,l){this.me=e,this.removedTargetIds=n,this.key=o,this.fe=l}}class ES{constructor(e,n){this.targetId=e,this.ge=n}}class OS{constructor(e,n,o=wi.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=l}}class M_{constructor(){this.pe=0,this.ye=k_(),this.we=wi.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Cn(),n=Cn(),o=Cn();return this.ye.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:o=o.add(l);break;default:en()}}),new Wl(this.we,this.be,e,n,o)}Me(){this.Se=!1,this.ye=k_()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,tr(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class c${constructor(e){this.ke=e,this.qe=new Map,this.Qe=us(),this.$e=rf(),this.Ke=rf(),this.Ue=new Pr(Vn)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const o=this.He(n);switch(e.state){case 0:this.Je(n)&&o.Ce(e.resumeToken);break;case 1:o.Be(),o.De||o.Me(),o.Ce(e.resumeToken);break;case 2:o.Be(),o.De||this.removeTarget(n);break;case 3:this.Je(n)&&(o.Le(),o.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),o.Ce(e.resumeToken));break;default:en()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((o,l)=>{this.Je(l)&&n(l)})}Ze(e){const n=e.targetId,o=e.ge.count,l=this.Xe(n);if(l){const u=l.target;if(Xd(u))if(o===0){const c=new Ht(u.path);this.ze(n,c,$i.newNoDocument(c,an.min()))}else tr(o===1);else{const c=this.et(n);if(c!==o){const s=this.tt(e),f=s?this.nt(s,e,c):1;if(f!==0){this.Ye(n);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,h)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:o="",padding:l=0},hashCount:u=0}=n;let c,s;try{c=Fs(o).toUint8Array()}catch(f){if(f instanceof Yw)return fu("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{s=new Fy(c,l,u)}catch(f){return fu(f instanceof Al?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return s.Ee===0?null:s}nt(e,n,o){return n.ge.count===o-this.st(e,n.targetId)?0:2}st(e,n){const o=this.ke.getRemoteKeysForTarget(n);let l=0;return o.forEach(u=>{const c=this.ke.it(),s=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(s)||(this.ze(n,u,null),l++)}),l}ot(e){const n=new Map;this.qe.forEach((u,c)=>{const s=this.Xe(c);if(s){if(u.current&&Xd(s.target)){const f=new Ht(s.target.path);this._t(f).has(c)||this.ut(c,f)||this.ze(c,f,$i.newNoDocument(f,e))}u.ve&&(n.set(c,u.Fe()),u.Me())}});let o=Cn();this.Ke.forEach((u,c)=>{let s=!0;c.forEachWhile(f=>{const h=this.Xe(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(o=o.add(u))}),this.Qe.forEach((u,c)=>c.setReadTime(e));const l=new ih(e,n,this.Ue,this.Qe,o);return this.Qe=us(),this.$e=rf(),this.Ke=rf(),this.Ue=new Pr(Vn),l}Ge(e,n){if(!this.Je(e))return;const o=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,o),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,o){if(!this.Je(e))return;const l=this.He(e);this.ut(e,n)?l.xe(n,1):l.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),o&&(this.Qe=this.Qe.insert(n,o))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new M_,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new si(Vn),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new si(Vn),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||Nt("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new M_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function rf(){return new Pr(Ht.comparator)}function k_(){return new Pr(Ht.comparator)}const f$={asc:"ASCENDING",desc:"DESCENDING"},h$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p$={and:"AND",or:"OR"};class d${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ey(r,e){return r.useProto3Json||Jf(e)?e:{value:e}}function Df(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AS(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function y$(r,e){return Df(r,e.toTimestamp())}function Ro(r){return tr(!!r),an.fromTimestamp(function(n){const o=Ls(n);return new oi(o.seconds,o.nanos)}(r))}function qy(r,e){return ty(r,e).canonicalString()}function ty(r,e){const n=function(l){return new Er(["projects",l.projectId,"databases",l.database])}(r).child("documents");return e===void 0?n:n.child(e)}function TS(r){const e=Er.fromString(r);return tr(PS(e)),e}function ny(r,e){return qy(r.databaseId,e.path)}function xd(r,e){const n=TS(e);if(n.get(1)!==r.databaseId.projectId)throw new Ct(yt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Ct(yt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ht(xS(n))}function jS(r,e){return qy(r.databaseId,e)}function m$(r){const e=TS(r);return e.length===4?Er.emptyPath():xS(e)}function ry(r){return new Er(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function xS(r){return tr(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function V_(r,e,n){return{name:ny(r,e),fields:n.value.mapValue.fields}}function g$(r,e){let n;if("targetChange"in e){e.targetChange;const o=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:en()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=function(h,m){return h.useProto3Json?(tr(m===void 0||typeof m=="string"),wi.fromBase64String(m||"")):(tr(m===void 0||m instanceof Buffer||m instanceof Uint8Array),wi.fromUint8Array(m||new Uint8Array))}(r,e.targetChange.resumeToken),c=e.targetChange.cause,s=c&&function(h){const m=h.code===void 0?yt.UNKNOWN:SS(h.code);return new Ct(m,h.message||"")}(c);n=new OS(o,l,u,s||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const l=xd(r,o.document.name),u=Ro(o.document.updateTime),c=o.document.createTime?Ro(o.document.createTime):an.min(),s=new Vi({mapValue:{fields:o.document.fields}}),f=$i.newFoundDocument(l,u,c,s),h=o.targetIds||[],m=o.removedTargetIds||[];n=new pf(h,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const l=xd(r,o.document),u=o.readTime?Ro(o.readTime):an.min(),c=$i.newNoDocument(l,u),s=o.removedTargetIds||[];n=new pf([],s,c.key,c)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const l=xd(r,o.document),u=o.removedTargetIds||[];n=new pf([],u,l,null)}else{if(!("filter"in e))return en();{e.filter;const o=e.filter;o.targetId;const{count:l=0,unchangedNames:u}=o,c=new s$(l,u),s=o.targetId;n=new ES(s,c)}}return n}function v$(r,e){let n;if(e instanceof Yl)n={update:V_(r,e.key,e.value)};else if(e instanceof Uy)n={delete:ny(r,e.key)};else if(e instanceof Ks)n={update:V_(r,e.key,e.data),updateMask:j$(e.fieldMask)};else{if(!(e instanceof r$))return en();n={verify:ny(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,c){const s=c.transform;if(s instanceof Rf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof Ll)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof Fl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Pf)return{fieldPath:c.field.canonicalString(),increment:s.Ie};throw en()}(0,o))),e.precondition.isNone||(n.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:y$(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:en()}(r,e.precondition)),n}function b$(r,e){return r&&r.length>0?(tr(e!==void 0),r.map(n=>function(l,u){let c=l.updateTime?Ro(l.updateTime):Ro(u);return c.isEqual(an.min())&&(c=Ro(u)),new e$(c,l.transformResults||[])}(n,e))):[]}function _$(r,e){return{documents:[jS(r,e.path)]}}function w$(r,e){const n={structuredQuery:{}},o=e.path;let l;e.collectionGroup!==null?(l=o,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=o.popLast(),n.structuredQuery.from=[{collectionId:o.lastSegment()}]),n.parent=jS(r,l);const u=function(h){if(h.length!==0)return RS(yo.create(h,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const c=function(h){if(h.length!==0)return h.map(m=>function(b){return{field:iu(b.field),direction:O$(b.dir)}}(m))}(e.orderBy);c&&(n.structuredQuery.orderBy=c);const s=ey(r,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{ht:n,parent:l}}function S$(r){let e=m$(r.parent);const n=r.structuredQuery,o=n.from?n.from.length:0;let l=null;if(o>0){tr(o===1);const m=n.from[0];m.allDescendants?l=m.collectionId:e=e.child(m.collectionId)}let u=[];n.where&&(u=function(j){const b=$S(j);return b instanceof yo&&oS(b)?b.getFilters():[b]}(n.where));let c=[];n.orderBy&&(c=function(j){return j.map(b=>function(d){return new $f(ou(d.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(b))}(n.orderBy));let s=null;n.limit&&(s=function(j){let b;return b=typeof j=="object"?j.value:j,Jf(b)?null:b}(n.limit));let f=null;n.startAt&&(f=function(j){const b=!!j.before,R=j.values||[];return new xf(R,b)}(n.startAt));let h=null;return n.endAt&&(h=function(j){const b=!j.before,R=j.values||[];return new xf(R,b)}(n.endAt)),L2(e,l,c,u,s,"F",f,h)}function E$(r,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return en()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $S(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const o=ou(n.unaryFilter.field);return Wr.create(o,"==",{doubleValue:NaN});case"IS_NULL":const l=ou(n.unaryFilter.field);return Wr.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ou(n.unaryFilter.field);return Wr.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ou(n.unaryFilter.field);return Wr.create(c,"!=",{nullValue:"NULL_VALUE"});default:return en()}}(r):r.fieldFilter!==void 0?function(n){return Wr.create(ou(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return en()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return yo.create(n.compositeFilter.filters.map(o=>$S(o)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return en()}}(n.compositeFilter.op))}(r):en()}function O$(r){return f$[r]}function A$(r){return h$[r]}function T$(r){return p$[r]}function iu(r){return{fieldPath:r.canonicalString()}}function ou(r){return _i.fromServerFormat(r.fieldPath)}function RS(r){return r instanceof Wr?function(n){if(n.op==="=="){if(A_(n.value))return{unaryFilter:{field:iu(n.field),op:"IS_NAN"}};if(O_(n.value))return{unaryFilter:{field:iu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(A_(n.value))return{unaryFilter:{field:iu(n.field),op:"IS_NOT_NAN"}};if(O_(n.value))return{unaryFilter:{field:iu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:iu(n.field),op:A$(n.op),value:n.value}}}(r):r instanceof yo?function(n){const o=n.getFilters().map(l=>RS(l));return o.length===1?o[0]:{compositeFilter:{op:T$(n.op),filters:o}}}(r):en()}function j$(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PS(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,n,o,l,u=an.min(),c=an.min(),s=wi.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=s,this.expectedCount=f}withSequenceNumber(e){return new Cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${constructor(e){this.Tt=e}}function $$(r){const e=S$({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(){this.Tn=new P$}addToCollectionParentIndex(e,n){return this.Tn.add(n),dt.resolve()}getCollectionParents(e,n){return dt.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return dt.resolve()}deleteFieldIndex(e,n){return dt.resolve()}deleteAllFieldIndexes(e){return dt.resolve()}createTargetIndexes(e,n){return dt.resolve()}getDocumentsMatchingTarget(e,n){return dt.resolve(null)}getIndexType(e,n){return dt.resolve(0)}getFieldIndexes(e,n){return dt.resolve([])}getNextCollectionGroupToUpdate(e){return dt.resolve(null)}getMinOffset(e,n){return dt.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,n){return dt.resolve(Us.min())}updateCollectionGroup(e,n,o){return dt.resolve()}updateIndexEntries(e,n){return dt.resolve()}}class P${constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),l=this.index[n]||new si(Er.comparator),u=!l.has(o);return this.index[n]=l.add(o),u}has(e){const n=e.lastSegment(),o=e.popLast(),l=this.index[n];return l&&l.has(o)}getEntries(e){return(this.index[e]||new si(Er.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DS=41943040;class ki{static withCacheSize(e){return new ki(e,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ki.DEFAULT_COLLECTION_PERCENTILE=10,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ki.DEFAULT=new ki(DS,ki.DEFAULT_COLLECTION_PERCENTILE,ki.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ki.DISABLED=new ki(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new yu(0)}static Un(){return new yu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="LruGarbageCollector",D$=1048576;function L_([r,e],[n,o]){const l=Vn(r,n);return l===0?Vn(e,o):l}class N${constructor(e){this.Hn=e,this.buffer=new si(L_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();L_(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class C${constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Nt(U_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Tu(n)?Nt(U_,"Ignoring IndexedDB error during garbage collection: ",n):await Au(n)}await this.er(3e5)})}}class I${constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(n===0)return dt.resolve(Xf.ae);const o=new N$(n);return this.tr.forEachTarget(e,l=>o.Zn(l.sequenceNumber)).next(()=>this.tr.rr(e,l=>o.Zn(l))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.tr.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Nt("LruGarbageCollector","Garbage collection skipped; disabled"),dt.resolve(B_)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let o,l,u,c,s,f,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(j=>(j>this.params.maximumSequenceNumbersToCollect?(Nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${j}`),l=this.params.maximumSequenceNumbersToCollect):l=j,c=Date.now(),this.nthSequenceNumber(e,l))).next(j=>(o=j,s=Date.now(),this.removeTargets(e,o,n))).next(j=>(u=j,f=Date.now(),this.removeOrphanedDocuments(e,o))).next(j=>(h=Date.now(),nu()<=zn.DEBUG&&Nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-m}ms
	Determined least recently used ${l} in `+(s-c)+`ms
	Removed ${u} targets in `+(f-s)+`ms
	Removed ${j} documents in `+(h-f)+`ms
Total Duration: ${h-m}ms`),dt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:j})))}}function M$(r,e){return new I$(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${constructor(){this.changes=new Ea(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$i.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return o!==void 0?dt.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B${constructor(e,n,o,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=l}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(o=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(o!==null&&Rl(o.mutation,l,Hi.empty(),oi.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,Cn()).next(()=>o))}getLocalViewOfDocuments(e,n,o=Cn()){const l=ga();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,o).next(u=>{let c=Ol();return u.forEach((s,f)=>{c=c.insert(s,f.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const o=ga();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,Cn()))}populateOverlays(e,n,o){const l=[];return o.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((c,s)=>{n.set(c,s)})})}computeViews(e,n,o,l){let u=us();const c=$l(),s=function(){return $l()}();return n.forEach((f,h)=>{const m=o.get(h.key);l.has(h.key)&&(m===void 0||m.mutation instanceof Ks)?u=u.insert(h.key,h):m!==void 0?(c.set(h.key,m.mutation.getFieldMask()),Rl(m.mutation,h,m.mutation.getFieldMask(),oi.now())):c.set(h.key,Hi.empty())}),this.recalculateAndSaveOverlays(e,u).next(f=>(f.forEach((h,m)=>c.set(h,m)),n.forEach((h,m)=>{var j;return s.set(h,new V$(m,(j=c.get(h))!==null&&j!==void 0?j:null))}),s))}recalculateAndSaveOverlays(e,n){const o=$l();let l=new Pr((c,s)=>c-s),u=Cn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const s of c)s.keys().forEach(f=>{const h=n.get(f);if(h===null)return;let m=o.get(f)||Hi.empty();m=s.applyToLocalView(h,m),o.set(f,m);const j=(l.get(s.batchId)||Cn()).add(f);l=l.insert(s.batchId,j)})}).next(()=>{const c=[],s=l.getReverseIterator();for(;s.hasNext();){const f=s.getNext(),h=f.key,m=f.value,j=dS();m.forEach(b=>{if(!u.has(b)){const R=_S(n.get(b),o.get(b));R!==null&&j.set(b,R),u=u.add(b)}}),c.push(this.documentOverlayCache.saveOverlays(e,h,j))}return dt.waitFor(c)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o,l){return function(c){return Ht.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o,l):this.getDocumentsMatchingCollectionQuery(e,n,o,l)}getNextDocuments(e,n,o,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,l).next(u=>{const c=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,l-u.size):dt.resolve(ga());let s=kl,f=u;return c.next(h=>dt.forEach(h,(m,j)=>(s<j.largestBatchId&&(s=j.largestBatchId),u.get(m)?dt.resolve():this.remoteDocumentCache.getEntry(e,m).next(b=>{f=f.insert(m,b)}))).next(()=>this.populateOverlays(e,h,u)).next(()=>this.computeViews(e,f,h,Cn())).next(m=>({batchId:s,changes:pS(m)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ht(n)).next(o=>{let l=Ol();return o.isFoundDocument()&&(l=l.insert(o.key,o)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,o,l){const u=n.collectionGroup;let c=Ol();return this.indexManager.getCollectionParents(e,u).next(s=>dt.forEach(s,f=>{const h=function(j,b){return new Ql(b,null,j.explicitOrderBy.slice(),j.filters.slice(),j.limit,j.limitType,j.startAt,j.endAt)}(n,f.child(u));return this.getDocumentsMatchingCollectionQuery(e,h,o,l).next(m=>{m.forEach((j,b)=>{c=c.insert(j,b)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,n,o,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId).next(c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,o,u,l))).next(c=>{u.forEach((f,h)=>{const m=h.getKey();c.get(m)===null&&(c=c.insert(m,$i.newInvalidDocument(m)))});let s=Ol();return c.forEach((f,h)=>{const m=u.get(f);m!==void 0&&Rl(m.mutation,h,Hi.empty(),oi.now()),th(n,h)&&(s=s.insert(f,h))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return dt.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:Ro(l.createTime)}}(n)),dt.resolve()}getNamedQuery(e,n){return dt.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:$$(l.bundledQuery),readTime:Ro(l.readTime)}}(n)),dt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L${constructor(){this.overlays=new Pr(Ht.comparator),this.Rr=new Map}getOverlay(e,n){return dt.resolve(this.overlays.get(n))}getOverlays(e,n){const o=ga();return dt.forEach(n,l=>this.getOverlay(e,l).next(u=>{u!==null&&o.set(l,u)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((l,u)=>{this.Et(e,n,u)}),dt.resolve()}removeOverlaysForBatchId(e,n,o){const l=this.Rr.get(o);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(o)),dt.resolve()}getOverlaysForCollection(e,n,o){const l=ga(),u=n.length+1,c=new Ht(n.child("")),s=this.overlays.getIteratorFrom(c);for(;s.hasNext();){const f=s.getNext().value,h=f.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===u&&f.largestBatchId>o&&l.set(f.getKey(),f)}return dt.resolve(l)}getOverlaysForCollectionGroup(e,n,o,l){let u=new Pr((h,m)=>h-m);const c=this.overlays.getIterator();for(;c.hasNext();){const h=c.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>o){let m=u.get(h.largestBatchId);m===null&&(m=ga(),u=u.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const s=ga(),f=u.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((h,m)=>s.set(h,m)),!(s.size()>=l)););return dt.resolve(s)}Et(e,n,o){const l=this.overlays.get(o.key);if(l!==null){const c=this.Rr.get(l.largestBatchId).delete(o.key);this.Rr.set(l.largestBatchId,c)}this.overlays=this.overlays.insert(o.key,new o$(n,o));let u=this.Rr.get(n);u===void 0&&(u=Cn(),this.Rr.set(n,u)),this.Rr.set(n,u.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(){this.sessionToken=wi.EMPTY_BYTE_STRING}getSessionToken(e){return dt.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,dt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zy{constructor(){this.Vr=new si(fi.mr),this.gr=new si(fi.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const o=new fi(e,n);this.Vr=this.Vr.add(o),this.gr=this.gr.add(o)}yr(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.wr(new fi(e,n))}br(e,n){e.forEach(o=>this.removeReference(o,n))}Sr(e){const n=new Ht(new Er([])),o=new fi(n,e),l=new fi(n,e+1),u=[];return this.gr.forEachInRange([o,l],c=>{this.wr(c),u.push(c.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ht(new Er([])),o=new fi(n,e),l=new fi(n,e+1);let u=Cn();return this.gr.forEachInRange([o,l],c=>{u=u.add(c.key)}),u}containsKey(e){const n=new fi(e,0),o=this.Vr.firstAfterOrEqual(n);return o!==null&&e.isEqual(o.key)}}class fi{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ht.comparator(e.key,n.key)||Vn(e.Cr,n.Cr)}static pr(e,n){return Vn(e.Cr,n.Cr)||Ht.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new si(fi.mr)}checkEmpty(e){return dt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,o,l){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new i$(u,n,o,l);this.mutationQueue.push(c);for(const s of l)this.Mr=this.Mr.add(new fi(s.key,u)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return dt.resolve(c)}lookupMutationBatch(e,n){return dt.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const o=n+1,l=this.Nr(o),u=l<0?0:l;return dt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return dt.resolve(this.mutationQueue.length===0?Ny:this.Fr-1)}getAllMutationBatches(e){return dt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new fi(n,0),l=new fi(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([o,l],c=>{const s=this.Or(c.Cr);u.push(s)}),dt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new si(Vn);return n.forEach(l=>{const u=new fi(l,0),c=new fi(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,c],s=>{o=o.add(s.Cr)})}),dt.resolve(this.Br(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,l=o.length+1;let u=o;Ht.isDocumentKey(u)||(u=u.child(""));const c=new fi(new Ht(u),0);let s=new si(Vn);return this.Mr.forEachWhile(f=>{const h=f.key.path;return!!o.isPrefixOf(h)&&(h.length===l&&(s=s.add(f.Cr)),!0)},c),dt.resolve(this.Br(s))}Br(e){const n=[];return e.forEach(o=>{const l=this.Or(o);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){tr(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let o=this.Mr;return dt.forEach(n.mutations,l=>{const u=new fi(l.key,n.batchId);return o=o.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Mr=o})}qn(e){}containsKey(e,n){const o=new fi(n,0),l=this.Mr.firstAfterOrEqual(o);return dt.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,dt.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(e){this.kr=e,this.docs=function(){return new Pr(Ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,l=this.docs.get(o),u=l?l.size:0,c=this.kr(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return dt.resolve(o?o.document.mutableCopy():$i.newInvalidDocument(n))}getEntries(e,n){let o=us();return n.forEach(l=>{const u=this.docs.get(l);o=o.insert(l,u?u.document.mutableCopy():$i.newInvalidDocument(l))}),dt.resolve(o)}getDocumentsMatchingQuery(e,n,o,l){let u=us();const c=n.path,s=new Ht(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(s);for(;f.hasNext();){const{key:h,value:{document:m}}=f.getNext();if(!c.isPrefixOf(h.path))break;h.path.length>c.length+1||b2(v2(m),o)<=0||(l.has(m.key)||th(n,m))&&(u=u.insert(m.key,m.mutableCopy()))}return dt.resolve(u)}getAllFromCollectionGroup(e,n,o,l){en()}qr(e,n){return dt.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new H$(this)}getSize(e){return dt.resolve(this.size)}}class H$ extends k${constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((o,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(e,l)):this.Ir.removeEntry(o)}),dt.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e){this.persistence=e,this.Qr=new Ea(n=>My(n),ky),this.lastRemoteSnapshotVersion=an.min(),this.highestTargetId=0,this.$r=0,this.Kr=new zy,this.targetCount=0,this.Ur=yu.Kn()}forEachTarget(e,n){return this.Qr.forEach((o,l)=>n(l)),dt.resolve()}getLastRemoteSnapshotVersion(e){return dt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return dt.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),dt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.$r&&(this.$r=n),dt.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new yu(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,dt.resolve()}updateTargetData(e,n){return this.zn(n),dt.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,dt.resolve()}removeTargets(e,n,o){let l=0;const u=[];return this.Qr.forEach((c,s)=>{s.sequenceNumber<=n&&o.get(s.targetId)===null&&(this.Qr.delete(c),u.push(this.removeMatchingKeysForTargetId(e,s.targetId)),l++)}),dt.waitFor(u).next(()=>l)}getTargetCount(e){return dt.resolve(this.targetCount)}getTargetData(e,n){const o=this.Qr.get(n)||null;return dt.resolve(o)}addMatchingKeys(e,n,o){return this.Kr.yr(n,o),dt.resolve()}removeMatchingKeys(e,n,o){this.Kr.br(n,o);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(c=>{u.push(l.markPotentiallyOrphaned(e,c))}),dt.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),dt.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Kr.vr(n);return dt.resolve(o)}containsKey(e,n){return dt.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Xf(0),this.zr=!1,this.zr=!0,this.jr=new F$,this.referenceDelegate=e(this),this.Hr=new G$(this),this.indexManager=new R$,this.remoteDocumentCache=function(l){return new z$(l)}(o=>this.referenceDelegate.Jr(o)),this.serializer=new x$(n),this.Yr=new U$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new L$,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Wr[e.toKey()];return o||(o=new q$(n,this.referenceDelegate),this.Wr[e.toKey()]=o),o}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,o){Nt("MemoryPersistence","Starting transaction:",e);const l=new K$(this.Gr.next());return this.referenceDelegate.Zr(),o(l).next(u=>this.referenceDelegate.Xr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}ei(e,n){return dt.or(Object.values(this.Wr).map(o=>()=>o.containsKey(e,n)))}}class K$ extends w2{constructor(e){super(),this.currentSequenceNumber=e}}class Hy{constructor(e){this.persistence=e,this.ti=new zy,this.ni=null}static ri(e){return new Hy(e)}get ii(){if(this.ni)return this.ni;throw en()}addReference(e,n,o){return this.ti.addReference(o,n),this.ii.delete(o.toString()),dt.resolve()}removeReference(e,n,o){return this.ti.removeReference(o,n),this.ii.add(o.toString()),dt.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),dt.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(l=>this.ii.add(l.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(u=>this.ii.add(u.toString()))}).next(()=>o.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return dt.forEach(this.ii,o=>{const l=Ht.fromPath(o);return this.si(e,l).next(u=>{u||n.removeEntry(l,an.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(o=>{o?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return dt.or([()=>dt.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Nf{constructor(e,n){this.persistence=e,this.oi=new Ea(o=>O2(o.path),(o,l)=>o.isEqual(l)),this.garbageCollector=M$(this,n)}static ri(e,n){return new Nf(e,n)}Zr(){}Xr(e){return dt.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>n.next(l=>o+l))}sr(e){let n=0;return this.rr(e,o=>{n++}).next(()=>n)}rr(e,n){return dt.forEach(this.oi,(o,l)=>this.ar(e,o,l).next(u=>u?dt.resolve():n(l)))}removeTargets(e,n,o){return this.persistence.getTargetCache().removeTargets(e,n,o)}removeOrphanedDocuments(e,n){let o=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.qr(e,c=>this.ar(e,c,n).next(s=>{s||(o++,u.removeEntry(c,an.min()))})).next(()=>u.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),dt.resolve()}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,n,o){return this.oi.set(o,e.currentSequenceNumber),dt.resolve()}removeReference(e,n,o){return this.oi.set(o,e.currentSequenceNumber),dt.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),dt.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=cf(e.data.value)),n}ar(e,n,o){return dt.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.oi.get(n);return dt.resolve(l!==void 0&&l>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n,o,l){this.targetId=e,this.fromCache=n,this.Hi=o,this.Ji=l}static Yi(e,n){let o=Cn(),l=Cn();for(const u of n.docChanges)switch(u.type){case 0:o=o.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Gy(e,n.fromCache,o,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y${constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return qj()?8:S2(Lj())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,o,l){const u={result:null};return this.rs(e,n).next(c=>{u.result=c}).next(()=>{if(!u.result)return this.ss(e,n,l,o).next(c=>{u.result=c})}).next(()=>{if(u.result)return;const c=new Q$;return this._s(e,n,c).next(s=>{if(u.result=s,this.Xi)return this.us(e,n,c,s.size)})}).next(()=>u.result)}us(e,n,o,l){return o.documentReadCount<this.es?(nu()<=zn.DEBUG&&Nt("QueryEngine","SDK will not create cache indexes for query:",ru(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),dt.resolve()):(nu()<=zn.DEBUG&&Nt("QueryEngine","Query:",ru(n),"scans",o.documentReadCount,"local documents and returns",l,"documents as results."),o.documentReadCount>this.ts*l?(nu()<=zn.DEBUG&&Nt("QueryEngine","The SDK decides to create cache indexes for query:",ru(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$o(n))):dt.resolve())}rs(e,n){if($_(n))return dt.resolve(null);let o=$o(n);return this.indexManager.getIndexType(e,o).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Zd(n,null,"F"),o=$o(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(u=>{const c=Cn(...u);return this.ns.getDocuments(e,c).next(s=>this.indexManager.getMinOffset(e,o).next(f=>{const h=this.cs(n,s);return this.ls(n,h,c,f.readTime)?this.rs(e,Zd(n,null,"F")):this.hs(e,h,n,f)}))})))}ss(e,n,o,l){return $_(n)||l.isEqual(an.min())?dt.resolve(null):this.ns.getDocuments(e,o).next(u=>{const c=this.cs(n,u);return this.ls(n,c,o,l)?dt.resolve(null):(nu()<=zn.DEBUG&&Nt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ru(n)),this.hs(e,c,n,g2(l,kl)).next(s=>s))})}cs(e,n){let o=new si(fS(e));return n.forEach((l,u)=>{th(e,u)&&(o=o.add(u))}),o}ls(e,n,o,l){if(e.limit===null)return!1;if(o.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}_s(e,n,o){return nu()<=zn.DEBUG&&Nt("QueryEngine","Using full collection scan to execute query:",ru(n)),this.ns.getDocumentsMatchingQuery(e,n,Us.min(),o)}hs(e,n,o,l){return this.ns.getDocumentsMatchingQuery(e,o,l).next(u=>(n.forEach(c=>{u=u.insert(c.key,c)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="LocalStore",W$=3e8;class X${constructor(e,n,o,l){this.persistence=e,this.Ps=n,this.serializer=l,this.Ts=new Pr(Vn),this.Is=new Ea(u=>My(u),ky),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(o)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B$(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function J$(r,e,n,o){return new X$(r,e,n,o)}async function CS(r,e){const n=hn(r);return await n.persistence.runTransaction("Handle user change","readonly",o=>{let l;return n.mutationQueue.getAllMutationBatches(o).next(u=>(l=u,n.As(e),n.mutationQueue.getAllMutationBatches(o))).next(u=>{const c=[],s=[];let f=Cn();for(const h of l){c.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}for(const h of u){s.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}return n.localDocuments.getDocuments(o,f).next(h=>({Rs:h,removedBatchIds:c,addedBatchIds:s}))})})}function Z$(r,e){const n=hn(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const l=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(s,f,h,m){const j=h.batch,b=j.keys();let R=dt.resolve();return b.forEach(d=>{R=R.next(()=>m.getEntry(f,d)).next(_=>{const $=h.docVersions.get(d);tr($!==null),_.version.compareTo($)<0&&(j.applyToRemoteDocument(_,h),_.isValidDocument()&&(_.setReadTime(h.commitVersion),m.addEntry(_)))})}),R.next(()=>s.mutationQueue.removeMutationBatch(f,j))}(n,o,e,u).next(()=>u.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(s){let f=Cn();for(let h=0;h<s.mutationResults.length;++h)s.mutationResults[h].transformResults.length>0&&(f=f.add(s.batch.mutations[h].key));return f}(e))).next(()=>n.localDocuments.getDocuments(o,l))})}function IS(r){const e=hn(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function eR(r,e){const n=hn(r),o=e.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const s=[];e.targetChanges.forEach((m,j)=>{const b=l.get(j);if(!b)return;s.push(n.Hr.removeMatchingKeys(u,m.removedDocuments,j).next(()=>n.Hr.addMatchingKeys(u,m.addedDocuments,j)));let R=b.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(j)!==null?R=R.withResumeToken(wi.EMPTY_BYTE_STRING,an.min()).withLastLimboFreeSnapshotVersion(an.min()):m.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(m.resumeToken,o)),l=l.insert(j,R),function(_,$,g){return _.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=W$?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(b,R,m)&&s.push(n.Hr.updateTargetData(u,R))});let f=us(),h=Cn();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(u,m))}),s.push(tR(u,c,e.documentUpdates).next(m=>{f=m.Vs,h=m.fs})),!o.isEqual(an.min())){const m=n.Hr.getLastRemoteSnapshotVersion(u).next(j=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,o));s.push(m)}return dt.waitFor(s).next(()=>c.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,f,h)).next(()=>f)}).then(u=>(n.Ts=l,u))}function tR(r,e,n){let o=Cn(),l=Cn();return n.forEach(u=>o=o.add(u)),e.getEntries(r,o).next(u=>{let c=us();return n.forEach((s,f)=>{const h=u.get(s);f.isFoundDocument()!==h.isFoundDocument()&&(l=l.add(s)),f.isNoDocument()&&f.version.isEqual(an.min())?(e.removeEntry(s,f.readTime),c=c.insert(s,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),c=c.insert(s,f)):Nt(Ky,"Ignoring outdated watch update for ",s,". Current version:",h.version," Watch version:",f.version)}),{Vs:c,fs:l}})}function nR(r,e){const n=hn(r);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(e===void 0&&(e=Ny),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function rR(r,e){const n=hn(r);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let l;return n.Hr.getTargetData(o,e).next(u=>u?(l=u,dt.resolve(l)):n.Hr.allocateTargetId(o).next(c=>(l=new Cs(e,c,"TargetPurposeListen",o.currentSequenceNumber),n.Hr.addTargetData(o,l).next(()=>l))))}).then(o=>{const l=n.Ts.get(o.targetId);return(l===null||o.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(o.targetId,o),n.Is.set(e,o.targetId)),o})}async function iy(r,e,n){const o=hn(r),l=o.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await o.persistence.runTransaction("Release target",u,c=>o.persistence.referenceDelegate.removeTarget(c,l))}catch(c){if(!Tu(c))throw c;Nt(Ky,`Failed to update sequence numbers for target ${e}: ${c}`)}o.Ts=o.Ts.remove(e),o.Is.delete(l.target)}function F_(r,e,n){const o=hn(r);let l=an.min(),u=Cn();return o.persistence.runTransaction("Execute query","readwrite",c=>function(f,h,m){const j=hn(f),b=j.Is.get(m);return b!==void 0?dt.resolve(j.Ts.get(b)):j.Hr.getTargetData(h,m)}(o,c,$o(e)).next(s=>{if(s)return l=s.lastLimboFreeSnapshotVersion,o.Hr.getMatchingKeysForTargetId(c,s.targetId).next(f=>{u=f})}).next(()=>o.Ps.getDocumentsMatchingQuery(c,e,n?l:an.min(),n?u:Cn())).next(s=>(iR(o,q2(e),s),{documents:s,gs:u})))}function iR(r,e,n){let o=r.Es.get(e)||an.min();n.forEach((l,u)=>{u.readTime.compareTo(o)>0&&(o=u.readTime)}),r.Es.set(e,o)}class q_{constructor(){this.activeTargetIds=Y2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class oR{constructor(){this.ho=new q_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,o){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new q_,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="ConnectivityMonitor";class H_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Nt(z_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Nt(z_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let of=null;function oy(){return of===null?of=function(){return 268435456+Math.round(2147483648*Math.random())}():of++,"0x"+of.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d="RestConnection",aR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class uR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${o}/databases/${l}`,this.wo=this.databaseId.database===Tf?`project_id=${o}`:`project_id=${o}&database_id=${l}`}bo(e,n,o,l,u){const c=oy(),s=this.So(e,n.toUriEncodedString());Nt($d,`Sending RPC '${e}' ${c}:`,s,o);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,l,u),this.vo(e,s,f,o).then(h=>(Nt($d,`Received RPC '${e}' ${c}: `,h),h),h=>{throw fu($d,`RPC '${e}' ${c} failed with error: `,h,"url: ",s,"request:",o),h})}Co(e,n,o,l,u,c){return this.bo(e,n,o,l,u)}Do(e,n,o){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ou}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,u)=>e[u]=l),o&&o.headers.forEach((l,u)=>e[u]=l)}So(e,n){const o=aR[e];return`${this.po}/v1/${n}:${o}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji="WebChannelConnection";class cR extends uR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,o,l){const u=oy();return new Promise((c,s)=>{const f=new Uw;f.setWithCredentials(!0),f.listenOnce(Lw.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case lf.NO_ERROR:const m=f.getResponseJson();Nt(ji,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(m)),c(m);break;case lf.TIMEOUT:Nt(ji,`RPC '${e}' ${u} timed out`),s(new Ct(yt.DEADLINE_EXCEEDED,"Request time out"));break;case lf.HTTP_ERROR:const j=f.getStatus();if(Nt(ji,`RPC '${e}' ${u} failed with status:`,j,"response text:",f.getResponseText()),j>0){let b=f.getResponseJson();Array.isArray(b)&&(b=b[0]);const R=b==null?void 0:b.error;if(R&&R.status&&R.message){const d=function($){const g=$.toLowerCase().replace(/_/g,"-");return Object.values(yt).indexOf(g)>=0?g:yt.UNKNOWN}(R.status);s(new Ct(d,R.message))}else s(new Ct(yt.UNKNOWN,"Server responded with status "+f.getStatus()))}else s(new Ct(yt.UNAVAILABLE,"Connection failed."));break;default:en()}}finally{Nt(ji,`RPC '${e}' ${u} completed.`)}});const h=JSON.stringify(l);Nt(ji,`RPC '${e}' ${u} sending request:`,l),f.send(n,"POST",h,o,15)})}Wo(e,n,o){const l=oy(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=zw(),s=qw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,n,o),f.encodeInitMessageHeaders=!0;const m=u.join("");Nt(ji,`Creating RPC '${e}' stream ${l}: ${m}`,f);const j=c.createWebChannel(m,f);let b=!1,R=!1;const d=new lR({Fo:$=>{R?Nt(ji,`Not sending because RPC '${e}' stream ${l} is closed:`,$):(b||(Nt(ji,`Opening RPC '${e}' stream ${l} transport.`),j.open(),b=!0),Nt(ji,`RPC '${e}' stream ${l} sending:`,$),j.send($))},Mo:()=>j.close()}),_=($,g,S)=>{$.listen(g,x=>{try{S(x)}catch(A){setTimeout(()=>{throw A},0)}})};return _(j,El.EventType.OPEN,()=>{R||(Nt(ji,`RPC '${e}' stream ${l} transport opened.`),d.Qo())}),_(j,El.EventType.CLOSE,()=>{R||(R=!0,Nt(ji,`RPC '${e}' stream ${l} transport closed`),d.Ko())}),_(j,El.EventType.ERROR,$=>{R||(R=!0,fu(ji,`RPC '${e}' stream ${l} transport errored:`,$),d.Ko(new Ct(yt.UNAVAILABLE,"The operation could not be completed")))}),_(j,El.EventType.MESSAGE,$=>{var g;if(!R){const S=$.data[0];tr(!!S);const x=S,A=(x==null?void 0:x.error)||((g=x[0])===null||g===void 0?void 0:g.error);if(A){Nt(ji,`RPC '${e}' stream ${l} received error:`,A);const T=A.status;let C=function(E){const N=Qr[E];if(N!==void 0)return SS(N)}(T),w=A.message;C===void 0&&(C=yt.INTERNAL,w="Unknown error status: "+T+" with message "+A.message),R=!0,d.Ko(new Ct(C,w)),j.close()}else Nt(ji,`RPC '${e}' stream ${l} received:`,S),d.Uo(S)}}),_(s,Fw.STAT_EVENT,$=>{$.stat===Kd.PROXY?Nt(ji,`RPC '${e}' stream ${l} detected buffering proxy`):$.stat===Kd.NOPROXY&&Nt(ji,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{d.$o()},0),d}}function Rd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(r){return new d$(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,n,o=1e3,l=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=o,this.zo=l,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),o=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-o);l>0&&Nt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="PersistentStream";class kS{constructor(e,n,o,l,u,c,s,f){this.Ti=e,this.n_=o,this.r_=l,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=s,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new MS(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===yt.RESOURCE_EXHAUSTED?(as(n.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===yt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,l])=>{this.i_===n&&this.V_(o,l)},o=>{e(()=>{const l=new Ct(yt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.m_(l)})})}V_(e,n){const o=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{o(()=>this.listener.xo())}),this.stream.No(()=>{o(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{o(()=>this.m_(l))}),this.stream.onMessage(l=>{o(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Nt(G_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Nt(G_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fR extends kS{constructor(e,n,o,l,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,l,c),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=g$(this.serializer,e),o=function(u){if(!("targetChange"in u))return an.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?an.min():c.readTime?Ro(c.readTime):an.min()}(e);return this.listener.p_(n,o)}y_(e){const n={};n.database=ry(this.serializer),n.addTarget=function(u,c){let s;const f=c.target;if(s=Xd(f)?{documents:_$(u,f)}:{query:w$(u,f).ht},s.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){s.resumeToken=AS(u,c.resumeToken);const h=ey(u,c.expectedCount);h!==null&&(s.expectedCount=h)}else if(c.snapshotVersion.compareTo(an.min())>0){s.readTime=Df(u,c.snapshotVersion.toTimestamp());const h=ey(u,c.expectedCount);h!==null&&(s.expectedCount=h)}return s}(this.serializer,e);const o=E$(this.serializer,e);o&&(n.labels=o),this.I_(n)}w_(e){const n={};n.database=ry(this.serializer),n.removeTarget=e,this.I_(n)}}class hR extends kS{constructor(e,n,o,l,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,l,c),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return tr(!!e.streamToken),this.lastStreamToken=e.streamToken,tr(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){tr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=b$(e.writeResults,e.commitTime),o=Ro(e.commitTime);return this.listener.v_(o,n)}C_(){const e={};e.database=ry(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>v$(this.serializer,o))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{}class dR extends pR{constructor(e,n,o,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=o,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new Ct(yt.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.bo(e,ty(n,o),l,u,c)).catch(u=>{throw u.name==="FirebaseError"?(u.code===yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ct(yt.UNKNOWN,u.toString())})}Co(e,n,o,l,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,s])=>this.connection.Co(e,ty(n,o),l,c,s,u)).catch(c=>{throw c.name==="FirebaseError"?(c.code===yt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ct(yt.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class yR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(as(n),this.N_=!1):Nt("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wa="RemoteStore";class mR{constructor(e,n,o,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(c=>{o.enqueueAndForget(async()=>{Oa(this)&&(Nt(wa,"Restarting streams for network reachability change."),await async function(f){const h=hn(f);h.W_.add(4),await Xl(h),h.j_.set("Unknown"),h.W_.delete(4),await sh(h)}(this))})}),this.j_=new yR(o,l)}}async function sh(r){if(Oa(r))for(const e of r.G_)await e(!0)}async function Xl(r){for(const e of r.G_)await e(!1)}function VS(r,e){const n=hn(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Xy(n)?Wy(n):ju(n).c_()&&Yy(n,e))}function Qy(r,e){const n=hn(r),o=ju(n);n.U_.delete(e),o.c_()&&BS(n,e),n.U_.size===0&&(o.c_()?o.P_():Oa(n)&&n.j_.set("Unknown"))}function Yy(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(an.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ju(r).y_(e)}function BS(r,e){r.H_.Ne(e),ju(r).w_(e)}function Wy(r){r.H_=new c$({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),ju(r).start(),r.j_.B_()}function Xy(r){return Oa(r)&&!ju(r).u_()&&r.U_.size>0}function Oa(r){return hn(r).W_.size===0}function US(r){r.H_=void 0}async function gR(r){r.j_.set("Online")}async function vR(r){r.U_.forEach((e,n)=>{Yy(r,e)})}async function bR(r,e){US(r),Xy(r)?(r.j_.q_(e),Wy(r)):r.j_.set("Unknown")}async function _R(r,e,n){if(r.j_.set("Online"),e instanceof OS&&e.state===2&&e.cause)try{await async function(l,u){const c=u.cause;for(const s of u.targetIds)l.U_.has(s)&&(await l.remoteSyncer.rejectListen(s,c),l.U_.delete(s),l.H_.removeTarget(s))}(r,e)}catch(o){Nt(wa,"Failed to remove targets %s: %s ",e.targetIds.join(","),o),await Cf(r,o)}else if(e instanceof pf?r.H_.We(e):e instanceof ES?r.H_.Ze(e):r.H_.je(e),!n.isEqual(an.min()))try{const o=await IS(r.localStore);n.compareTo(o)>=0&&await function(u,c){const s=u.H_.ot(c);return s.targetChanges.forEach((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const m=u.U_.get(h);m&&u.U_.set(h,m.withResumeToken(f.resumeToken,c))}}),s.targetMismatches.forEach((f,h)=>{const m=u.U_.get(f);if(!m)return;u.U_.set(f,m.withResumeToken(wi.EMPTY_BYTE_STRING,m.snapshotVersion)),BS(u,f);const j=new Cs(m.target,f,h,m.sequenceNumber);Yy(u,j)}),u.remoteSyncer.applyRemoteEvent(s)}(r,n)}catch(o){Nt(wa,"Failed to raise snapshot:",o),await Cf(r,o)}}async function Cf(r,e,n){if(!Tu(e))throw e;r.W_.add(1),await Xl(r),r.j_.set("Offline"),n||(n=()=>IS(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Nt(wa,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await sh(r)})}function LS(r,e){return e().catch(n=>Cf(r,n,e))}async function ah(r){const e=hn(r),n=zs(e);let o=e.K_.length>0?e.K_[e.K_.length-1].batchId:Ny;for(;wR(e);)try{const l=await nR(e.localStore,o);if(l===null){e.K_.length===0&&n.P_();break}o=l.batchId,SR(e,l)}catch(l){await Cf(e,l)}FS(e)&&qS(e)}function wR(r){return Oa(r)&&r.K_.length<10}function SR(r,e){r.K_.push(e);const n=zs(r);n.c_()&&n.b_&&n.S_(e.mutations)}function FS(r){return Oa(r)&&!zs(r).u_()&&r.K_.length>0}function qS(r){zs(r).start()}async function ER(r){zs(r).C_()}async function OR(r){const e=zs(r);for(const n of r.K_)e.S_(n.mutations)}async function AR(r,e,n){const o=r.K_.shift(),l=Ly.from(o,e,n);await LS(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await ah(r)}async function TR(r,e){e&&zs(r).b_&&await async function(o,l){if(function(c){return a$(c)&&c!==yt.ABORTED}(l.code)){const u=o.K_.shift();zs(o).h_(),await LS(o,()=>o.remoteSyncer.rejectFailedWrite(u.batchId,l)),await ah(o)}}(r,e),FS(r)&&qS(r)}async function K_(r,e){const n=hn(r);n.asyncQueue.verifyOperationInProgress(),Nt(wa,"RemoteStore received new credentials");const o=Oa(n);n.W_.add(3),await Xl(n),o&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await sh(n)}async function jR(r,e){const n=hn(r);e?(n.W_.delete(2),await sh(n)):e||(n.W_.add(2),await Xl(n),n.j_.set("Unknown"))}function ju(r){return r.J_||(r.J_=function(n,o,l){const u=hn(n);return u.M_(),new fR(o,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{xo:gR.bind(null,r),No:vR.bind(null,r),Lo:bR.bind(null,r),p_:_R.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Xy(r)?Wy(r):r.j_.set("Unknown")):(await r.J_.stop(),US(r))})),r.J_}function zs(r){return r.Y_||(r.Y_=function(n,o,l){const u=hn(n);return u.M_(),new hR(o,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:ER.bind(null,r),Lo:TR.bind(null,r),D_:OR.bind(null,r),v_:AR.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await ah(r)):(await r.Y_.stop(),r.K_.length>0&&(Nt(wa,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n,o,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=l,this.removalCallback=u,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,o,l,u){const c=Date.now()+o,s=new Jy(e,n,c,l,u);return s.start(o),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(yt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zy(r,e){if(as("AsyncQueue",`${e}: ${r}`),Tu(r))return new Ct(yt.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{static emptySet(e){return new cu(e.comparator)}constructor(e){this.comparator=e?(n,o)=>e(n,o)||Ht.comparator(n.key,o.key):(n,o)=>Ht.comparator(n.key,o.key),this.keyedMap=Ol(),this.sortedSet=new Pr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=o.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const o=new cu;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(){this.Z_=new Pr(Ht.comparator)}track(e){const n=e.doc.key,o=this.Z_.get(n);o?e.type!==0&&o.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&o.type!==1?this.Z_=this.Z_.insert(n,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.Z_=this.Z_.remove(n):e.type===1&&o.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):en():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,o)=>{e.push(o)}),e}}class mu{constructor(e,n,o,l,u,c,s,f,h){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=l,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=s,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,n,o,l,u){const c=[];return n.forEach(s=>{c.push({type:0,doc:s})}),new mu(e,n,cu.emptySet(n),c,o,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==o[l].type||!n[l].doc.isEqual(o[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class $R{constructor(){this.queries=Y_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,o){const l=hn(n),u=l.queries;l.queries=Y_(),u.forEach((c,s)=>{for(const f of s.ta)f.onError(o)})})(this,new Ct(yt.ABORTED,"Firestore shutting down"))}}function Y_(){return new Ea(r=>cS(r),eh)}async function zS(r,e){const n=hn(r);let o=3;const l=e.query;let u=n.queries.get(l);u?!u.na()&&e.ra()&&(o=2):(u=new xR,o=e.ra()?0:1);try{switch(o){case 0:u.ea=await n.onListen(l,!0);break;case 1:u.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(c){const s=Zy(c,`Initialization of query '${ru(e.query)}' failed`);return void e.onError(s)}n.queries.set(l,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&em(n)}async function HS(r,e){const n=hn(r),o=e.query;let l=3;const u=n.queries.get(o);if(u){const c=u.ta.indexOf(e);c>=0&&(u.ta.splice(c,1),u.ta.length===0?l=e.ra()?0:1:!u.na()&&e.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(o),n.onUnlisten(o,!0);case 1:return n.queries.delete(o),n.onUnlisten(o,!1);case 2:return n.onLastRemoteStoreUnlisten(o);default:return}}function RR(r,e){const n=hn(r);let o=!1;for(const l of e){const u=l.query,c=n.queries.get(u);if(c){for(const s of c.ta)s.oa(l)&&(o=!0);c.ea=l}}o&&em(n)}function PR(r,e,n){const o=hn(r),l=o.queries.get(e);if(l)for(const u of l.ta)u.onError(n);o.queries.delete(e)}function em(r){r.ia.forEach(e=>{e.next()})}var sy,W_;(W_=sy||(sy={}))._a="default",W_.Cache="cache";class GS{constructor(e,n,o){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=o||{}}oa(e){if(!this.options.includeMetadataChanges){const o=[];for(const l of e.docChanges)l.type!==3&&o.push(l);e=new mu(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const o=n!=="Offline";return(!this.options.Ta||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=mu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==sy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.key=e}}class QS{constructor(e){this.key=e}}class DR{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Cn(),this.mutatedKeys=Cn(),this.ya=fS(e),this.wa=new cu(this.ya)}get ba(){return this.fa}Sa(e,n){const o=n?n.Da:new Q_,l=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,c=l,s=!1;const f=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,h=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((m,j)=>{const b=l.get(m),R=th(this.query,j)?j:null,d=!!b&&this.mutatedKeys.has(b.key),_=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let $=!1;b&&R?b.data.isEqual(R.data)?d!==_&&(o.track({type:3,doc:R}),$=!0):this.va(b,R)||(o.track({type:2,doc:R}),$=!0,(f&&this.ya(R,f)>0||h&&this.ya(R,h)<0)&&(s=!0)):!b&&R?(o.track({type:0,doc:R}),$=!0):b&&!R&&(o.track({type:1,doc:b}),$=!0,(f||h)&&(s=!0)),$&&(R?(c=c.add(R),u=_?u.add(m):u.delete(m)):(c=c.delete(m),u=u.delete(m)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const m=this.query.limitType==="F"?c.last():c.first();c=c.delete(m.key),u=u.delete(m.key),o.track({type:1,doc:m})}return{wa:c,Da:o,ls:s,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o,l){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((m,j)=>function(R,d){const _=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return en()}};return _(R)-_(d)}(m.type,j.type)||this.ya(m.doc,j.doc)),this.Ca(o),l=l!=null&&l;const s=n&&!l?this.Fa():[],f=this.pa.size===0&&this.current&&!l?1:0,h=f!==this.ga;return this.ga=f,c.length!==0||h?{snapshot:new mu(this.query,e.wa,u,c,e.mutatedKeys,f===0,h,!1,!!o&&o.resumeToken.approximateByteSize()>0),Ma:s}:{Ma:s}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Q_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Cn(),this.wa.forEach(o=>{this.xa(o.key)&&(this.pa=this.pa.add(o.key))});const n=[];return e.forEach(o=>{this.pa.has(o)||n.push(new QS(o))}),this.pa.forEach(o=>{e.has(o)||n.push(new KS(o))}),n}Oa(e){this.fa=e.gs,this.pa=Cn();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return mu.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const tm="SyncEngine";class NR{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class CR{constructor(e){this.key=e,this.Ba=!1}}class IR{constructor(e,n,o,l,u,c){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Ea(s=>cS(s),eh),this.qa=new Map,this.Qa=new Set,this.$a=new Pr(Ht.comparator),this.Ka=new Map,this.Ua=new zy,this.Wa={},this.Ga=new Map,this.za=yu.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function MR(r,e,n=!0){const o=eE(r);let l;const u=o.ka.get(e);return u?(o.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Na()):l=await YS(o,e,n,!0),l}async function kR(r,e){const n=eE(r);await YS(n,e,!0,!1)}async function YS(r,e,n,o){const l=await rR(r.localStore,$o(e)),u=l.targetId,c=r.sharedClientState.addLocalQueryTarget(u,n);let s;return o&&(s=await VR(r,e,u,c==="current",l.resumeToken)),r.isPrimaryClient&&n&&VS(r.remoteStore,l),s}async function VR(r,e,n,o,l){r.Ha=(j,b,R)=>async function(_,$,g,S){let x=$.view.Sa(g);x.ls&&(x=await F_(_.localStore,$.query,!1).then(({documents:w})=>$.view.Sa(w,x)));const A=S&&S.targetChanges.get($.targetId),T=S&&S.targetMismatches.get($.targetId)!=null,C=$.view.applyChanges(x,_.isPrimaryClient,A,T);return J_(_,$.targetId,C.Ma),C.snapshot}(r,j,b,R);const u=await F_(r.localStore,e,!0),c=new DR(e,u.gs),s=c.Sa(u.documents),f=Wl.createSynthesizedTargetChangeForCurrentChange(n,o&&r.onlineState!=="Offline",l),h=c.applyChanges(s,r.isPrimaryClient,f);J_(r,n,h.Ma);const m=new NR(e,n,c);return r.ka.set(e,m),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),h.snapshot}async function BR(r,e,n){const o=hn(r),l=o.ka.get(e),u=o.qa.get(l.targetId);if(u.length>1)return o.qa.set(l.targetId,u.filter(c=>!eh(c,e))),void o.ka.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(l.targetId),o.sharedClientState.isActiveQueryTarget(l.targetId)||await iy(o.localStore,l.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(l.targetId),n&&Qy(o.remoteStore,l.targetId),ay(o,l.targetId)}).catch(Au)):(ay(o,l.targetId),await iy(o.localStore,l.targetId,!0))}async function UR(r,e){const n=hn(r),o=n.ka.get(e),l=n.qa.get(o.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(o.targetId),Qy(n.remoteStore,o.targetId))}async function LR(r,e,n){const o=QR(r);try{const l=await function(c,s){const f=hn(c),h=oi.now(),m=s.reduce((R,d)=>R.add(d.key),Cn());let j,b;return f.persistence.runTransaction("Locally write mutations","readwrite",R=>{let d=us(),_=Cn();return f.ds.getEntries(R,m).next($=>{d=$,d.forEach((g,S)=>{S.isValidDocument()||(_=_.add(g))})}).next(()=>f.localDocuments.getOverlayedDocuments(R,d)).next($=>{j=$;const g=[];for(const S of s){const x=n$(S,j.get(S.key).overlayedDocument);x!=null&&g.push(new Ks(S.key,x,nS(x.value.mapValue),so.exists(!0)))}return f.mutationQueue.addMutationBatch(R,h,g,s)}).next($=>{b=$;const g=$.applyToLocalDocumentSet(j,_);return f.documentOverlayCache.saveOverlays(R,$.batchId,g)})}).then(()=>({batchId:b.batchId,changes:pS(j)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(l.batchId),function(c,s,f){let h=c.Wa[c.currentUser.toKey()];h||(h=new Pr(Vn)),h=h.insert(s,f),c.Wa[c.currentUser.toKey()]=h}(o,l.batchId,n),await Jl(o,l.changes),await ah(o.remoteStore)}catch(l){const u=Zy(l,"Failed to persist write");n.reject(u)}}async function WS(r,e){const n=hn(r);try{const o=await eR(n.localStore,e);e.targetChanges.forEach((l,u)=>{const c=n.Ka.get(u);c&&(tr(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?c.Ba=!0:l.modifiedDocuments.size>0?tr(c.Ba):l.removedDocuments.size>0&&(tr(c.Ba),c.Ba=!1))}),await Jl(n,o,e)}catch(o){await Au(o)}}function X_(r,e,n){const o=hn(r);if(o.isPrimaryClient&&n===0||!o.isPrimaryClient&&n===1){const l=[];o.ka.forEach((u,c)=>{const s=c.view.sa(e);s.snapshot&&l.push(s.snapshot)}),function(c,s){const f=hn(c);f.onlineState=s;let h=!1;f.queries.forEach((m,j)=>{for(const b of j.ta)b.sa(s)&&(h=!0)}),h&&em(f)}(o.eventManager,e),l.length&&o.La.p_(l),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function FR(r,e,n){const o=hn(r);o.sharedClientState.updateQueryState(e,"rejected",n);const l=o.Ka.get(e),u=l&&l.key;if(u){let c=new Pr(Ht.comparator);c=c.insert(u,$i.newNoDocument(u,an.min()));const s=Cn().add(u),f=new ih(an.min(),new Map,new Pr(Vn),c,s);await WS(o,f),o.$a=o.$a.remove(u),o.Ka.delete(e),nm(o)}else await iy(o.localStore,e,!1).then(()=>ay(o,e,n)).catch(Au)}async function qR(r,e){const n=hn(r),o=e.batch.batchId;try{const l=await Z$(n.localStore,e);JS(n,o,null),XS(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),await Jl(n,l)}catch(l){await Au(l)}}async function zR(r,e,n){const o=hn(r);try{const l=await function(c,s){const f=hn(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return f.mutationQueue.lookupMutationBatch(h,s).next(j=>(tr(j!==null),m=j.keys(),f.mutationQueue.removeMutationBatch(h,j))).next(()=>f.mutationQueue.performConsistencyCheck(h)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(h,m,s)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>f.localDocuments.getDocuments(h,m))})}(o.localStore,e);JS(o,e,n),XS(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),await Jl(o,l)}catch(l){await Au(l)}}function XS(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function JS(r,e,n){const o=hn(r);let l=o.Wa[o.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),o.Wa[o.currentUser.toKey()]=l}}function ay(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const o of r.qa.get(e))r.ka.delete(o),n&&r.La.Ja(o,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(o=>{r.Ua.containsKey(o)||ZS(r,o)})}function ZS(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Qy(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),nm(r))}function J_(r,e,n){for(const o of n)o instanceof KS?(r.Ua.addReference(o.key,e),HR(r,o)):o instanceof QS?(Nt(tm,"Document no longer in limbo: "+o.key),r.Ua.removeReference(o.key,e),r.Ua.containsKey(o.key)||ZS(r,o.key)):en()}function HR(r,e){const n=e.key,o=n.path.canonicalString();r.$a.get(n)||r.Qa.has(o)||(Nt(tm,"New document in limbo: "+n),r.Qa.add(o),nm(r))}function nm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new Ht(Er.fromString(e)),o=r.za.next();r.Ka.set(o,new CR(n)),r.$a=r.$a.insert(n,o),VS(r.remoteStore,new Cs($o(Vy(n.path)),o,"TargetPurposeLimboResolution",Xf.ae))}}async function Jl(r,e,n){const o=hn(r),l=[],u=[],c=[];o.ka.isEmpty()||(o.ka.forEach((s,f)=>{c.push(o.Ha(f,e,n).then(h=>{var m;if((h||n)&&o.isPrimaryClient){const j=h?!h.fromCache:(m=n==null?void 0:n.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;o.sharedClientState.updateQueryState(f.targetId,j?"current":"not-current")}if(h){l.push(h);const j=Gy.Yi(f.targetId,h);u.push(j)}}))}),await Promise.all(c),o.La.p_(l),await async function(f,h){const m=hn(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",j=>dt.forEach(h,b=>dt.forEach(b.Hi,R=>m.persistence.referenceDelegate.addReference(j,b.targetId,R)).next(()=>dt.forEach(b.Ji,R=>m.persistence.referenceDelegate.removeReference(j,b.targetId,R)))))}catch(j){if(!Tu(j))throw j;Nt(Ky,"Failed to update sequence numbers: "+j)}for(const j of h){const b=j.targetId;if(!j.fromCache){const R=m.Ts.get(b),d=R.snapshotVersion,_=R.withLastLimboFreeSnapshotVersion(d);m.Ts=m.Ts.insert(b,_)}}}(o.localStore,u))}async function GR(r,e){const n=hn(r);if(!n.currentUser.isEqual(e)){Nt(tm,"User change. New user:",e.toKey());const o=await CS(n.localStore,e);n.currentUser=e,function(u,c){u.Ga.forEach(s=>{s.forEach(f=>{f.reject(new Ct(yt.CANCELLED,c))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await Jl(n,o.Rs)}}function KR(r,e){const n=hn(r),o=n.Ka.get(e);if(o&&o.Ba)return Cn().add(o.key);{let l=Cn();const u=n.qa.get(e);if(!u)return l;for(const c of u){const s=n.ka.get(c);l=l.unionWith(s.view.ba)}return l}}function eE(r){const e=hn(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=WS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FR.bind(null,e),e.La.p_=RR.bind(null,e.eventManager),e.La.Ja=PR.bind(null,e.eventManager),e}function QR(r){const e=hn(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zR.bind(null,e),e}class If{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=oh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return J$(this.persistence,new Y$,e.initialUser,this.serializer)}Xa(e){return new NS(Hy.ri,this.serializer)}Za(e){return new oR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}If.provider={build:()=>new If};class YR extends If{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){tr(this.persistence.referenceDelegate instanceof Nf);const o=this.persistence.referenceDelegate.garbageCollector;return new C$(o,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?ki.withCacheSize(this.cacheSizeBytes):ki.DEFAULT;return new NS(o=>Nf.ri(o,n),this.serializer)}}class uy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>X_(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=GR.bind(null,this.syncEngine),await jR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $R}()}createDatastore(e){const n=oh(e.databaseInfo.databaseId),o=function(u){return new cR(u)}(e.databaseInfo);return function(u,c,s,f){return new dR(u,c,s,f)}(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return function(o,l,u,c,s){return new mR(o,l,u,c,s)}(this.localStore,this.datastore,e.asyncQueue,n=>X_(this.syncEngine,n,0),function(){return H_.D()?new H_:new sR}())}createSyncEngine(e,n){return function(l,u,c,s,f,h,m){const j=new IR(l,u,c,s,f,h);return m&&(j.ja=!0),j}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(l){const u=hn(l);Nt(wa,"RemoteStore shutting down."),u.W_.add(5),await Xl(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}uy.provider={build:()=>new uy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="FirestoreClient";class WR{constructor(e,n,o,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=l,this.user=xi.UNAUTHENTICATED,this.clientId=Gw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(o,async c=>{Nt(Hs,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(o,c=>(Nt(Hs,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const o=Zy(n,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function Pd(r,e){r.asyncQueue.verifyOperationInProgress(),Nt(Hs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let o=n.initialUser;r.setCredentialChangeListener(async l=>{o.isEqual(l)||(await CS(e.localStore,l),o=l)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Z_(r,e){r.asyncQueue.verifyOperationInProgress();const n=await XR(r);Nt(Hs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(o=>K_(e.remoteStore,o)),r.setAppCheckTokenChangeListener((o,l)=>K_(e.remoteStore,l)),r._onlineComponents=e}async function XR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Nt(Hs,"Using user provided OfflineComponentProvider");try{await Pd(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(l){return l.name==="FirebaseError"?l.code===yt.FAILED_PRECONDITION||l.code===yt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;fu("Error using user provided cache. Falling back to memory cache: "+n),await Pd(r,new If)}}else Nt(Hs,"Using default OfflineComponentProvider"),await Pd(r,new YR(void 0));return r._offlineComponents}async function nE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Nt(Hs,"Using user provided OnlineComponentProvider"),await Z_(r,r._uninitializedComponentsProvider._online)):(Nt(Hs,"Using default OnlineComponentProvider"),await Z_(r,new uy))),r._onlineComponents}function JR(r){return nE(r).then(e=>e.syncEngine)}async function rE(r){const e=await nE(r),n=e.eventManager;return n.onListen=MR.bind(null,e.syncEngine),n.onUnlisten=BR.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=kR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=UR.bind(null,e.syncEngine),n}function ZR(r,e,n={}){const o=new is;return r.asyncQueue.enqueueAndForget(async()=>function(u,c,s,f,h){const m=new tE({next:b=>{m.su(),c.enqueueAndForget(()=>HS(u,j));const R=b.docs.has(s);!R&&b.fromCache?h.reject(new Ct(yt.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&b.fromCache&&f&&f.source==="server"?h.reject(new Ct(yt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(b)},error:b=>h.reject(b)}),j=new GS(Vy(s.path),m,{includeMetadataChanges:!0,Ta:!0});return zS(u,j)}(await rE(r),r.asyncQueue,e,n,o)),o.promise}function eP(r,e,n={}){const o=new is;return r.asyncQueue.enqueueAndForget(async()=>function(u,c,s,f,h){const m=new tE({next:b=>{m.su(),c.enqueueAndForget(()=>HS(u,j)),b.fromCache&&f.source==="server"?h.reject(new Ct(yt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(b)},error:b=>h.reject(b)}),j=new GS(s,m,{includeMetadataChanges:!0,Ta:!0});return zS(u,j)}(await rE(r),r.asyncQueue,e,n,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(r,e,n){if(!n)throw new Ct(yt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function tP(r,e,n,o){if(e===!0&&o===!0)throw new Ct(yt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function t0(r){if(!Ht.isDocumentKey(r))throw new Ct(yt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function n0(r){if(Ht.isDocumentKey(r))throw new Ct(yt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function uh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":en()}function mo(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ct(yt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=uh(r);throw new Ct(yt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="firestore.googleapis.com",r0=!0;class i0{constructor(e){var n,o;if(e.host===void 0){if(e.ssl!==void 0)throw new Ct(yt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sE,this.ssl=r0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:r0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<D$)throw new Ct(yt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iE((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new Ct(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new Ct(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new Ct(yt.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,l){return o.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lh{constructor(e,n,o,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(yt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ct(yt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new l2;switch(o.type){case"firstParty":return new p2(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Ct(yt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const o=e0.get(n);o&&(Nt("ComponentProvider","Removing Datastore"),e0.delete(n),o.terminate())}(this),Promise.resolve()}}function nP(r,e,n,o={}){var l;const u=(r=mo(r,lh))._getSettings(),c=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),s=`${e}:${n}`;u.host!==sE&&u.host!==s&&fu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},u),{host:s,ssl:!1,emulatorOptions:o});if(!Sf(f,c)&&(r._setSettings(f),o.mockUserToken)){let h,m;if(typeof o.mockUserToken=="string")h=o.mockUserToken,m=xi.MOCK_USER;else{h=Uj(o.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const j=o.mockUserToken.sub||o.mockUserToken.user_id;if(!j)throw new Ct(yt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new xi(j)}r._authCredentials=new c2(new Hw(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new xu(this.firestore,e,this._query)}}class Ni{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ni(this.firestore,e,this._key)}}class Vs extends xu{constructor(e,n,o){super(e,n,Vy(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ni(this.firestore,null,new Ht(e))}withConverter(e){return new Vs(this.firestore,e,this._path)}}function va(r,e,...n){if(r=os(r),oE("collection","path",e),r instanceof lh){const o=Er.fromString(e,...n);return n0(o),new Vs(r,null,o)}{if(!(r instanceof Ni||r instanceof Vs))throw new Ct(yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Er.fromString(e,...n));return n0(o),new Vs(r.firestore,null,o)}}function vi(r,e,...n){if(r=os(r),arguments.length===1&&(e=Gw.newId()),oE("doc","path",e),r instanceof lh){const o=Er.fromString(e,...n);return t0(o),new Ni(r,null,new Ht(o))}{if(!(r instanceof Ni||r instanceof Vs))throw new Ct(yt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=r._path.child(Er.fromString(e,...n));return t0(o),new Ni(r.firestore,r instanceof Vs?r.converter:null,new Ht(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0="AsyncQueue";class s0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new MS(this,"async_queue_retry"),this.bu=()=>{const o=Rd();o&&Nt(o0,"Visibility state changed to "+o.visibilityState),this.a_.t_()},this.Su=e;const n=Rd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Rd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new is;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Tu(e))throw e;Nt(o0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(o=>{this.gu=o,this.pu=!1;const l=function(c){let s=c.message||"";return c.stack&&(s=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),s}(o);throw as("INTERNAL UNHANDLED ERROR: ",l),o}).then(o=>(this.pu=!1,o))));return this.Su=n,n}enqueueAfterDelay(e,n,o){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const l=Jy.createAndSchedule(this,e,n,o,u=>this.Fu(u));return this.fu.push(l),l}Du(){this.gu&&en()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Aa extends lh{constructor(e,n,o,l){super(e,n,o,l),this.type="firestore",this._queue=new s0,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new s0(e),this._firestoreClient=void 0,await e}}}function rP(r,e){const n=typeof r=="object"?r:Wx(),o=typeof r=="string"?r:Tf,l=Hx(n,"firestore").getImmediate({identifier:o});if(!l._initialized){const u=Vj("firestore");u&&nP(l,...u)}return l}function rm(r){if(r._terminated)throw new Ct(yt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||iP(r),r._firestoreClient}function iP(r){var e,n,o;const l=r._freezeSettings(),u=function(s,f,h,m){return new j2(s,f,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,iE(m.experimentalLongPollingOptions),m.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((o=l.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new WR(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(s){const f=s==null?void 0:s._online.build();return{_offline:s==null?void 0:s._offline.build(f),_online:f}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gu(wi.fromBase64String(e))}catch(n){throw new Ct(yt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gu(wi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ct(yt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _i(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ct(yt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ct(yt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Vn(this._lat,e._lat)||Vn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,l){if(o.length!==l.length)return!1;for(let u=0;u<o.length;++u)if(o[u]!==l[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=/^__.*__$/;class sP{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms):new Yl(e,this.data,n,this.fieldTransforms)}}class aE{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new Ks(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw en()}}class am{constructor(e,n,o,l,u,c){this.settings=e,this.databaseId=n,this.serializer=o,this.ignoreUndefinedProperties=l,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new am(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const o=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:o,Qu:!1});return l.$u(e),l}Ku(e){var n;const o=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:o,Qu:!1});return l.Bu(),l}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Mf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(uE(this.Lu)&&oP.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class aP{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=o||oh(e)}ju(e,n,o,l=!1){return new am({Lu:e,methodName:n,zu:o,path:_i.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fh(r){const e=r._freezeSettings(),n=oh(r._databaseId);return new aP(r._databaseId,!!e.ignoreUndefinedProperties,n)}function lE(r,e,n,o,l,u={}){const c=r.ju(u.merge||u.mergeFields?2:0,e,n,l);um("Data must be an object, but it was:",c,o);const s=cE(o,c);let f,h;if(u.merge)f=new Hi(c.fieldMask),h=c.fieldTransforms;else if(u.mergeFields){const m=[];for(const j of u.mergeFields){const b=ly(e,j,n);if(!c.contains(b))throw new Ct(yt.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);hE(m,b)||m.push(b)}f=new Hi(m),h=c.fieldTransforms.filter(j=>f.covers(j.field))}else f=null,h=c.fieldTransforms;return new sP(new Vi(s),f,h)}class hh extends im{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hh}}function uP(r,e,n,o){const l=r.ju(1,e,n);um("Data must be an object, but it was:",l,o);const u=[],c=Vi.empty();Gs(o,(f,h)=>{const m=lm(e,f,n);h=os(h);const j=l.Ku(m);if(h instanceof hh)u.push(m);else{const b=Zl(h,j);b!=null&&(u.push(m),c.set(m,b))}});const s=new Hi(u);return new aE(c,s,l.fieldTransforms)}function lP(r,e,n,o,l,u){const c=r.ju(1,e,n),s=[ly(e,o,n)],f=[l];if(u.length%2!=0)throw new Ct(yt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<u.length;b+=2)s.push(ly(e,u[b])),f.push(u[b+1]);const h=[],m=Vi.empty();for(let b=s.length-1;b>=0;--b)if(!hE(h,s[b])){const R=s[b];let d=f[b];d=os(d);const _=c.Ku(R);if(d instanceof hh)h.push(R);else{const $=Zl(d,_);$!=null&&(h.push(R),m.set(R,$))}}const j=new Hi(h);return new aE(m,j,c.fieldTransforms)}function cP(r,e,n,o=!1){return Zl(n,r.ju(o?4:3,e))}function Zl(r,e){if(fE(r=os(r)))return um("Unsupported field value:",e,r),cE(r,e);if(r instanceof im)return function(o,l){if(!uE(l.Lu))throw l.Wu(`${o._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${o._methodName}() is not currently supported inside arrays`);const u=o._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(o,l){const u=[];let c=0;for(const s of o){let f=Zl(s,l.Uu(c));f==null&&(f={nullValue:"NULL_VALUE"}),u.push(f),c++}return{arrayValue:{values:u}}}(r,e)}return function(o,l){if((o=os(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return W2(l.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const u=oi.fromDate(o);return{timestampValue:Df(l.serializer,u)}}if(o instanceof oi){const u=new oi(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Df(l.serializer,u)}}if(o instanceof om)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof gu)return{bytesValue:AS(l.serializer,o._byteString)};if(o instanceof Ni){const u=l.databaseId,c=o.firestore._databaseId;if(!c.isEqual(u))throw l.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:qy(o.firestore._databaseId||l.databaseId,o._key.path)}}if(o instanceof sm)return function(c,s){return{mapValue:{fields:{[eS]:{stringValue:tS},[jf]:{arrayValue:{values:c.toArray().map(h=>{if(typeof h!="number")throw s.Wu("VectorValues must only contain numeric values.");return By(s.serializer,h)})}}}}}}(o,l);throw l.Wu(`Unsupported field value: ${uh(o)}`)}(r,e)}function cE(r,e){const n={};return Qw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(r,(o,l)=>{const u=Zl(l,e.qu(o));u!=null&&(n[o]=u)}),{mapValue:{fields:n}}}function fE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof oi||r instanceof om||r instanceof gu||r instanceof Ni||r instanceof im||r instanceof sm)}function um(r,e,n){if(!fE(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const o=uh(n);throw o==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+o)}}function ly(r,e,n){if((e=os(e))instanceof ch)return e._internalPath;if(typeof e=="string")return lm(r,e);throw Mf("Field path arguments must be of type string or ",r,!1,void 0,n)}const fP=new RegExp("[~\\*/\\[\\]]");function lm(r,e,n){if(e.search(fP)>=0)throw Mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new ch(...e.split("."))._internalPath}catch{throw Mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Mf(r,e,n,o,l){const u=o&&!o.isEmpty(),c=l!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let f="";return(u||c)&&(f+=" (found",u&&(f+=` in field ${o}`),c&&(f+=` in document ${l}`),f+=")"),new Ct(yt.INVALID_ARGUMENT,s+r+f)}function hE(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n,o,l,u){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ni(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hP extends pE{data(){return super.data()}}function cm(r,e){return typeof e=="string"?lm(r,e):e instanceof ch?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ct(yt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fm{}class dP extends fm{}function ql(r,e,...n){let o=[];e instanceof fm&&o.push(e),o=o.concat(n),function(u){const c=u.filter(f=>f instanceof hm).length,s=u.filter(f=>f instanceof ph).length;if(c>1||c>0&&s>0)throw new Ct(yt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(o);for(const l of o)r=l._apply(r);return r}class ph extends dP{constructor(e,n,o){super(),this._field=e,this._op=n,this._value=o,this.type="where"}static _create(e,n,o){return new ph(e,n,o)}_apply(e){const n=this._parse(e);return dE(e._query,n),new xu(e.firestore,e.converter,Jd(e._query,n))}_parse(e){const n=fh(e.firestore);return function(u,c,s,f,h,m,j){let b;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new Ct(yt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){u0(j,m);const d=[];for(const _ of j)d.push(a0(f,u,_));b={arrayValue:{values:d}}}else b=a0(f,u,j)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||u0(j,m),b=cP(s,c,j,m==="in"||m==="not-in");return Wr.create(h,m,b)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function yP(r,e,n){const o=e,l=cm("where",r);return ph._create(l,o,n)}class hm extends fm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new hm(e,n)}_parse(e){const n=this._queryConstraints.map(o=>o._parse(e)).filter(o=>o.getFilters().length>0);return n.length===1?n[0]:yo.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(l,u){let c=l;const s=u.getFlattenedFilters();for(const f of s)dE(c,f),c=Jd(c,f)}(e._query,n),new xu(e.firestore,e.converter,Jd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function a0(r,e,n){if(typeof(n=os(n))=="string"){if(n==="")throw new Ct(yt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lS(e)&&n.indexOf("/")!==-1)throw new Ct(yt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Er.fromString(n));if(!Ht.isDocumentKey(o))throw new Ct(yt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return E_(r,new Ht(o))}if(n instanceof Ni)return E_(r,n._key);throw new Ct(yt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(n)}.`)}function u0(r,e){if(!Array.isArray(r)||r.length===0)throw new Ct(yt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function dE(r,e){const n=function(l,u){for(const c of l)for(const s of c.getFlattenedFilters())if(u.indexOf(s.op)>=0)return s.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Ct(yt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ct(yt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class mP{convertValue(e,n="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw en()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const o={};return Gs(e,(l,u)=>{o[l]=this.convertValue(u,n)}),o}convertVectorValue(e){var n,o,l;const u=(l=(o=(n=e.fields)===null||n===void 0?void 0:n[jf].arrayValue)===null||o===void 0?void 0:o.values)===null||l===void 0?void 0:l.map(c=>Fr(c.doubleValue));return new sm(u)}convertGeoPoint(e){return new om(Fr(e.latitude),Fr(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=Zf(e);return o==null?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const n=Ls(e);return new oi(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Er.fromString(e);tr(PS(o));const l=new Bl(o.get(1),o.get(3)),u=new Ht(o.popFirst(5));return l.isEqual(n)||as(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(r,e,n){let o;return o=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mE extends pE{constructor(e,n,o,l,u,c){super(e,n,o,l,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(cm("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class df extends mE{data(e={}){return super.data(e)}}class gP{constructor(e,n,o,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Tl(l.hasPendingWrites,l.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new df(this._firestore,this._userDataWriter,o.key,o,new Tl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ct(yt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let c=0;return l._snapshot.docChanges.map(s=>{const f=new df(l._firestore,l._userDataWriter,s.doc.key,s.doc,new Tl(l._snapshot.mutatedKeys.has(s.doc.key),l._snapshot.fromCache),l.query.converter);return s.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}})}{let c=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(s=>u||s.type!==3).map(s=>{const f=new df(l._firestore,l._userDataWriter,s.doc.key,s.doc,new Tl(l._snapshot.mutatedKeys.has(s.doc.key),l._snapshot.fromCache),l.query.converter);let h=-1,m=-1;return s.type!==0&&(h=c.indexOf(s.doc.key),c=c.delete(s.doc.key)),s.type!==1&&(c=c.add(s.doc),m=c.indexOf(s.doc.key)),{type:vP(s.type),doc:f,oldIndex:h,newIndex:m}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vP(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return en()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(r){r=mo(r,Ni);const e=mo(r.firestore,Aa);return ZR(rm(e),r._key).then(n=>_P(e,r,n))}class gE extends mP{constructor(e){super(),this.firestore=e}convertBytes(e){return new gu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ni(this.firestore,null,n)}}function zl(r){r=mo(r,xu);const e=mo(r.firestore,Aa),n=rm(e),o=new gE(e);return pP(r._query),eP(n,r._query).then(l=>new gP(e,o,r,l))}function Pl(r,e,n){r=mo(r,Ni);const o=mo(r.firestore,Aa),l=yE(r.converter,e,n);return dh(o,[lE(fh(o),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,so.none())])}function cy(r,e,n,...o){r=mo(r,Ni);const l=mo(r.firestore,Aa),u=fh(l);let c;return c=typeof(e=os(e))=="string"||e instanceof ch?lP(u,"updateDoc",r._key,e,n,o):uP(u,"updateDoc",r._key,e),dh(l,[c.toMutation(r._key,so.exists(!0))])}function bP(r){return dh(mo(r.firestore,Aa),[new Uy(r._key,so.none())])}function l0(r,e){const n=mo(r.firestore,Aa),o=vi(r),l=yE(r.converter,e);return dh(n,[lE(fh(r.firestore),"addDoc",o._key,l,r.converter!==null,{}).toMutation(o._key,so.exists(!1))]).then(()=>o)}function dh(r,e){return function(o,l){const u=new is;return o.asyncQueue.enqueueAndForget(async()=>LR(await JR(o),l,u)),u.promise}(rm(r),e)}function _P(r,e,n){const o=n.docs.get(e._key),l=new gE(r);return new mE(r,l,e._key,o,new Tl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){Ou=l})(Yx),Of(new Il("firestore",(o,{instanceIdentifier:l,options:u})=>{const c=o.getProvider("app").getImmediate(),s=new Aa(new f2(o.getProvider("auth-internal")),new d2(c,o.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ct(yt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(h.options.projectId,m)}(c,l),c);return u=Object.assign({useFetchStreams:n},u),s._setSettings(u),s},"PUBLIC").setMultipleInstances(!0)),lu(h_,p_,e),lu(h_,p_,"esm2017")})();const wP={apiKey:"AIzaSyD9bVvaxWf9-KIMg64BAS0piMekdxRc4_c",authDomain:"excel-project-6d4f7.firebaseapp.com",projectId:"excel-project-6d4f7",storageBucket:"excel-project-6d4f7.firebasestorage.app",messagingSenderId:"704962618240",appId:"1:704962618240:web:32f3c9a8a59a783d4cd765"},SP=Mw(wP),$r=rP(SP),EP="modulepreload",OP=function(r){return"/MTU-Apprenticeships-Project/"+r},c0={},pm=function(e,n,o){let l=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),s=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));l=Promise.allSettled(n.map(f=>{if(f=OP(f),f in c0)return;c0[f]=!0;const h=f.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const j=document.createElement("link");if(j.rel=h?"stylesheet":EP,h||(j.as="script"),j.crossOrigin="",j.href=f,s&&j.setAttribute("nonce",s),document.head.appendChild(j),h)return new Promise((b,R)=>{j.addEventListener("load",b),j.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${f}`)))})}))}function u(c){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=c,window.dispatchEvent(s),!s.defaultPrevented)throw c}return l.then(c=>{for(const s of c||[])s.status==="rejected"&&u(s.reason);return e().catch(u)})};var vu={},AP=Object.defineProperty,TP=Object.defineProperties,jP=Object.getOwnPropertyDescriptors,f0=Object.getOwnPropertySymbols,xP=Object.prototype.hasOwnProperty,$P=Object.prototype.propertyIsEnumerable,h0=(r,e,n)=>e in r?AP(r,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[e]=n,bl=(r,e)=>{for(var n in e||(e={}))xP.call(e,n)&&h0(r,n,e[n]);if(f0)for(var n of f0(e))$P.call(e,n)&&h0(r,n,e[n]);return r},RP=(r,e)=>TP(r,jP(e)),Rn=(r,e,n)=>new Promise((o,l)=>{var u=f=>{try{s(n.next(f))}catch(h){l(h)}},c=f=>{try{s(n.throw(f))}catch(h){l(h)}},s=f=>f.done?o(f.value):Promise.resolve(f.value).then(u,c);s((n=n.apply(r,e)).next())}),PP="4.5.1",DP=class{constructor(r){this.resend=r}create(r){return Rn(this,arguments,function*(e,n={}){return yield this.resend.post("/api-keys",e,n)})}list(){return Rn(this,null,function*(){return yield this.resend.get("/api-keys")})}remove(r){return Rn(this,null,function*(){return yield this.resend.delete(`/api-keys/${r}`)})}},NP=class{constructor(r){this.resend=r}create(r){return Rn(this,arguments,function*(e,n={}){return yield this.resend.post("/audiences",e,n)})}list(){return Rn(this,null,function*(){return yield this.resend.get("/audiences")})}get(r){return Rn(this,null,function*(){return yield this.resend.get(`/audiences/${r}`)})}remove(r){return Rn(this,null,function*(){return yield this.resend.delete(`/audiences/${r}`)})}};function vE(r){return{attachments:r.attachments,bcc:r.bcc,cc:r.cc,from:r.from,headers:r.headers,html:r.html,reply_to:r.replyTo,scheduled_at:r.scheduledAt,subject:r.subject,tags:r.tags,text:r.text,to:r.to}}var CP=class{constructor(r){this.resend=r}send(r){return Rn(this,arguments,function*(e,n={}){return this.create(e,n)})}create(r){return Rn(this,arguments,function*(e,n={}){const o=[];for(const u of e){if(u.react){if(!this.renderAsync)try{const{renderAsync:c}=yield pm(()=>import("./index-BMGqJlxl.js"),[]);this.renderAsync=c}catch{throw new Error("Failed to render React component. Make sure to install `@react-email/render`")}u.html=yield this.renderAsync(u.react),u.react=void 0}o.push(vE(u))}return yield this.resend.post("/emails/batch",o,n)})}},IP=class{constructor(r){this.resend=r}create(r){return Rn(this,arguments,function*(e,n={}){if(e.react){if(!this.renderAsync)try{const{renderAsync:l}=yield pm(()=>import("./index-BMGqJlxl.js"),[]);this.renderAsync=l}catch{throw new Error("Failed to render React component. Make sure to install `@react-email/render`")}e.html=yield this.renderAsync(e.react)}return yield this.resend.post("/broadcasts",{name:e.name,audience_id:e.audienceId,preview_text:e.previewText,from:e.from,html:e.html,reply_to:e.replyTo,subject:e.subject,text:e.text},n)})}send(r,e){return Rn(this,null,function*(){return yield this.resend.post(`/broadcasts/${r}/send`,{scheduled_at:e==null?void 0:e.scheduledAt})})}list(){return Rn(this,null,function*(){return yield this.resend.get("/broadcasts")})}get(r){return Rn(this,null,function*(){return yield this.resend.get(`/broadcasts/${r}`)})}remove(r){return Rn(this,null,function*(){return yield this.resend.delete(`/broadcasts/${r}`)})}update(r,e){return Rn(this,null,function*(){return yield this.resend.patch(`/broadcasts/${r}`,{name:e.name,audience_id:e.audienceId,from:e.from,html:e.html,text:e.text,subject:e.subject,reply_to:e.replyTo,preview_text:e.previewText})})}},MP=class{constructor(r){this.resend=r}create(r){return Rn(this,arguments,function*(e,n={}){return yield this.resend.post(`/audiences/${e.audienceId}/contacts`,{unsubscribed:e.unsubscribed,email:e.email,first_name:e.firstName,last_name:e.lastName},n)})}list(r){return Rn(this,null,function*(){return yield this.resend.get(`/audiences/${r.audienceId}/contacts`)})}get(r){return Rn(this,null,function*(){return!r.id&&!r.email?{data:null,error:{message:"Missing `id` or `email` field.",name:"missing_required_field"}}:yield this.resend.get(`/audiences/${r.audienceId}/contacts/${r!=null&&r.email?r==null?void 0:r.email:r==null?void 0:r.id}`)})}update(r){return Rn(this,null,function*(){return!r.id&&!r.email?{data:null,error:{message:"Missing `id` or `email` field.",name:"missing_required_field"}}:yield this.resend.patch(`/audiences/${r.audienceId}/contacts/${r!=null&&r.email?r==null?void 0:r.email:r==null?void 0:r.id}`,{unsubscribed:r.unsubscribed,first_name:r.firstName,last_name:r.lastName})})}remove(r){return Rn(this,null,function*(){return!r.id&&!r.email?{data:null,error:{message:"Missing `id` or `email` field.",name:"missing_required_field"}}:yield this.resend.delete(`/audiences/${r.audienceId}/contacts/${r!=null&&r.email?r==null?void 0:r.email:r==null?void 0:r.id}`)})}};function kP(r){return{name:r.name,region:r.region,custom_return_path:r.customReturnPath}}var VP=class{constructor(r){this.resend=r}create(r){return Rn(this,arguments,function*(e,n={}){return yield this.resend.post("/domains",kP(e),n)})}list(){return Rn(this,null,function*(){return yield this.resend.get("/domains")})}get(r){return Rn(this,null,function*(){return yield this.resend.get(`/domains/${r}`)})}update(r){return Rn(this,null,function*(){return yield this.resend.patch(`/domains/${r.id}`,{click_tracking:r.clickTracking,open_tracking:r.openTracking,tls:r.tls})})}remove(r){return Rn(this,null,function*(){return yield this.resend.delete(`/domains/${r}`)})}verify(r){return Rn(this,null,function*(){return yield this.resend.post(`/domains/${r}/verify`)})}},BP=class{constructor(r){this.resend=r}send(r){return Rn(this,arguments,function*(e,n={}){return this.create(e,n)})}create(r){return Rn(this,arguments,function*(e,n={}){if(e.react){if(!this.renderAsync)try{const{renderAsync:l}=yield pm(()=>import("./index-BMGqJlxl.js"),[]);this.renderAsync=l}catch{throw new Error("Failed to render React component. Make sure to install `@react-email/render`")}e.html=yield this.renderAsync(e.react)}return yield this.resend.post("/emails",vE(e),n)})}get(r){return Rn(this,null,function*(){return yield this.resend.get(`/emails/${r}`)})}update(r){return Rn(this,null,function*(){return yield this.resend.patch(`/emails/${r.id}`,{scheduled_at:r.scheduledAt})})}cancel(r){return Rn(this,null,function*(){return yield this.resend.post(`/emails/${r}/cancel`)})}},p0="https://api.resend.com",d0=`resend-node:${PP}`,UP=typeof process<"u"&&vu&&vu.RESEND_BASE_URL||p0,LP=typeof process<"u"&&vu&&vu.RESEND_USER_AGENT||d0,FP=class{constructor(r){if(this.key=r,this.apiKeys=new DP(this),this.audiences=new NP(this),this.batch=new CP(this),this.broadcasts=new IP(this),this.contacts=new MP(this),this.domains=new VP(this),this.emails=new BP(this),!r&&(typeof process<"u"&&vu&&(this.key=vu.RESEND_API_KEY),!this.key))throw new Error('Missing API key. Pass it to the constructor `new Resend("re_123")`');this.headers=new Headers({Authorization:`Bearer ${this.key}`,"User-Agent":LP,"Content-Type":"application/json"})}fetchRequest(r){return Rn(this,arguments,function*(e,n={}){try{const o=yield fetch(`${UP}${e}`,n);if(!o.ok)try{const u=yield o.text();return{data:null,error:JSON.parse(u)}}catch(u){if(u instanceof SyntaxError)return{data:null,error:{name:"application_error",message:"Internal server error. We are unable to process your request right now, please try again later."}};const c={message:o.statusText,name:"application_error"};return u instanceof Error?{data:null,error:RP(bl({},c),{message:u.message})}:{data:null,error:c}}return{data:yield o.json(),error:null}}catch{return{data:null,error:{name:"application_error",message:"Unable to fetch data. The request could not be resolved."}}}})}post(r,e){return Rn(this,arguments,function*(n,o,l={}){const u=new Headers(this.headers);l.idempotencyKey&&u.set("Idempotency-Key",l.idempotencyKey);const c=bl({method:"POST",headers:u,body:JSON.stringify(o)},l);return this.fetchRequest(n,c)})}get(r){return Rn(this,arguments,function*(e,n={}){const o=bl({method:"GET",headers:this.headers},n);return this.fetchRequest(e,o)})}put(r,e){return Rn(this,arguments,function*(n,o,l={}){const u=bl({method:"PUT",headers:this.headers,body:JSON.stringify(o)},l);return this.fetchRequest(n,u)})}patch(r,e){return Rn(this,arguments,function*(n,o,l={}){const u=bl({method:"PATCH",headers:this.headers,body:JSON.stringify(o)},l);return this.fetchRequest(n,u)})}delete(r,e){return Rn(this,null,function*(){const n={method:"DELETE",headers:this.headers,body:JSON.stringify(e)};return this.fetchRequest(r,n)})}};function qP(){const[r,e]=kr.useState({remarks:"",PSPMUC:"",PSPPOL:"",COVERVIA:"",State:"",Sum:"",businessResponsible:"",itResponsible:"",developer:""});new FP("re_e9Mf5nvX_GBEc8bbA3KK3jcoyw2ki8Lui");const n=Te.useRef({});Te.useRef({}),Te.useRef();const o=Te.useRef(),l=zf();Te.useRef(),Te.useRef(),Te.useRef();const[u,c]=Te.useState([]),[s,f]=Te.useState(null),[h,m]=Te.useState(),[j,b]=Te.useState(),[R,d]=Te.useState(),[_,$]=Te.useState(),[g,S]=Te.useState(),x=Te.useRef(),A=Te.useRef(),[T,C]=Te.useState([]),w=["January","February","March","April","May","June","July","August","September","October","November","December"];async function v(M,q){await bP(vi($r,"projects",M.id)),f(null),V()}async function E(M){const q=s.id;let ne={...s};delete ne.Devs[M],await Pl(vi($r,"projects",q),ne),f({...ne})}function N(M){if(!s||!s.Devs)return 0;let q=0;const ne=["January","February","March","April","May","June","July","August","September","October","November","December"];Object.values(s.Devs).forEach(we=>{const me=M===1?we.FinalHours:we.HoursDone;ne.forEach(ue=>{const _e=me==null?void 0:me[ue];_e!==void 0&&!isNaN(_e)&&(q+=parseFloat(_e))})}),M===1&&q>s.Sum?x.current&&(x.current.style.color="red"):M==1&&q<=s.Sum&&x.current&&(x.current.style.color="green"),M===2&&q>s.Sum?A.current&&(A.current.style.color="red"):M==2&&q<=s.Sum&&A.current&&(A.current.style.color="green"),console.log("TempCounter: ",q);const fe=Math.floor(q),ve=Math.round((q-fe)*60);return`${fe}h ${ve}m`}const[P,I]=Te.useState({});function B(M,q,ne,fe){I(ve=>({...ve,[M]:{...ve[M],[q===1?"FinalHours":"HoursDone"]:{...ve[M]&&ve[M][q===1?"FinalHours":"HoursDone"]||{},[ne]:fe}}}))}async function ee(M,q,ne){var _e,L;const fe=(L=(_e=P==null?void 0:P[M])==null?void 0:_e[q===1?"FinalHours":"HoursDone"])==null?void 0:L[ne];if(fe===void 0)return;let ve={...s.Devs},we={...ve[M]};q===1?we.FinalHours={...we.FinalHours,[ne]:parseFloat(fe.replace(",","."))||0}:q===2&&(we.HoursDone={...we.HoursDone,[ne]:parseFloat(fe.replace(",","."))||0}),ve[M]=we;const me=vi($r,"projects",s.id);await cy(me,{Devs:ve});const ue={...s,Devs:ve};f(ue),I(X=>{const oe={...X};return oe[M]&&(q===1?delete oe[M].FinalHours[ne]:delete oe[M].HoursDone[ne],Object.keys(oe[M].FinalHours||{}).length===0&&Object.keys(oe[M].HoursDone||{}).length===0&&delete oe[M]),oe})}async function Z(){const M=vi($r,"hoursAssigned","iLYT4JcVB59rUi9vmPqQ"),q=await ma(M);if(q.exists()){const ne=q.data();$(ne.Hours)}}async function te(){s.COVERVIA;const M=vi($r,"responsibles","gycKnUsnEyPNGJJwmAjX");await ma(M);let q={...s},fe=o.current.value.toLowerCase().split(" "),ve=fe[0]+"_"+fe[1];q.Devs==null?(q.Devs={[ve]:{FinalHours:Object.fromEntries(w.map(we=>[we,0])),HoursDone:Object.fromEntries(w.map(we=>[we,0]))}},await Pl(vi($r,"projects",q.id),q)):(q.Devs={...q.Devs,[ve]:{FinalHours:Object.fromEntries(w.map(we=>[we,0])),HoursDone:Object.fromEntries(w.map(we=>[we,0]))}},await Pl(vi($r,"projects",q.id),q)),f({...q}),o.current.value=""}async function re(){const M=vi($r,"responsibles","gycKnUsnEyPNGJJwmAjX"),ne=(await ma(M)).data();d(ne.Devs)}async function ce(){const M=vi($r,"responsibles","gycKnUsnEyPNGJJwmAjX"),q=await ma(M);if(q.exists()){const ne=q.data(),fe=ne.business;m(fe);const ve=ne.IT;b(ve)}}async function ge(){l("/Cp")}async function F(){const M=vi($r,"responsibles","gycKnUsnEyPNGJJwmAjX"),q=await ma(M);if(q.exists()){const ne=q.data();C(ne.Devs)}}async function V(){const M=va($r,"projects"),q=ql(M),ne=await zl(q);let fe=[];const ve=vi($r,"responsibles","gycKnUsnEyPNGJJwmAjX");ma(ve).then(we=>{we.data().business}),ne.forEach(we=>{we.data(),fe.push({id:we.id,...we.data()})}),c(fe)}Te.useEffect(()=>{V(),ce(),re(),Z(),F()},[]);const H=(M,q)=>{f(M),S(q)},W=()=>{f(null)},z=u.filter(M=>{var ve,we,me,ue,_e;const q=M.Devs?Object.keys(M.Devs).map(L=>L.toLowerCase()):[];console.log(q);const ne=h&&h[M.COVERVIA]?h[M.COVERVIA].map(L=>L.toLowerCase()):[],fe=j&&j[M.COVERVIA]?j[M.COVERVIA].map(L=>L.toLowerCase()):[];return(!r.remarks||((ve=M.Remarks)==null?void 0:ve.toLowerCase().includes(r.remarks.toLowerCase())))&&(!r.PSPMUC||((we=M.PSPMUC)==null?void 0:we.toLowerCase().startsWith(r.PSPMUC.toLowerCase())))&&(!r.PSPPOL||((me=M.PSPPOL)==null?void 0:me.toLowerCase().startsWith(r.PSPPOL.toLowerCase())))&&(!r.COVERVIA||((ue=M.COVERVIA)==null?void 0:ue.toLowerCase().startsWith(r.COVERVIA.toLowerCase())))&&(!r.State||((_e=M.State)==null?void 0:_e.toLowerCase().includes(r.State.toLowerCase())))&&(!r.Sum||String(M.Sum).startsWith(r.Sum.toLowerCase()))&&(!r.developer||q.some(L=>{const X=L.split("_"),oe=r.developer.toLowerCase().split(" ").filter(Boolean);return oe.length===0?!0:oe.every(le=>X.some(pe=>pe.startsWith(le)))}))&&(!r.businessResponsible||ne.length>0&&r.businessResponsible.toLowerCase().split(" ").every(L=>ne.some(X=>X.toLowerCase().split(" ").some(oe=>oe.startsWith(L)))))&&(!r.itResponsible||fe.length>0&&r.itResponsible.toLowerCase().split(" ").every(L=>fe.some(X=>X.toLowerCase().split(" ").some(oe=>oe.startsWith(L)))))});return Re.jsxs(au,{children:[Re.jsxs(oo,{expand:"lg",className:"glass-navbar",children:[Re.jsx(oo.Brand,{className:"brand-gradient",style:{marginLeft:20},children:"MTU Excel Project"}),Re.jsx(oo.Toggle,{"aria-controls":"basic-navbar-nav"}),Re.jsx(oo.Collapse,{id:"basic-navbar-nav",children:Re.jsxs(uu,{className:"me-auto",children:[Re.jsx(uu.Link,{onClick:ge,className:"link",style:{color:"#033662"},children:"Create a Project"}),Re.jsx(uu.Link,{onClick:()=>l("/responsibles"),className:"link",children:"Responsibles"})]})})]}),Re.jsxs("div",{style:{margin:"32px 0 24px 0"},children:[Re.jsx("h2",{style:{textAlign:"center",fontWeight:700,letterSpacing:1,color:"#b4845c",marginBottom:32},children:"All Projects"}),Re.jsxs("div",{style:{marginBottom:24},children:[Re.jsx("input",{placeholder:"Filter by Remarks",value:r.remarks,onChange:M=>e({...r,remarks:M.target.value}),style:{marginBottom:20,marginRight:8,width:200,height:38,padding:"0 12px",borderRadius:8,border:"1.5px solid #faedcd",color:"#b4845c",fontWeight:600}}),Re.jsx("input",{placeholder:"Filter by PSP MUC",value:r.PSPMUC,onChange:M=>e({...r,PSPMUC:M.target.value}),style:{marginBottom:20,marginRight:8,width:200,height:38,padding:"0 12px",borderRadius:8,border:"1.5px solid #faedcd",color:"#b4845c",fontWeight:600}}),Re.jsx("input",{placeholder:"Filter by PSP POL",value:r.PSPPOL,onChange:M=>e({...r,PSPPOL:M.target.value}),style:{marginBottom:20,marginRight:8,width:200,height:38,padding:"0 12px",borderRadius:8,border:"1.5px solid #faedcd",color:"#b4845c",fontWeight:600}}),Re.jsx("input",{placeholder:"Filter by COVERVIA",value:r.COVERVIA,onChange:M=>e({...r,COVERVIA:M.target.value}),style:{marginBottom:20,marginRight:8,width:200,height:38,padding:"0 12px",borderRadius:8,border:"1.5px solid #faedcd",color:"#b4845c",fontWeight:600}}),Re.jsx("input",{placeholder:"Filter by State",value:r.State,onChange:M=>e({...r,State:M.target.value}),style:{marginBottom:20,marginRight:8,width:200,height:38,padding:"0 12px",borderRadius:8,border:"1.5px solid #faedcd",color:"#b4845c",fontWeight:600}}),Re.jsx("input",{placeholder:"Filter by Sum",value:r.Sum,onChange:M=>e({...r,Sum:M.target.value}),style:{marginBottom:20,marginRight:8,width:200,height:38,padding:"0 12px",borderRadius:8,border:"1.5px solid #faedcd",color:"#b4845c",fontWeight:600}}),Re.jsx("input",{placeholder:"Filter by Business Responsible",value:r.businessResponsible,onChange:M=>e({...r,businessResponsible:M.target.value}),style:{marginBottom:20,marginRight:8,width:200,height:38,padding:"0 12px",borderRadius:8,border:"1.5px solid #faedcd",color:"#b4845c",fontWeight:600}}),Re.jsx("input",{placeholder:"Filter by IT Responsible",value:r.itResponsible,onChange:M=>e({...r,itResponsible:M.target.value}),style:{marginBottom:20,marginRight:8,width:200,height:38,padding:"0 12px",borderRadius:8,border:"1.5px solid #faedcd",color:"#b4845c",fontWeight:600}}),Re.jsx("input",{placeholder:"Filter by Developer",value:r.developer,onChange:M=>e({...r,developer:M.target.value}),style:{marginBottom:20,marginRight:8,width:200,height:38,padding:"0 12px",borderRadius:8,border:"1.5px solid #faedcd",color:"#b4845c",fontWeight:600}})]}),Re.jsx(Jo,{className:"projects-grid",style:{gap:0,justifyContent:"center"},children:z.length>0?z.map((M,q)=>Re.jsx(Lr,{md:4,sm:6,style:{display:"flex",justifyContent:"center",marginBottom:32},children:Re.jsx(Ed,{className:"project-card glass-card",style:{width:"100%",maxWidth:370,minHeight:180,borderRadius:18,boxShadow:"0 4px 24px #e9edc9cc",border:"1px solid #e9edc9",color:"#b4845c"},onClick:()=>H(M,q),children:Re.jsxs(Ed.Body,{style:{padding:"28px 24px"},children:[Re.jsx(Ed.Title,{className:"project-title-gradient",style:{fontSize:"1.35rem",fontWeight:700,marginBottom:12},children:M.NameOfTheProject}),Re.jsx("div",{style:{height:1,background:"#b4845c",margin:"10px 0 18px 0",borderRadius:2}}),Re.jsx("div",{children:Re.jsx(To,{style:{marginRight:"20px",display:""},className:"delete-btn-home",onClick:()=>v(M),children:"Delete"})}),Re.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[Re.jsxs("span",{style:{fontWeight:500,color:"#b4845c"},children:[Re.jsx("strong",{children:"Remarks:"})," ",Re.jsx("span",{style:{color:"#b4845c"},children:M.Remarks})]}),Re.jsxs("span",{style:{fontWeight:500,color:"#b4845c"},children:[Re.jsx("strong",{children:"PSP MUC:"})," ",Re.jsx("span",{style:{color:"#b4845c"},children:M.PSPMUC})]}),Re.jsxs("span",{style:{fontWeight:500,color:"#b4845c"},children:[Re.jsx("strong",{children:"PSP POL:"})," ",Re.jsx("span",{style:{color:"#b4845c"},children:M.PSPPOL})]})]})]})})},q)):Re.jsx("p",{style:{textAlign:"center",color:"#b4845c"},children:"No projects available."})})]}),s&&Re.jsxs("div",{className:"project-details-modal open glass-panel",style:{padding:0,minHeight:"80vh",display:"flex",flexDirection:"column",justifyContent:"center"},children:[Re.jsxs("div",{style:{display:"flex",justifyContent:"flex-start",alignItems:"center",padding:"16px 36px 0 36px"},children:[Re.jsx(To,{variant:"outline-secondary",onClick:W,style:{fontWeight:600,color:"#b4845c",borderColor:"#b4845c",marginRight:12},className:"back-button",children:" Back to Projects"}),Re.jsx("button",{className:"close-button",onClick:W,title:"Close",children:""})]}),Re.jsxs("div",{className:"project-details-modal-content",style:{padding:"24px 36px 32px 36px",borderRadius:18,boxShadow:"0 8px 32px #e9edc9cc",maxWidth:900,margin:"0 auto",background:"#fff"},onClick:M=>M.stopPropagation(),children:[Re.jsx("h3",{className:"project-title-gradient",style:{fontSize:"2rem",fontWeight:800,textAlign:"center",marginBottom:18,color:"#b4845c"},children:s.NameOfTheProject}),Re.jsx("div",{style:{height:2,background:"#e9edc9",margin:"0 0 28px 0",borderRadius:2}}),Re.jsx(au,{className:"Cont",style:{marginBottom:24},children:Re.jsxs(Jo,{children:[Re.jsxs(Lr,{md:6,style:{display:"flex",flexDirection:"column",gap:10},children:[Re.jsxs("span",{style:{fontWeight:600,color:"#b4845c"},children:[Re.jsx("strong",{children:"Remarks:"})," ",Re.jsx("span",{style:{color:"#b4845c"},children:s.Remarks})]}),Re.jsxs("span",{style:{fontWeight:600,color:"#b4845c"},children:[Re.jsx("strong",{children:"PSP MUC:"})," ",Re.jsx("span",{style:{color:"#b4845c"},children:s.PSPMUC})]}),Re.jsxs("span",{style:{fontWeight:600,color:"#b4845c"},children:[Re.jsx("strong",{children:"PSP POL:"})," ",Re.jsx("span",{style:{color:"#b4845c"},children:s.PSPPOL})]}),Re.jsxs("span",{style:{fontWeight:600,color:"#b4845c"},children:[Re.jsx("strong",{children:"Cover Via:"})," ",Re.jsx("span",{style:{color:"#b4845c"},children:s.COVERVIA})]}),Re.jsxs("span",{style:{fontWeight:600,color:"#b4845c"},children:[Re.jsx("strong",{children:"State:"})," ",Re.jsx("span",{style:{color:"#b4845c"},children:s.State})]}),Re.jsxs("span",{style:{fontWeight:600,color:"#b4845c"},children:[Re.jsx("strong",{children:"Sum:"})," ",Re.jsx("span",{style:{color:"#b4845c"},children:s.Sum})]})]}),Re.jsxs(Lr,{md:6,style:{display:"flex",flexDirection:"column",gap:16},children:[Re.jsxs("div",{className:"responsibles-section",style:{gap:8},children:[Re.jsx("span",{style:{fontWeight:700,color:"#b4845c"},children:"Business Responsibles:"}),Re.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:h&&h[s.COVERVIA]&&h[s.COVERVIA].map(M=>Re.jsx("span",{className:"IT__Responsibles badge badge-business",style:{backgroundColor:"#b4845c",color:"white"},children:M},M))})]}),Re.jsxs("div",{className:"responsibles-section",style:{gap:8},children:[Re.jsx("span",{style:{fontWeight:700,color:"#b4845c"},children:"IT Responsibles:"}),Re.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:j&&j[s.COVERVIA]&&j[s.COVERVIA].map(M=>Re.jsx("span",{className:"IT__Responsibles badge badge-it",style:{backgroundColor:"#b4845c",color:"white"},children:M},M))})]})]})]})}),Re.jsxs("div",{style:{margin:"32px 0 0 0",width:"100%"},children:[Re.jsx("strong",{className:"dev-title-gradient",style:{fontSize:"1.3rem",fontWeight:700,marginBottom:18,display:"block",color:"#b4845c"},children:"Dev Responsibles"}),Re.jsxs("div",{style:{background:"#fefae0",borderRadius:16,padding:"24px 18px",boxShadow:"0 2px 8px #e9edc9cc"},children:[Re.jsxs(au,{style:{marginBottom:"18px"},children:[Re.jsxs(Jo,{className:"dev-table-header",children:[Re.jsx(Lr,{style:{fontWeight:700,color:"#b4845c",textAlign:"center"},children:"Developer Name"}),Re.jsx(Lr,{style:{fontWeight:700,color:"#b4845c",textAlign:"center"},children:"Planned Hours"}),Re.jsx(Lr,{style:{fontWeight:700,color:"#b4845c",textAlign:"center"},children:"Hours Done"})]}),Re.jsxs(Jo,{children:[Re.jsx(Lr,{style:{fontWeight:700,color:"#b4845c",textAlign:"center"},children:"To split:"}),Re.jsx(Lr,{span:"1",style:{fontWeight:700,color:"#b4845c",textAlign:"center"},children:Re.jsx("input",{className:"DevRespHours",value:s.Sum,readOnly:!0,style:{background:"#fff",borderRadius:8,width:80,textAlign:"center",border:"1.5px solid #faedcd",color:"#b4845c",fontWeight:700}})})]}),Re.jsxs(Jo,{children:[Re.jsx(Lr,{style:{color:"#b4845c",textAlign:"center",fontWeight:700},children:"Sum"}),Re.jsx(Lr,{style:{color:"#b4845c",textAlign:"center",fontWeight:700},ref:x,children:N(1)}),Re.jsx(Lr,{style:{color:"#b4845c",textAlign:"center",fontWeight:700},ref:A,children:N(2)})]}),s.Devs&&Object.keys(s.Devs).sort().map(M=>{let q=M,ne=s.Devs[q],fe=ne.FinalHours,ve=ne.HoursDone;return Re.jsxs(Jo,{className:"dev-row",style:{alignItems:"center",margin:"0 0 8px 0",padding:"12px 0"},children:[Re.jsxs(Lr,{style:{display:"flex",alignItems:"center",fontWeight:700,color:"#b4845c",fontSize:"1.08rem",textAlign:"center",justifyContent:"center"},children:[Re.jsx(To,{style:{marginRight:"20px",display:""},className:"delete-btn",onClick:()=>E(M),children:"Delete"}),Re.jsx("span",{className:"dev-avatar",children:q[0].toUpperCase()})," ",q.replace("_"," ")]}),Re.jsx(Lr,{children:Re.jsx("div",{className:"dev-months-grid",children:w.map(we=>{var me,ue;return Re.jsxs("div",{className:"dev-month-cell",children:[Re.jsx("span",{className:"dev-month-label",children:we.slice(0,3)}),Re.jsx("input",{style:{width:"80px"},className:"DevRespHours dev-input",value:((ue=(me=P==null?void 0:P[q])==null?void 0:me.FinalHours)==null?void 0:ue[we])!==void 0?String(P[q].FinalHours[we]):fe[we]!==void 0&&fe[we]!==null?String(fe[we]):"",ref:_e=>{n.current[q]||(n.current[q]={}),n.current[q][we]=_e},onChange:_e=>B(q,1,we,_e.target.value),onBlur:()=>ee(q,1,we),onKeyDown:_e=>{_e.key==="Enter"&&_e.target.blur()},inputMode:"numeric"})]},we)})})}),Re.jsx(Lr,{children:Re.jsx("div",{className:"dev-months-grid",children:w.map(we=>{var me,ue;return Re.jsxs("div",{className:"dev-month-cell",children:[Re.jsx("span",{className:"dev-month-label",children:we.slice(0,3)}),Re.jsx("input",{style:{width:"80px"},className:"DevRespHours dev-input",value:((ue=(me=P==null?void 0:P[q])==null?void 0:me.HoursDone)==null?void 0:ue[we])!==void 0?String(P[q].HoursDone[we]):ve[we]!==void 0&&ve[we]!==null?String(ve[we]):"",ref:_e=>{n.current[q]||(n.current[q]={}),n.current[q][we]=_e},onChange:_e=>B(q,2,we,_e.target.value),onBlur:()=>ee(q,2,we),onKeyDown:_e=>{_e.key==="Enter"&&_e.target.blur()},inputMode:"numeric"})]},we)})})})]},M)})]}),Re.jsxs("div",{className:"add-dev-section",children:[Re.jsxs("select",{defaultValue:"dev1",type:"text",ref:o,placeholder:"Add Developer (e.g. Boleslaw Prus)",className:"DevInput",style:{borderRadius:8,border:"1.5px solid #faedcd",padding:"8px 12px",marginRight:8,width:220,fontWeight:600,color:"#7e9eb3",background:"#fff"},children:[Re.jsx("option",{value:"dev1",disabled:!0,children:"Select Developer"}),T.map((M,q)=>Re.jsx("option",{children:M},q))]}),Re.jsx(To,{className:"DevInput",variant:"primary",style:{borderRadius:8,background:"white",border:"none",fontWeight:700,boxShadow:"0 2px 8px #e9edc9cc",padding:"8px 24px",fontSize:"1.08rem",color:"#7e9eb3",backgroundColor:"white"},onClick:()=>{te()},children:"Add Developer"})]})]})]}),Re.jsx(To,{variant:"secondary",onClick:W,style:{marginTop:36,borderRadius:8,background:"white",border:"none",fontWeight:700,color:"#7e9eb3",boxShadow:"0 2px 8px #e9edc9cc",padding:"10px 36px",fontSize:"1.08rem",display:"block",marginLeft:"auto",marginRight:"auto"},children:"Close"})]})]})]})}const zP={type:rs.string,tooltip:rs.bool,as:rs.elementType},yh=Te.forwardRef(({as:r="div",className:e,type:n="valid",tooltip:o=!1,...l},u)=>Re.jsx(r,{...l,ref:u,className:fn(e,`${n}-${o?"tooltip":"feedback"}`)}));yh.displayName="Feedback";yh.propTypes=zP;const ls=Te.createContext({}),dm=Te.forwardRef(({id:r,bsPrefix:e,className:n,type:o="checkbox",isValid:l=!1,isInvalid:u=!1,as:c="input",...s},f)=>{const{controlId:h}=Te.useContext(ls);return e=An(e,"form-check-input"),Re.jsx(c,{...s,ref:f,type:o,id:r||h,className:fn(n,e,l&&"is-valid",u&&"is-invalid")})});dm.displayName="FormCheckInput";const kf=Te.forwardRef(({bsPrefix:r,className:e,htmlFor:n,...o},l)=>{const{controlId:u}=Te.useContext(ls);return r=An(r,"form-check-label"),Re.jsx("label",{...o,ref:l,htmlFor:n||u,className:fn(e,r)})});kf.displayName="FormCheckLabel";function HP(r,e){return Te.Children.toArray(r).some(n=>Te.isValidElement(n)&&n.type===e)}const bE=Te.forwardRef(({id:r,bsPrefix:e,bsSwitchPrefix:n,inline:o=!1,reverse:l=!1,disabled:u=!1,isValid:c=!1,isInvalid:s=!1,feedbackTooltip:f=!1,feedback:h,feedbackType:m,className:j,style:b,title:R="",type:d="checkbox",label:_,children:$,as:g="input",...S},x)=>{e=An(e,"form-check"),n=An(n,"form-switch");const{controlId:A}=Te.useContext(ls),T=Te.useMemo(()=>({controlId:r||A}),[A,r]),C=!$&&_!=null&&_!==!1||HP($,kf),w=Re.jsx(dm,{...S,type:d==="switch"?"checkbox":d,ref:x,isValid:c,isInvalid:s,disabled:u,as:g});return Re.jsx(ls.Provider,{value:T,children:Re.jsx("div",{style:b,className:fn(j,C&&e,o&&`${e}-inline`,l&&`${e}-reverse`,d==="switch"&&n),children:$||Re.jsxs(Re.Fragment,{children:[w,C&&Re.jsx(kf,{title:R,children:_}),h&&Re.jsx(yh,{type:m,tooltip:f,children:h})]})})})});bE.displayName="FormCheck";const Vf=Object.assign(bE,{Input:dm,Label:kf}),_E=Te.forwardRef(({bsPrefix:r,type:e,size:n,htmlSize:o,id:l,className:u,isValid:c=!1,isInvalid:s=!1,plaintext:f,readOnly:h,as:m="input",...j},b)=>{const{controlId:R}=Te.useContext(ls);return r=An(r,"form-control"),Re.jsx(m,{...j,type:e,size:o,ref:b,readOnly:h,id:l||R,className:fn(u,f?`${r}-plaintext`:r,n&&`${r}-${n}`,e==="color"&&`${r}-color`,c&&"is-valid",s&&"is-invalid")})});_E.displayName="FormControl";const GP=Object.assign(_E,{Feedback:yh}),wE=Te.forwardRef(({className:r,bsPrefix:e,as:n="div",...o},l)=>(e=An(e,"form-floating"),Re.jsx(n,{ref:l,className:fn(r,e),...o})));wE.displayName="FormFloating";const ym=Te.forwardRef(({controlId:r,as:e="div",...n},o)=>{const l=Te.useMemo(()=>({controlId:r}),[r]);return Re.jsx(ls.Provider,{value:l,children:Re.jsx(e,{...n,ref:o})})});ym.displayName="FormGroup";const SE=Te.forwardRef(({as:r="label",bsPrefix:e,column:n=!1,visuallyHidden:o=!1,className:l,htmlFor:u,...c},s)=>{const{controlId:f}=Te.useContext(ls);e=An(e,"form-label");let h="col-form-label";typeof n=="string"&&(h=`${h} ${h}-${n}`);const m=fn(l,e,o&&"visually-hidden",n&&h);return u=u||f,n?Re.jsx(Lr,{ref:s,as:"label",className:m,htmlFor:u,...c}):Re.jsx(r,{ref:s,className:m,htmlFor:u,...c})});SE.displayName="FormLabel";const EE=Te.forwardRef(({bsPrefix:r,className:e,id:n,...o},l)=>{const{controlId:u}=Te.useContext(ls);return r=An(r,"form-range"),Re.jsx("input",{...o,type:"range",ref:l,className:fn(e,r),id:n||u})});EE.displayName="FormRange";const OE=Te.forwardRef(({bsPrefix:r,size:e,htmlSize:n,className:o,isValid:l=!1,isInvalid:u=!1,id:c,...s},f)=>{const{controlId:h}=Te.useContext(ls);return r=An(r,"form-select"),Re.jsx("select",{...s,size:n,ref:f,className:fn(o,r,e&&`${r}-${e}`,l&&"is-valid",u&&"is-invalid"),id:c||h})});OE.displayName="FormSelect";const AE=Te.forwardRef(({bsPrefix:r,className:e,as:n="small",muted:o,...l},u)=>(r=An(r,"form-text"),Re.jsx(n,{...l,ref:u,className:fn(e,r,o&&"text-muted")})));AE.displayName="FormText";const TE=Te.forwardRef((r,e)=>Re.jsx(Vf,{...r,ref:e,type:"switch"}));TE.displayName="Switch";const KP=Object.assign(TE,{Input:Vf.Input,Label:Vf.Label}),jE=Te.forwardRef(({bsPrefix:r,className:e,children:n,controlId:o,label:l,...u},c)=>(r=An(r,"form-floating"),Re.jsxs(ym,{ref:c,className:fn(e,r),controlId:o,...u,children:[n,Re.jsx("label",{htmlFor:o,children:l})]})));jE.displayName="FloatingLabel";const QP={_ref:rs.any,validated:rs.bool,as:rs.elementType},mm=Te.forwardRef(({className:r,validated:e,as:n="form",...o},l)=>Re.jsx(n,{...o,ref:l,className:fn(r,e&&"was-validated")}));mm.displayName="Form";mm.propTypes=QP;const Mr=Object.assign(mm,{Group:ym,Control:GP,Floating:wE,Check:Vf,Switch:KP,Label:SE,Text:AE,Range:EE,Select:OE,FloatingLabel:jE});var ec=r=>r.type==="checkbox",ba=r=>r instanceof Date,Di=r=>r==null;const xE=r=>typeof r=="object";var qr=r=>!Di(r)&&!Array.isArray(r)&&xE(r)&&!ba(r),YP=r=>qr(r)&&r.target?ec(r.target)?r.target.checked:r.target.value:r,WP=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,XP=(r,e)=>r.has(WP(e)),JP=r=>{const e=r.constructor&&r.constructor.prototype;return qr(e)&&e.hasOwnProperty("isPrototypeOf")},gm=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function io(r){let e;const n=Array.isArray(r),o=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)e=new Date(r);else if(r instanceof Set)e=new Set(r);else if(!(gm&&(r instanceof Blob||o))&&(n||qr(r)))if(e=n?[]:{},!n&&!JP(r))e=r;else for(const l in r)r.hasOwnProperty(l)&&(e[l]=io(r[l]));else return r;return e}var mh=r=>Array.isArray(r)?r.filter(Boolean):[],Yr=r=>r===void 0,Vt=(r,e,n)=>{if(!e||!qr(r))return n;const o=mh(e.split(/[,[\].]+?/)).reduce((l,u)=>Di(l)?l:l[u],r);return Yr(o)||o===r?Yr(r[e])?n:r[e]:o},Ao=r=>typeof r=="boolean",vm=r=>/^\w*$/.test(r),$E=r=>mh(r.replace(/["|']|\]/g,"").split(/\.|\[/)),Sr=(r,e,n)=>{let o=-1;const l=vm(e)?[e]:$E(e),u=l.length,c=u-1;for(;++o<u;){const s=l[o];let f=n;if(o!==c){const h=r[s];f=qr(h)||Array.isArray(h)?h:isNaN(+l[o+1])?{}:[]}if(s==="__proto__"||s==="constructor"||s==="prototype")return;r[s]=f,r=r[s]}return r};const y0={BLUR:"blur",FOCUS_OUT:"focusout"},po={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Xo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};kr.createContext(null);var ZP=(r,e,n,o=!0)=>{const l={defaultValues:e._defaultValues};for(const u in r)Object.defineProperty(l,u,{get:()=>{const c=u;return e._proxyFormState[c]!==po.all&&(e._proxyFormState[c]=!o||po.all),r[c]}});return l},Mi=r=>qr(r)&&!Object.keys(r).length,eD=(r,e,n,o)=>{n(r);const{name:l,...u}=r;return Mi(u)||Object.keys(u).length>=Object.keys(e).length||Object.keys(u).find(c=>e[c]===po.all)},yf=r=>Array.isArray(r)?r:[r];function tD(r){const e=kr.useRef(r);e.current=r,kr.useEffect(()=>{const n=!r.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[r.disabled])}var xo=r=>typeof r=="string",nD=(r,e,n,o,l)=>xo(r)?(o&&e.watch.add(r),Vt(n,r,l)):Array.isArray(r)?r.map(u=>(o&&e.watch.add(u),Vt(n,u))):(o&&(e.watchAll=!0),n),rD=(r,e,n,o,l)=>e?{...n[r],types:{...n[r]&&n[r].types?n[r].types:{},[o]:l||!0}}:{},m0=r=>({isOnSubmit:!r||r===po.onSubmit,isOnBlur:r===po.onBlur,isOnChange:r===po.onChange,isOnAll:r===po.all,isOnTouch:r===po.onTouched}),g0=(r,e,n)=>!n&&(e.watchAll||e.watch.has(r)||[...e.watch].some(o=>r.startsWith(o)&&/^\.\w+/.test(r.slice(o.length))));const Dl=(r,e,n,o)=>{for(const l of n||Object.keys(r)){const u=Vt(r,l);if(u){const{_f:c,...s}=u;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],l)&&!o)return!0;if(c.ref&&e(c.ref,c.name)&&!o)return!0;if(Dl(s,e))break}else if(qr(s)&&Dl(s,e))break}}};var iD=(r,e,n)=>{const o=yf(Vt(r,n));return Sr(o,"root",e[n]),Sr(r,n,o),r},bm=r=>r.type==="file",jo=r=>typeof r=="function",Bf=r=>{if(!gm)return!1;const e=r?r.ownerDocument:0;return r instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},mf=r=>xo(r),_m=r=>r.type==="radio",Uf=r=>r instanceof RegExp;const v0={value:!1,isValid:!1},b0={value:!0,isValid:!0};var RE=r=>{if(Array.isArray(r)){if(r.length>1){const e=r.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!Yr(r[0].attributes.value)?Yr(r[0].value)||r[0].value===""?b0:{value:r[0].value,isValid:!0}:b0:v0}return v0};const _0={isValid:!1,value:null};var PE=r=>Array.isArray(r)?r.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,_0):_0;function w0(r,e,n="validate"){if(mf(r)||Array.isArray(r)&&r.every(mf)||Ao(r)&&!r)return{type:n,message:mf(r)?r:"",ref:e}}var tu=r=>qr(r)&&!Uf(r)?r:{value:r,message:""},S0=async(r,e,n,o,l,u)=>{const{ref:c,refs:s,required:f,maxLength:h,minLength:m,min:j,max:b,pattern:R,validate:d,name:_,valueAsNumber:$,mount:g}=r._f,S=Vt(n,_);if(!g||e.has(_))return{};const x=s?s[0]:c,A=I=>{l&&x.reportValidity&&(x.setCustomValidity(Ao(I)?"":I||""),x.reportValidity())},T={},C=_m(c),w=ec(c),v=C||w,E=($||bm(c))&&Yr(c.value)&&Yr(S)||Bf(c)&&c.value===""||S===""||Array.isArray(S)&&!S.length,N=rD.bind(null,_,o,T),P=(I,B,ee,Z=Xo.maxLength,te=Xo.minLength)=>{const re=I?B:ee;T[_]={type:I?Z:te,message:re,ref:c,...N(I?Z:te,re)}};if(u?!Array.isArray(S)||!S.length:f&&(!v&&(E||Di(S))||Ao(S)&&!S||w&&!RE(s).isValid||C&&!PE(s).isValid)){const{value:I,message:B}=mf(f)?{value:!!f,message:f}:tu(f);if(I&&(T[_]={type:Xo.required,message:B,ref:x,...N(Xo.required,B)},!o))return A(B),T}if(!E&&(!Di(j)||!Di(b))){let I,B;const ee=tu(b),Z=tu(j);if(!Di(S)&&!isNaN(S)){const te=c.valueAsNumber||S&&+S;Di(ee.value)||(I=te>ee.value),Di(Z.value)||(B=te<Z.value)}else{const te=c.valueAsDate||new Date(S),re=F=>new Date(new Date().toDateString()+" "+F),ce=c.type=="time",ge=c.type=="week";xo(ee.value)&&S&&(I=ce?re(S)>re(ee.value):ge?S>ee.value:te>new Date(ee.value)),xo(Z.value)&&S&&(B=ce?re(S)<re(Z.value):ge?S<Z.value:te<new Date(Z.value))}if((I||B)&&(P(!!I,ee.message,Z.message,Xo.max,Xo.min),!o))return A(T[_].message),T}if((h||m)&&!E&&(xo(S)||u&&Array.isArray(S))){const I=tu(h),B=tu(m),ee=!Di(I.value)&&S.length>+I.value,Z=!Di(B.value)&&S.length<+B.value;if((ee||Z)&&(P(ee,I.message,B.message),!o))return A(T[_].message),T}if(R&&!E&&xo(S)){const{value:I,message:B}=tu(R);if(Uf(I)&&!S.match(I)&&(T[_]={type:Xo.pattern,message:B,ref:c,...N(Xo.pattern,B)},!o))return A(B),T}if(d){if(jo(d)){const I=await d(S,n),B=w0(I,x);if(B&&(T[_]={...B,...N(Xo.validate,B.message)},!o))return A(B.message),T}else if(qr(d)){let I={};for(const B in d){if(!Mi(I)&&!o)break;const ee=w0(await d[B](S,n),x,B);ee&&(I={...ee,...N(B,ee.message)},A(ee.message),o&&(T[_]=I))}if(!Mi(I)&&(T[_]={ref:x,...I},!o))return T}}return A(!0),T};function oD(r,e){const n=e.slice(0,-1).length;let o=0;for(;o<n;)r=Yr(r)?o++:r[e[o++]];return r}function sD(r){for(const e in r)if(r.hasOwnProperty(e)&&!Yr(r[e]))return!1;return!0}function ii(r,e){const n=Array.isArray(e)?e:vm(e)?[e]:$E(e),o=n.length===1?r:oD(r,n),l=n.length-1,u=n[l];return o&&delete o[u],l!==0&&(qr(o)&&Mi(o)||Array.isArray(o)&&sD(o))&&ii(r,n.slice(0,-1)),r}var Dd=()=>{let r=[];return{get observers(){return r},next:l=>{for(const u of r)u.next&&u.next(l)},subscribe:l=>(r.push(l),{unsubscribe:()=>{r=r.filter(u=>u!==l)}}),unsubscribe:()=>{r=[]}}},fy=r=>Di(r)||!xE(r);function Ns(r,e){if(fy(r)||fy(e))return r===e;if(ba(r)&&ba(e))return r.getTime()===e.getTime();const n=Object.keys(r),o=Object.keys(e);if(n.length!==o.length)return!1;for(const l of n){const u=r[l];if(!o.includes(l))return!1;if(l!=="ref"){const c=e[l];if(ba(u)&&ba(c)||qr(u)&&qr(c)||Array.isArray(u)&&Array.isArray(c)?!Ns(u,c):u!==c)return!1}}return!0}var DE=r=>r.type==="select-multiple",aD=r=>_m(r)||ec(r),Nd=r=>Bf(r)&&r.isConnected,NE=r=>{for(const e in r)if(jo(r[e]))return!0;return!1};function Lf(r,e={}){const n=Array.isArray(r);if(qr(r)||n)for(const o in r)Array.isArray(r[o])||qr(r[o])&&!NE(r[o])?(e[o]=Array.isArray(r[o])?[]:{},Lf(r[o],e[o])):Di(r[o])||(e[o]=!0);return e}function CE(r,e,n){const o=Array.isArray(r);if(qr(r)||o)for(const l in r)Array.isArray(r[l])||qr(r[l])&&!NE(r[l])?Yr(e)||fy(n[l])?n[l]=Array.isArray(r[l])?Lf(r[l],[]):{...Lf(r[l])}:CE(r[l],Di(e)?{}:e[l],n[l]):n[l]=!Ns(r[l],e[l]);return n}var _l=(r,e)=>CE(r,e,Lf(e)),IE=(r,{valueAsNumber:e,valueAsDate:n,setValueAs:o})=>Yr(r)?r:e?r===""?NaN:r&&+r:n&&xo(r)?new Date(r):o?o(r):r;function Cd(r){const e=r.ref;return bm(e)?e.files:_m(e)?PE(r.refs).value:DE(e)?[...e.selectedOptions].map(({value:n})=>n):ec(e)?RE(r.refs).value:IE(Yr(e.value)?r.ref.value:e.value,r)}var uD=(r,e,n,o)=>{const l={};for(const u of r){const c=Vt(e,u);c&&Sr(l,u,c._f)}return{criteriaMode:n,names:[...r],fields:l,shouldUseNativeValidation:o}},wl=r=>Yr(r)?r:Uf(r)?r.source:qr(r)?Uf(r.value)?r.value.source:r.value:r;const E0="AsyncFunction";var lD=r=>!!r&&!!r.validate&&!!(jo(r.validate)&&r.validate.constructor.name===E0||qr(r.validate)&&Object.values(r.validate).find(e=>e.constructor.name===E0)),cD=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate);function O0(r,e,n){const o=Vt(r,n);if(o||vm(n))return{error:o,name:n};const l=n.split(".");for(;l.length;){const u=l.join("."),c=Vt(e,u),s=Vt(r,u);if(c&&!Array.isArray(c)&&n!==u)return{name:n};if(s&&s.type)return{name:u,error:s};l.pop()}return{name:n}}var fD=(r,e,n,o,l)=>l.isOnAll?!1:!n&&l.isOnTouch?!(e||r):(n?o.isOnBlur:l.isOnBlur)?!r:(n?o.isOnChange:l.isOnChange)?r:!0,hD=(r,e)=>!mh(Vt(r,e)).length&&ii(r,e);const pD={mode:po.onSubmit,reValidateMode:po.onChange,shouldFocusError:!0};function dD(r={}){let e={...pD,...r},n={submitCount:0,isDirty:!1,isLoading:jo(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},o={},l=qr(e.defaultValues)||qr(e.values)?io(e.defaultValues||e.values)||{}:{},u=e.shouldUnregister?{}:io(l),c={action:!1,mount:!1,watch:!1},s={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,h=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},j={values:Dd(),array:Dd(),state:Dd()},b=m0(e.mode),R=m0(e.reValidateMode),d=e.criteriaMode===po.all,_=le=>pe=>{clearTimeout(h),h=setTimeout(le,pe)},$=async le=>{if(!e.disabled&&(m.isValid||le)){const pe=e.resolver?Mi((await v()).errors):await N(o,!0);pe!==n.isValid&&j.state.next({isValid:pe})}},g=(le,pe)=>{!e.disabled&&(m.isValidating||m.validatingFields)&&((le||Array.from(s.mount)).forEach(Ae=>{Ae&&(pe?Sr(n.validatingFields,Ae,pe):ii(n.validatingFields,Ae))}),j.state.next({validatingFields:n.validatingFields,isValidating:!Mi(n.validatingFields)}))},S=(le,pe=[],Ae,K,ie=!0,ye=!0)=>{if(K&&Ae&&!e.disabled){if(c.action=!0,ye&&Array.isArray(Vt(o,le))){const je=Ae(Vt(o,le),K.argA,K.argB);ie&&Sr(o,le,je)}if(ye&&Array.isArray(Vt(n.errors,le))){const je=Ae(Vt(n.errors,le),K.argA,K.argB);ie&&Sr(n.errors,le,je),hD(n.errors,le)}if(m.touchedFields&&ye&&Array.isArray(Vt(n.touchedFields,le))){const je=Ae(Vt(n.touchedFields,le),K.argA,K.argB);ie&&Sr(n.touchedFields,le,je)}m.dirtyFields&&(n.dirtyFields=_l(l,u)),j.state.next({name:le,isDirty:I(le,pe),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Sr(u,le,pe)},x=(le,pe)=>{Sr(n.errors,le,pe),j.state.next({errors:n.errors})},A=le=>{n.errors=le,j.state.next({errors:n.errors,isValid:!1})},T=(le,pe,Ae,K)=>{const ie=Vt(o,le);if(ie){const ye=Vt(u,le,Yr(Ae)?Vt(l,le):Ae);Yr(ye)||K&&K.defaultChecked||pe?Sr(u,le,pe?ye:Cd(ie._f)):Z(le,ye),c.mount&&$()}},C=(le,pe,Ae,K,ie)=>{let ye=!1,je=!1;const de={name:le};if(!e.disabled){const De=!!(Vt(o,le)&&Vt(o,le)._f&&Vt(o,le)._f.disabled);if(!Ae||K){m.isDirty&&(je=n.isDirty,n.isDirty=de.isDirty=I(),ye=je!==de.isDirty);const He=De||Ns(Vt(l,le),pe);je=!!(!De&&Vt(n.dirtyFields,le)),He||De?ii(n.dirtyFields,le):Sr(n.dirtyFields,le,!0),de.dirtyFields=n.dirtyFields,ye=ye||m.dirtyFields&&je!==!He}if(Ae){const He=Vt(n.touchedFields,le);He||(Sr(n.touchedFields,le,Ae),de.touchedFields=n.touchedFields,ye=ye||m.touchedFields&&He!==Ae)}ye&&ie&&j.state.next(de)}return ye?de:{}},w=(le,pe,Ae,K)=>{const ie=Vt(n.errors,le),ye=m.isValid&&Ao(pe)&&n.isValid!==pe;if(e.delayError&&Ae?(f=_(()=>x(le,Ae)),f(e.delayError)):(clearTimeout(h),f=null,Ae?Sr(n.errors,le,Ae):ii(n.errors,le)),(Ae?!Ns(ie,Ae):ie)||!Mi(K)||ye){const je={...K,...ye&&Ao(pe)?{isValid:pe}:{},errors:n.errors,name:le};n={...n,...je},j.state.next(je)}},v=async le=>{g(le,!0);const pe=await e.resolver(u,e.context,uD(le||s.mount,o,e.criteriaMode,e.shouldUseNativeValidation));return g(le),pe},E=async le=>{const{errors:pe}=await v(le);if(le)for(const Ae of le){const K=Vt(pe,Ae);K?Sr(n.errors,Ae,K):ii(n.errors,Ae)}else n.errors=pe;return pe},N=async(le,pe,Ae={valid:!0})=>{for(const K in le){const ie=le[K];if(ie){const{_f:ye,...je}=ie;if(ye){const de=s.array.has(ye.name),De=ie._f&&lD(ie._f);De&&m.validatingFields&&g([K],!0);const He=await S0(ie,s.disabled,u,d,e.shouldUseNativeValidation&&!pe,de);if(De&&m.validatingFields&&g([K]),He[ye.name]&&(Ae.valid=!1,pe))break;!pe&&(Vt(He,ye.name)?de?iD(n.errors,He,ye.name):Sr(n.errors,ye.name,He[ye.name]):ii(n.errors,ye.name))}!Mi(je)&&await N(je,pe,Ae)}}return Ae.valid},P=()=>{for(const le of s.unMount){const pe=Vt(o,le);pe&&(pe._f.refs?pe._f.refs.every(Ae=>!Nd(Ae)):!Nd(pe._f.ref))&&q(le)}s.unMount=new Set},I=(le,pe)=>!e.disabled&&(le&&pe&&Sr(u,le,pe),!Ns(V(),l)),B=(le,pe,Ae)=>nD(le,s,{...c.mount?u:Yr(pe)?l:xo(le)?{[le]:pe}:pe},Ae,pe),ee=le=>mh(Vt(c.mount?u:l,le,e.shouldUnregister?Vt(l,le,[]):[])),Z=(le,pe,Ae={})=>{const K=Vt(o,le);let ie=pe;if(K){const ye=K._f;ye&&(!ye.disabled&&Sr(u,le,IE(pe,ye)),ie=Bf(ye.ref)&&Di(pe)?"":pe,DE(ye.ref)?[...ye.ref.options].forEach(je=>je.selected=ie.includes(je.value)):ye.refs?ec(ye.ref)?ye.refs.length>1?ye.refs.forEach(je=>(!je.defaultChecked||!je.disabled)&&(je.checked=Array.isArray(ie)?!!ie.find(de=>de===je.value):ie===je.value)):ye.refs[0]&&(ye.refs[0].checked=!!ie):ye.refs.forEach(je=>je.checked=je.value===ie):bm(ye.ref)?ye.ref.value="":(ye.ref.value=ie,ye.ref.type||j.values.next({name:le,values:{...u}})))}(Ae.shouldDirty||Ae.shouldTouch)&&C(le,ie,Ae.shouldTouch,Ae.shouldDirty,!0),Ae.shouldValidate&&F(le)},te=(le,pe,Ae)=>{for(const K in pe){const ie=pe[K],ye=`${le}.${K}`,je=Vt(o,ye);(s.array.has(le)||qr(ie)||je&&!je._f)&&!ba(ie)?te(ye,ie,Ae):Z(ye,ie,Ae)}},re=(le,pe,Ae={})=>{const K=Vt(o,le),ie=s.array.has(le),ye=io(pe);Sr(u,le,ye),ie?(j.array.next({name:le,values:{...u}}),(m.isDirty||m.dirtyFields)&&Ae.shouldDirty&&j.state.next({name:le,dirtyFields:_l(l,u),isDirty:I(le,ye)})):K&&!K._f&&!Di(ye)?te(le,ye,Ae):Z(le,ye,Ae),g0(le,s)&&j.state.next({...n}),j.values.next({name:c.mount?le:void 0,values:{...u}})},ce=async le=>{c.mount=!0;const pe=le.target;let Ae=pe.name,K=!0;const ie=Vt(o,Ae),ye=()=>pe.type?Cd(ie._f):YP(le),je=de=>{K=Number.isNaN(de)||ba(de)&&isNaN(de.getTime())||Ns(de,Vt(u,Ae,de))};if(ie){let de,De;const He=ye(),Ve=le.type===y0.BLUR||le.type===y0.FOCUS_OUT,ke=!cD(ie._f)&&!e.resolver&&!Vt(n.errors,Ae)&&!ie._f.deps||fD(Ve,Vt(n.touchedFields,Ae),n.isSubmitted,R,b),Je=g0(Ae,s,Ve);Sr(u,Ae,He),Ve?(ie._f.onBlur&&ie._f.onBlur(le),f&&f(0)):ie._f.onChange&&ie._f.onChange(le);const Ue=C(Ae,He,Ve,!1),tt=!Mi(Ue)||Je;if(!Ve&&j.values.next({name:Ae,type:le.type,values:{...u}}),ke)return m.isValid&&(e.mode==="onBlur"&&Ve?$():Ve||$()),tt&&j.state.next({name:Ae,...Je?{}:Ue});if(!Ve&&Je&&j.state.next({...n}),e.resolver){const{errors:xt}=await v([Ae]);if(je(He),K){const Tt=O0(n.errors,o,Ae),It=O0(xt,o,Tt.name||Ae);de=It.error,Ae=It.name,De=Mi(xt)}}else g([Ae],!0),de=(await S0(ie,s.disabled,u,d,e.shouldUseNativeValidation))[Ae],g([Ae]),je(He),K&&(de?De=!1:m.isValid&&(De=await N(o,!0)));K&&(ie._f.deps&&F(ie._f.deps),w(Ae,De,de,Ue))}},ge=(le,pe)=>{if(Vt(n.errors,pe)&&le.focus)return le.focus(),1},F=async(le,pe={})=>{let Ae,K;const ie=yf(le);if(e.resolver){const ye=await E(Yr(le)?le:ie);Ae=Mi(ye),K=le?!ie.some(je=>Vt(ye,je)):Ae}else le?(K=(await Promise.all(ie.map(async ye=>{const je=Vt(o,ye);return await N(je&&je._f?{[ye]:je}:je)}))).every(Boolean),!(!K&&!n.isValid)&&$()):K=Ae=await N(o);return j.state.next({...!xo(le)||m.isValid&&Ae!==n.isValid?{}:{name:le},...e.resolver||!le?{isValid:Ae}:{},errors:n.errors}),pe.shouldFocus&&!K&&Dl(o,ge,le?ie:s.mount),K},V=le=>{const pe={...c.mount?u:l};return Yr(le)?pe:xo(le)?Vt(pe,le):le.map(Ae=>Vt(pe,Ae))},H=(le,pe)=>({invalid:!!Vt((pe||n).errors,le),isDirty:!!Vt((pe||n).dirtyFields,le),error:Vt((pe||n).errors,le),isValidating:!!Vt(n.validatingFields,le),isTouched:!!Vt((pe||n).touchedFields,le)}),W=le=>{le&&yf(le).forEach(pe=>ii(n.errors,pe)),j.state.next({errors:le?n.errors:{}})},z=(le,pe,Ae)=>{const K=(Vt(o,le,{_f:{}})._f||{}).ref,ie=Vt(n.errors,le)||{},{ref:ye,message:je,type:de,...De}=ie;Sr(n.errors,le,{...De,...pe,ref:K}),j.state.next({name:le,errors:n.errors,isValid:!1}),Ae&&Ae.shouldFocus&&K&&K.focus&&K.focus()},M=(le,pe)=>jo(le)?j.values.subscribe({next:Ae=>le(B(void 0,pe),Ae)}):B(le,pe,!0),q=(le,pe={})=>{for(const Ae of le?yf(le):s.mount)s.mount.delete(Ae),s.array.delete(Ae),pe.keepValue||(ii(o,Ae),ii(u,Ae)),!pe.keepError&&ii(n.errors,Ae),!pe.keepDirty&&ii(n.dirtyFields,Ae),!pe.keepTouched&&ii(n.touchedFields,Ae),!pe.keepIsValidating&&ii(n.validatingFields,Ae),!e.shouldUnregister&&!pe.keepDefaultValue&&ii(l,Ae);j.values.next({values:{...u}}),j.state.next({...n,...pe.keepDirty?{isDirty:I()}:{}}),!pe.keepIsValid&&$()},ne=({disabled:le,name:pe,field:Ae,fields:K})=>{(Ao(le)&&c.mount||le||s.disabled.has(pe))&&(le?s.disabled.add(pe):s.disabled.delete(pe),C(pe,Cd(Ae?Ae._f:Vt(K,pe)._f),!1,!1,!0))},fe=(le,pe={})=>{let Ae=Vt(o,le);const K=Ao(pe.disabled)||Ao(e.disabled);return Sr(o,le,{...Ae||{},_f:{...Ae&&Ae._f?Ae._f:{ref:{name:le}},name:le,mount:!0,...pe}}),s.mount.add(le),Ae?ne({field:Ae,disabled:Ao(pe.disabled)?pe.disabled:e.disabled,name:le}):T(le,!0,pe.value),{...K?{disabled:pe.disabled||e.disabled}:{},...e.progressive?{required:!!pe.required,min:wl(pe.min),max:wl(pe.max),minLength:wl(pe.minLength),maxLength:wl(pe.maxLength),pattern:wl(pe.pattern)}:{},name:le,onChange:ce,onBlur:ce,ref:ie=>{if(ie){fe(le,pe),Ae=Vt(o,le);const ye=Yr(ie.value)&&ie.querySelectorAll&&ie.querySelectorAll("input,select,textarea")[0]||ie,je=aD(ye),de=Ae._f.refs||[];if(je?de.find(De=>De===ye):ye===Ae._f.ref)return;Sr(o,le,{_f:{...Ae._f,...je?{refs:[...de.filter(Nd),ye,...Array.isArray(Vt(l,le))?[{}]:[]],ref:{type:ye.type,name:le}}:{ref:ye}}}),T(le,!1,void 0,ye)}else Ae=Vt(o,le,{}),Ae._f&&(Ae._f.mount=!1),(e.shouldUnregister||pe.shouldUnregister)&&!(XP(s.array,le)&&c.action)&&s.unMount.add(le)}}},ve=()=>e.shouldFocusError&&Dl(o,ge,s.mount),we=le=>{Ao(le)&&(j.state.next({disabled:le}),Dl(o,(pe,Ae)=>{const K=Vt(o,Ae);K&&(pe.disabled=K._f.disabled||le,Array.isArray(K._f.refs)&&K._f.refs.forEach(ie=>{ie.disabled=K._f.disabled||le}))},0,!1))},me=(le,pe)=>async Ae=>{let K;Ae&&(Ae.preventDefault&&Ae.preventDefault(),Ae.persist&&Ae.persist());let ie=io(u);if(s.disabled.size)for(const ye of s.disabled)Sr(ie,ye,void 0);if(j.state.next({isSubmitting:!0}),e.resolver){const{errors:ye,values:je}=await v();n.errors=ye,ie=je}else await N(o);if(ii(n.errors,"root"),Mi(n.errors)){j.state.next({errors:{}});try{await le(ie,Ae)}catch(ye){K=ye}}else pe&&await pe({...n.errors},Ae),ve(),setTimeout(ve);if(j.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mi(n.errors)&&!K,submitCount:n.submitCount+1,errors:n.errors}),K)throw K},ue=(le,pe={})=>{Vt(o,le)&&(Yr(pe.defaultValue)?re(le,io(Vt(l,le))):(re(le,pe.defaultValue),Sr(l,le,io(pe.defaultValue))),pe.keepTouched||ii(n.touchedFields,le),pe.keepDirty||(ii(n.dirtyFields,le),n.isDirty=pe.defaultValue?I(le,io(Vt(l,le))):I()),pe.keepError||(ii(n.errors,le),m.isValid&&$()),j.state.next({...n}))},_e=(le,pe={})=>{const Ae=le?io(le):l,K=io(Ae),ie=Mi(le),ye=ie?l:K;if(pe.keepDefaultValues||(l=Ae),!pe.keepValues){if(pe.keepDirtyValues){const je=new Set([...s.mount,...Object.keys(_l(l,u))]);for(const de of Array.from(je))Vt(n.dirtyFields,de)?Sr(ye,de,Vt(u,de)):re(de,Vt(ye,de))}else{if(gm&&Yr(le))for(const je of s.mount){const de=Vt(o,je);if(de&&de._f){const De=Array.isArray(de._f.refs)?de._f.refs[0]:de._f.ref;if(Bf(De)){const He=De.closest("form");if(He){He.reset();break}}}}o={}}u=e.shouldUnregister?pe.keepDefaultValues?io(l):{}:io(ye),j.array.next({values:{...ye}}),j.values.next({values:{...ye}})}s={mount:pe.keepDirtyValues?s.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!m.isValid||!!pe.keepIsValid||!!pe.keepDirtyValues,c.watch=!!e.shouldUnregister,j.state.next({submitCount:pe.keepSubmitCount?n.submitCount:0,isDirty:ie?!1:pe.keepDirty?n.isDirty:!!(pe.keepDefaultValues&&!Ns(le,l)),isSubmitted:pe.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ie?{}:pe.keepDirtyValues?pe.keepDefaultValues&&u?_l(l,u):n.dirtyFields:pe.keepDefaultValues&&le?_l(l,le):pe.keepDirty?n.dirtyFields:{},touchedFields:pe.keepTouched?n.touchedFields:{},errors:pe.keepErrors?n.errors:{},isSubmitSuccessful:pe.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},L=(le,pe)=>_e(jo(le)?le(u):le,pe);return{control:{register:fe,unregister:q,getFieldState:H,handleSubmit:me,setError:z,_executeSchema:v,_getWatch:B,_getDirty:I,_updateValid:$,_removeUnmounted:P,_updateFieldArray:S,_updateDisabledField:ne,_getFieldArray:ee,_reset:_e,_resetDefaultValues:()=>jo(e.defaultValues)&&e.defaultValues().then(le=>{L(le,e.resetOptions),j.state.next({isLoading:!1})}),_updateFormState:le=>{n={...n,...le}},_disableForm:we,_subjects:j,_proxyFormState:m,_setErrors:A,get _fields(){return o},get _formValues(){return u},get _state(){return c},set _state(le){c=le},get _defaultValues(){return l},get _names(){return s},set _names(le){s=le},get _formState(){return n},set _formState(le){n=le},get _options(){return e},set _options(le){e={...e,...le}}},trigger:F,register:fe,handleSubmit:me,watch:M,setValue:re,getValues:V,reset:L,resetField:ue,clearErrors:W,unregister:q,setError:z,setFocus:(le,pe={})=>{const Ae=Vt(o,le),K=Ae&&Ae._f;if(K){const ie=K.refs?K.refs[0]:K.ref;ie.focus&&(ie.focus(),pe.shouldSelect&&jo(ie.select)&&ie.select())}},getFieldState:H}}function yD(r={}){const e=kr.useRef(void 0),n=kr.useRef(void 0),[o,l]=kr.useState({isDirty:!1,isValidating:!1,isLoading:jo(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,defaultValues:jo(r.defaultValues)?void 0:r.defaultValues});e.current||(e.current={...dD(r),formState:o});const u=e.current.control;return u._options=r,tD({subject:u._subjects.state,next:c=>{eD(c,u._proxyFormState,u._updateFormState)&&l({...u._formState})}}),kr.useEffect(()=>u._disableForm(r.disabled),[u,r.disabled]),kr.useEffect(()=>{if(u._proxyFormState.isDirty){const c=u._getDirty();c!==o.isDirty&&u._subjects.state.next({isDirty:c})}},[u,o.isDirty]),kr.useEffect(()=>{r.values&&!Ns(r.values,n.current)?(u._reset(r.values,u._options.resetOptions),n.current=r.values,l(c=>({...c}))):u._resetDefaultValues()},[r.values,u]),kr.useEffect(()=>{r.errors&&u._setErrors(r.errors)},[r.errors,u]),kr.useEffect(()=>{u._state.mount||(u._updateValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),kr.useEffect(()=>{r.shouldUnregister&&u._subjects.values.next({values:u._getWatch()})},[r.shouldUnregister,u]),e.current.formState=ZP(o,u),e.current}function mD(){const r=zf(),{register:e,handleSubmit:n}=yD(),o=Te.useRef(),[l,u]=Te.useState([]);async function c(){const h=va($r,"departments"),m=ql(h),j=await zl(m);u([]);let b=[];j.forEach(R=>{b=[...b,R.data().key]}),u(b)}Te.useEffect(()=>{c()},[]);async function s(){const h=va($r,"departments"),m=ql(h,yP("key","==",o.current.value));(await zl(m)).empty&&o.current.value.trim()!=""&&(await l0(va($r,"departments"),{key:o.current.value.trim()}),c()),o.current.value=""}async function f(h){console.log("Works"),await l0(va($r,"projects"),{...h}),r("/")}return Re.jsx(Re.Fragment,{children:Re.jsxs(au,{children:[Re.jsxs(oo,{expand:"lg",className:"bg-body-tertiary glass-navbar",children:[Re.jsx(oo.Brand,{className:"brand-gradient",style:{marginLeft:"20px"},children:"MTU Excel Project"}),Re.jsx(oo.Toggle,{"aria-controls":"basic-navbar-nav"}),Re.jsx(oo.Collapse,{id:"basic-navbar-nav"})]}),Re.jsx(To,{className:"back-button",variant:"outline-secondary",style:{margin:"24px 0 12px 0",borderRadius:8,color:"#b4845c",borderColor:"#b4845c",fontWeight:600},onClick:()=>r("/"),children:" Back to Home"}),Re.jsxs("div",{className:"glass-card",style:{margin:"40px auto",maxWidth:700,borderRadius:18,boxShadow:"0 4px 24px #e9edc9cc",background:"#fff",padding:"40px 36px 32px 36px"},children:[Re.jsx("h2",{style:{textAlign:"center",fontWeight:700,letterSpacing:1,color:"#b4845c",marginBottom:32},children:"Create a Project"}),Re.jsxs(Mr,{onSubmit:n(f),children:[Re.jsxs(Jo,{className:"mb-3",children:[Re.jsxs(Mr.Group,{as:Lr,controlId:"formGridEmail",children:[Re.jsx(Mr.Label,{style:{fontWeight:600,color:"#b4845c"},children:"Name Of The Project"}),Re.jsx(Mr.Control,{type:"text",placeholder:"MDM 2020",...e("NameOfTheProject"),required:!0,className:"dev-input",style:{background:"#fefae0",border:"1.5px solid #faedcd",borderRadius:8,color:"#b4845c",fontWeight:600}})]}),Re.jsxs(Mr.Group,{as:Lr,controlId:"formGridPassword",children:[Re.jsx(Mr.Label,{style:{fontWeight:600,color:"#b4845c"},children:"Remarks"}),Re.jsx(Mr.Control,{type:"text",placeholder:"Ongoing",...e("Remarks"),required:!0,className:"dev-input",style:{background:"#fefae0",border:"1.5px solid #faedcd",borderRadius:8,color:"#b4845c",fontWeight:600}})]})]}),Re.jsxs(Mr.Group,{className:"mb-3",controlId:"formGridAddress1",children:[Re.jsx(Mr.Label,{style:{fontWeight:600,color:"#b4845c"},children:"PSP MUC"}),Re.jsx(Mr.Control,{type:"number",placeholder:"3000707016",...e("PSPMUC"),required:!0,className:"dev-input",style:{background:"#fefae0",border:"1.5px solid #faedcd",borderRadius:8,color:"#b4845c",fontWeight:600}})]}),Re.jsxs(Mr.Group,{className:"mb-3",controlId:"formGridAddress2",children:[Re.jsx(Mr.Label,{style:{fontWeight:600,color:"#b4845c"},children:"PSP POL"}),Re.jsx(Mr.Control,{type:"number",placeholder:"5000100119",...e("PSPPOL"),required:!0,className:"dev-input",style:{background:"#fefae0",border:"1.5px solid #faedcd",borderRadius:8,color:"#b4845c",fontWeight:600}})]}),Re.jsxs(Jo,{className:"mb-3",children:[Re.jsxs(Mr.Group,{as:Lr,controlId:"formGridCity",className:"formDepartment",children:[Re.jsx(Mr.Label,{style:{fontWeight:600,color:"#b4845c"},children:"Cover Via"}),Re.jsxs("div",{style:{display:"flex",gap:10,marginBottom:10},children:[Re.jsx("input",{ref:o,type:"text",placeholder:"Add Department",className:"dev-input",style:{background:"#fff",border:"1.5px solid #faedcd",borderRadius:8,color:"#b4845c",fontWeight:600,padding:"8px 12px"}}),Re.jsx(To,{type:"button",onClick:h=>{s()},style:{borderRadius:8,background:"linear-gradient(90deg,#d4a373,#faedcd)",border:"none",fontWeight:700,color:"#fff",boxShadow:"0 2px 8px #e9edc9cc",padding:"8px 24px",fontSize:"1.08rem"},children:"Add"})]}),Re.jsxs(Mr.Select,{...e("COVERVIA"),required:!0,style:{background:"#fefae0",border:"1.5px solid #faedcd",borderRadius:8,color:"#b4845c",fontWeight:600},children:[Re.jsx("option",{value:"",children:"----------------------"}),l&&l.map((h,m)=>Re.jsx("option",{value:h,children:h},m))]})]}),Re.jsxs(Mr.Group,{as:Lr,controlId:"formGridState",children:[Re.jsx(Mr.Label,{style:{fontWeight:600,color:"#b4845c"},children:"State"}),Re.jsx(Mr.Control,{placeholder:"Ongoing",...e("State"),required:!0,className:"dev-input",style:{background:"#fefae0",border:"1.5px solid #faedcd",borderRadius:8,color:"#b4845c",fontWeight:600}})]}),Re.jsxs(Mr.Group,{as:Lr,controlId:"formGridZip",children:[Re.jsx(Mr.Label,{style:{fontWeight:600,color:"#b4845c"},children:"Sum (h)"}),Re.jsx(Mr.Control,{...e("Sum"),required:!0,type:"number",className:"dev-input",style:{background:"#fefae0",border:"1.5px solid #faedcd",borderRadius:8,color:"#b4845c",fontWeight:600}})]})]}),Re.jsx(To,{variant:"primary",type:"submit",style:{borderRadius:8,background:"linear-gradient(90deg,#d4a373,#faedcd)",border:"none",fontWeight:700,color:"#fff",boxShadow:"0 2px 8px #e9edc9cc",padding:"12px 0",fontSize:"1.1rem",width:"100%",marginTop:18},children:"Submit"})]})]})]})})}var gf={exports:{}};/*! For license information please see browser.umd.js.LICENSE.txt */var gD=gf.exports,A0;function vD(){return A0||(A0=1,function(r,e){(function(n,o){r.exports=o()})(typeof self<"u"?self:gD,()=>(()=>{var n={118:u=>{u.exports=function(c){return c!=c}},170:(u,c,s)=>{function f(N){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},f(N)}var h=s(3609),m=s(8995),j=s(7768),b=s(7236),R=new Set(["$and","$or"]),d=new Set(["$cmp","$eq","$lt","$lte","$gt","$gte"]),_=new Set(["$multiply","$divide","$log","$mod","$trunc","$avg","$max","$min","$stdDevPop","$stdDevSamp","$sum"]),$=new Set(["$abs","$exp","$ceil","$floor","$ln","$log10","$sqrt","$sin","$cos","$tan","$asin","$acos","$atan","$atan2","$asinh","$acosh","$atanh","$sinh","$cosh","$tanh","$degreesToRadians","$radiansToDegrees"]),g=new Set(["$arrayElemAt","$first","$last"]),S=new Set(["$year","$month","$week","$dayOfMonth","$dayOfYear","$hour","$minute","$second","$isoDayOfWeek","$isoWeekYear","$isoWeek","$millisecond"]),x=new Set(["$not"]);function A(N,P,I){if(v(N)||N===null)return N;N.$cond!=null?Array.isArray(N.$cond)?N.$cond=N.$cond.map(function(re){return A(re,P,I)}):(N.$cond.if=A(N.$cond.if,P,I),N.$cond.then=A(N.$cond.then,P,I),N.$cond.else=A(N.$cond.else,P,I)):N.$ifNull!=null?N.$ifNull.map(function(re){return A(re,P,I)}):N.$switch!=null&&(Array.isArray(N.$switch.branches)&&(N.$switch.branches=N.$switch.branches.map(function(re){return A(re,P,I)})),"default"in N.$switch&&(N.$switch.default=A(N.$switch.default,P,I)));for(var B=0,ee=Object.keys(N);B<ee.length;B++){var Z=ee[B];R.has(Z)?N[Z]=N[Z].map(function(re){return A(re,P,I)}):d.has(Z)?N[Z]=w(N[Z],P,I):_.has(Z)?N[Z]=C(N[Z]):$.has(Z)?N[Z]=T(N[Z]):x.has(Z)&&(N[Z]=A(N[Z],P,I))}if(N.$in&&(N.$in=function(re,ce,ge){var F=re[1];if(!v(F))return re;var V=re[0],H=ce.path(F.slice(1));if(H!==null){if(!H.$isMongooseArray)throw new Error("Path must be an array for $in");return[H.$isMongooseDocumentArray?H.$embeddedSchemaType.cast(V):H.caster.cast(V),F]}if(ge===!1)return re;if(ge==="throw")throw new m("$in")}(N.$in,P,I)),N.$size&&(N.$size=T(N.$size)),N.$round){var te=N.$round;if(!Array.isArray(te)||te.length<1||te.length>2)throw new h("Array",te,"$round");N.$round=te.map(function(re){return T(re)})}return b(N),N}function T(N){if(!E(N))return N;try{return j(N)}catch{throw new h("Number",N)}}function C(N){if(!Array.isArray(N)){if(!E(N))return N;try{return j(N)}catch{throw new h("Number",N)}}return N.map(function(P){if(!E(P))return P;try{return j(P)}catch{throw new h("Number",P)}})}function w(N,P,I){if(!Array.isArray(N)||N.length!==2)throw new Error("Comparison operator must be an array of length 2");N[0]=A(N[0],P,I);var B=N[0];if(E(N[1])){var ee=null,Z=null,te=null;if(v(B))ee=B.slice(1),Z=P.path(ee);else if(f(B)==="object"&&B!=null)for(var re=0,ce=Object.keys(B);re<ce.length;re++){var ge=ce[re];S.has(ge)&&v(B[ge])?(ee=B[ge].slice(1)+"."+ge,te=j):g.has(ge)&&v(B[ge])&&(ee=B[ge].slice(1)+"."+ge,(Z=P.path(B[ge].slice(1)))!=null&&(Z.$isMongooseDocumentArray?Z=Z.$embeddedSchemaType:Z.$isMongooseArray&&(Z=Z.caster)))}var F=f(N[1])==="object"&&N[1]!=null&&N[1].$literal!=null;if(Z!=null)N[1]=F?{$literal:Z.cast(N[1].$literal)}:Z.cast(N[1]);else if(te!=null)if(F)try{N[1]={$literal:te(N[1].$literal)}}catch{throw new h(te.name.replace(/^cast/,""),N[1],ee+".$literal")}else try{N[1]=te(N[1])}catch{throw new h(te.name.replace(/^cast/,""),N[1],ee)}else{if(ee!=null&&I===!0)return;if(ee!=null&&I==="throw")throw new m(ee)}}else N[1]=A(N[1]);return N}function v(N){return typeof N=="string"&&N[0]==="$"}function E(N){return!(typeof N=="string"&&N[0]==="$"||f(N)==="object"&&N!==null&&Object.keys(N).find(function(P){return P[0]==="$"})&&N.$literal==null)}u.exports=function(N,P,I){if(typeof N=="boolean")return N;if(f(N)!=="object"||N===null)throw new Error("`$expr` must be an object or boolean literal");return A(N,P,I)}},209:(u,c,s)=>{function f(b){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},f(b)}var h=s(2403),m=s(5825),j=s(6583);u.exports=h?function(b){return h(b)}:m?function(b){if(!b||f(b)!=="object"&&typeof b!="function")throw new TypeError("getProto: not an object");return m(b)}:j?function(b){return j(b)}:null},241:(u,c,s)=>{function f(d){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},f(d)}function h(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!d})()}function m(d){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},m(d)}function j(d,_){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,g){return $.__proto__=g,$},j(d,_)}var b=function(d){function _(){return function(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,_),function(g,S,x){return S=m(S),function(A,T){if(T&&(f(T)=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(A)}(g,h()?Reflect.construct(S,x||[],m(g).constructor):S.apply(g,x))}(this,_,arguments)}return function(g,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(S&&S.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),S&&j(g,S)}(_,d),$=_,Object.defineProperty($,"prototype",{writable:!1}),$;var $}(s(8879)),R=s(5761);Object.defineProperty(b.prototype,"of",R),u.exports=b},354:u=>{function c(R){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},c(R)}var s=1e3,f=60*s,h=60*f,m=24*h,j=7*m;function b(R,d,_,$){var g=d>=1.5*_;return Math.round(R/_)+" "+$+(g?"s":"")}u.exports=function(R,d){d=d||{};var _,$,g=c(R);if(g==="string"&&R.length>0)return function(S){if(!((S=String(S)).length>100)){var x=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(S);if(x){var A=parseFloat(x[1]);switch((x[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*A;case"weeks":case"week":case"w":return A*j;case"days":case"day":case"d":return A*m;case"hours":case"hour":case"hrs":case"hr":case"h":return A*h;case"minutes":case"minute":case"mins":case"min":case"m":return A*f;case"seconds":case"second":case"secs":case"sec":case"s":return A*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return A;default:return}}}}(R);if(g==="number"&&isFinite(R))return d.long?(_=R,($=Math.abs(_))>=m?b(_,$,m,"day"):$>=h?b(_,$,h,"hour"):$>=f?b(_,$,f,"minute"):$>=s?b(_,$,s,"second"):_+" ms"):function(S){var x=Math.abs(S);return x>=m?Math.round(S/m)+"d":x>=h?Math.round(S/h)+"h":x>=f?Math.round(S/f)+"m":x>=s?Math.round(S/s)+"s":S+"ms"}(R);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(R))}},433:(u,c,s)=>{function f(A){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},f(A)}function h(A,T){var C=Object.keys(A);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(A);T&&(w=w.filter(function(v){return Object.getOwnPropertyDescriptor(A,v).enumerable})),C.push.apply(C,w)}return C}function m(A){for(var T=1;T<arguments.length;T++){var C=arguments[T]!=null?arguments[T]:{};T%2?h(Object(C),!0).forEach(function(w){j(A,w,C[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(C)):h(Object(C)).forEach(function(w){Object.defineProperty(A,w,Object.getOwnPropertyDescriptor(C,w))})}return A}function j(A,T,C){return(T=function(w){var v=function(E){if(f(E)!="object"||!E)return E;var N=E[Symbol.toPrimitive];if(N!==void 0){var P=N.call(E,"string");if(f(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(w);return f(v)=="symbol"?v:v+""}(T))in A?Object.defineProperty(A,T,{value:C,enumerable:!0,configurable:!0,writable:!0}):A[T]=C,A}var b=s(3609),R=s(6426),d=s(5413),_=s(4327),$=s(9460);function g(A,T){R.call(this,A,T,"Int32")}g.schemaName="Int32",g.defaultOptions={},g.prototype=Object.create(R.prototype),g.prototype.constructor=g,g._cast=d,g.set=R.set,g.setters=[],g.get=R.get,g._defaultCaster=function(A){if(A!=null&&(typeof A!="number"||A!==(0|A)||A<-2147483648||A>2147483647))throw new Error;return A},g.cast=function(A){return arguments.length===0||(A===!1&&(A=this._defaultCaster),this._cast=A),this._cast},g._checkRequired=function(A){return A!=null},g.checkRequired=R.checkRequired,g.prototype.checkRequired=function(A){return this.constructor._checkRequired(A)},g.prototype.cast=function(A){var T;T=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():g.cast();try{return T(A)}catch(C){throw new b("Int32",A,this.path,C,this)}};var S=m(m({},R.prototype.$conditionalHandlers),{},{$gt:x,$gte:x,$lt:x,$lte:x,$bitsAllClear:$,$bitsAnyClear:$,$bitsAllSet:$,$bitsAnySet:$});function x(A,T){return this.castForQuery(null,A,T)}Object.defineProperty(g.prototype,"$conditionalHandlers",{enumerable:!1,value:S}),g.prototype.castForQuery=function(A,T,C){var w;if(A!=null)return(w=this.$conditionalHandlers[A])?w.call(this,T):this.applySetters(T,C);try{return this.applySetters(T,C)}catch(v){throw v instanceof b&&v.path===this.path&&this.$fullPath!=null&&(v.path=this.$fullPath),v}},g.prototype.toJSONSchema=function(A){var T=this.options.required&&typeof this.options.required!="function";return _("number","int",A==null?void 0:A.useBsonType,T)},g.prototype.autoEncryptionType=function(){return"int"},u.exports=g},486:u=>{u.exports=function(c){var s={_id:{auto:!0}};s._id[c.options.typeKey]="ObjectId",c.add(s)}},533:(u,c,s)=>{var f=s(8213),h=s(7352);u.exports=function(m,j){if(typeof m!="string"&&typeof m!="function")throw new f('Invalid ref at path "'+j+'". Got '+h.inspect(m,{depth:0}))}},542:u=>{function c(s){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},c(s)}u.exports=function(s){return!!s&&(c(s)==="object"||typeof s=="function")&&typeof s.then=="function"}},608:(u,c,s)=>{var f=s(5832).hp;u.exports=function(h){return f.isBuffer(h)||Object.prototype.toString.call(h)==="[object Object]"}},622:(u,c,s)=>{function f(d,_){var $=typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(!$){if(Array.isArray(d)||($=function(C,w){if(C){if(typeof C=="string")return h(C,w);var v={}.toString.call(C).slice(8,-1);return v==="Object"&&C.constructor&&(v=C.constructor.name),v==="Map"||v==="Set"?Array.from(C):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?h(C,w):void 0}}(d))||_){$&&(d=$);var g=0,S=function(){};return{s:S,n:function(){return g>=d.length?{done:!0}:{done:!1,value:d[g++]}},e:function(C){throw C},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x,A=!0,T=!1;return{s:function(){$=$.call(d)},n:function(){var C=$.next();return A=C.done,C},e:function(C){T=!0,x=C},f:function(){try{A||$.return==null||$.return()}finally{if(T)throw x}}}}function h(d,_){(_==null||_>d.length)&&(_=d.length);for(var $=0,g=Array(_);$<_;$++)g[$]=d[$];return g}var m=s(4009),j=s(8768),b=s(7930).modelSymbol;function R(d,_){this.path=_,this.getters=[],this.setters=[],this.options=Object.assign({},d)}R.prototype._applyDefaultGetters=function(){if(!(this.getters.length>0||this.setters.length>0)){var d="$"+this.path;this.getters.push(function(){return this.$locals[d]}),this.setters.push(function(_){this.$locals[d]=_})}},R.prototype.clone=function(){var d=new R(this.options,this.path);return d.getters=[].concat(this.getters),d.setters=[].concat(this.setters),d},R.prototype.get=function(d){return this.getters.push(d),this},R.prototype.set=function(d){return this.setters.push(d),this},R.prototype.applyGetters=function(d,_){j.hasUserDefinedProperty(this.options,["ref","refPath"])&&_.$$populatedVirtuals&&_.$$populatedVirtuals.hasOwnProperty(this.path)&&(d=_.$$populatedVirtuals[this.path]);var $,g=d,S=f(this.getters);try{for(S.s();!($=S.n()).done;)g=$.value.call(_,g,this,_)}catch(x){S.e(x)}finally{S.f()}return g},R.prototype.applySetters=function(d,_){var $,g=d,S=f(this.setters);try{for(S.s();!($=S.n()).done;)g=$.value.call(_,g,this,_)}catch(x){S.e(x)}finally{S.f()}return g},R.prototype._getModelNamesForPopulate=function(d){if(this.options.refPath)return m(this.options.refPath,d,this.path);var _;return(_=typeof this.options.ref!="function"||this.options.ref[b]?this.options.ref:this.options.ref.call(d,d))==null||Array.isArray(_)?_:[_]},u.exports=R},668:(u,c,s)=>{var f=Array.prototype.slice,h=s(6312),m=Object.keys,j=m?function(R){return m(R)}:s(6544),b=Object.keys;j.shim=function(){if(Object.keys){var R=function(){var d=Object.keys(arguments);return d&&d.length===arguments.length}(1,2);R||(Object.keys=function(d){return h(d)?b(f.call(d)):b(d)})}else Object.keys=j;return Object.keys||j},u.exports=j},674:(u,c,s)=>{var f=s(3414);u.exports=function(h){return f(h)||h===0?h:h<0?-1:1}},766:(u,c)=>{var s=u.exports={};s.DocumentNotFoundError=null,s.general={},s.general.default="Validator failed for path `{PATH}` with value `{VALUE}`",s.general.required="Path `{PATH}` is required.",s.Number={},s.Number.min="Path `{PATH}` ({VALUE}) is less than minimum allowed value ({MIN}).",s.Number.max="Path `{PATH}` ({VALUE}) is more than maximum allowed value ({MAX}).",s.Number.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.",s.Date={},s.Date.min="Path `{PATH}` ({VALUE}) is before minimum allowed value ({MIN}).",s.Date.max="Path `{PATH}` ({VALUE}) is after maximum allowed value ({MAX}).",s.String={},s.String.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.",s.String.match="Path `{PATH}` is invalid ({VALUE}).",s.String.minlength="Path `{PATH}` (`{VALUE}`) is shorter than the minimum allowed length ({MINLENGTH}).",s.String.maxlength="Path `{PATH}` (`{VALUE}`) is longer than the maximum allowed length ({MAXLENGTH})."},783:u=>{u.exports=ReferenceError},791:(u,c,s)=>{function f(j,b){var R=typeof Symbol<"u"&&j[Symbol.iterator]||j["@@iterator"];if(!R){if(Array.isArray(j)||(R=function(x,A){if(x){if(typeof x=="string")return h(x,A);var T={}.toString.call(x).slice(8,-1);return T==="Object"&&x.constructor&&(T=x.constructor.name),T==="Map"||T==="Set"?Array.from(x):T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T)?h(x,A):void 0}}(j))||b){R&&(j=R);var d=0,_=function(){};return{s:_,n:function(){return d>=j.length?{done:!0}:{done:!1,value:j[d++]}},e:function(x){throw x},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $,g=!0,S=!1;return{s:function(){R=R.call(j)},n:function(){var x=R.next();return g=x.done,x},e:function(x){S=!0,$=x},f:function(){try{g||R.return==null||R.return()}finally{if(S)throw $}}}}function h(j,b){(b==null||b>j.length)&&(b=j.length);for(var R=0,d=Array(b);R<b;R++)d[R]=j[R];return d}var m=s(3703);u.exports=function(j,b,R){var d,_=R!=null?Object.keys(m(j.tree,R,{})):Object.keys(j.tree),$=new Set(Object.keys(b));if($.size>1){d=new Set;var g,S=f(_);try{for(S.s();!(g=S.n()).done;){var x=g.value;$.has(x)&&d.add(x)}}catch(w){S.e(w)}finally{S.f()}var A,T=f($);try{for(T.s();!(A=T.n()).done;){var C=A.value;d.has(C)||d.add(C)}}catch(w){T.e(w)}finally{T.f()}d=Array.from(d)}else d=Array.from($);return d}},863:(u,c,s)=>{var f=s(3305),h=s(5549);u.exports=function(m){if(m==null||f(m,"ObjectId"))return m;if(m._id){if(f(m._id,"ObjectId"))return m._id;if(m._id.toString instanceof Function)return new h(m._id.toString())}return m.toString instanceof Function?new h(m.toString()):new h(m)}},953:(u,c,s)=>{var f=s(5484);u.exports=function(){return f()&&!!Symbol.toStringTag}},988:u=>{var c=Object.defineProperty||!1;if(c)try{c({},"a",{value:1})}catch{c=!1}u.exports=c},1007:(u,c,s)=>{function f(d){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},f(d)}function h(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!d})()}function m(d){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},m(d)}function j(d,_){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,g){return $.__proto__=g,$},j(d,_)}var b=function(d){function _(){return function(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,_),function(g,S,x){return S=m(S),function(A,T){if(T&&(f(T)=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(A)}(g,h()?Reflect.construct(S,x||[],m(g).constructor):S.apply(g,x))}(this,_,arguments)}return function(g,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(S&&S.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),S&&j(g,S)}(_,d),$=_,Object.defineProperty($,"prototype",{writable:!1}),$;var $}(s(8879)),R=s(5761);Object.defineProperty(b.prototype,"min",R),Object.defineProperty(b.prototype,"max",R),Object.defineProperty(b.prototype,"enum",R),Object.defineProperty(b.prototype,"populate",R),u.exports=b},1058:(u,c,s)=>{var f=s(2696);u.exports=function(h,m){if(h==null)return null;for(var j=0,b=Object.keys(h);j<b.length;j++){var R=h[b[j]];if(R.schema&&R.schema.discriminatorMapping&&f(R.schema.discriminatorMapping.value,m))return R}return null}},1091:u=>{function c(s){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},c(s)}u.exports=function(s){return s!=null&&c(s)==="object"&&s.$slice==null&&s.$elemMatch==null&&s.$meta==null&&s.$==null}},1129:(u,c,s)=>{function f(_){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},f(_)}function h(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!_})()}function m(_){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function($){return $.__proto__||Object.getPrototypeOf($)},m(_)}function j(_,$){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,S){return g.__proto__=S,g},j(_,$)}var b=s(8213),R=s(7352),d=function(_){function $(S,x,A,T){var C;(function(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")})(this,$);var w=b.messages;return(C=function(v,E,N){return E=m(E),function(P,I){if(I&&(f(I)=="object"||typeof I=="function"))return I;if(I!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(P)}(v,h()?Reflect.construct(E,N||[],m(v).constructor):E.apply(v,N))}(this,$,[w.DocumentNotFoundError!=null?typeof w.DocumentNotFoundError=="function"?w.DocumentNotFoundError(S,x):w.DocumentNotFoundError:'No document found for query "'+R.inspect(S)+'" on model "'+x+'"'])).result=T,C.numAffected=A,C.filter=S,C.query=S,C}return function(S,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(x&&x.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),x&&j(S,x)}($,_),g=$,Object.defineProperty(g,"prototype",{writable:!1}),g;var g}(b);Object.defineProperty(d.prototype,"name",{value:"DocumentNotFoundError"}),u.exports=d},1199:u=>{u.exports=function(c,s){var f=Object.keys(c),h=Object.keys(s);if(f.length!==h.length)return!1;for(var m=0;m<f.length;m++){var j=f[m];if(j!==h[m]||c[j]!==s[j])return!1}return!0}},1226:u=>{u.exports=function(c){return c==null?null:Object.keys(c)[0]}},1243:(u,c)=>{c.isMongooseArray=function(s){return Array.isArray(s)&&s.isMongooseArray}},1244:(u,c,s)=>{var f=s(3609);u.exports=function(h,m){if(h==null)return h;if(h._id&&typeof h._id=="string")return h._id;if(h.toString&&h.toString!==Object.prototype.toString&&!Array.isArray(h))return h.toString();throw new f("string",h,m)}},1260:(u,c)=>{var s=Object.freeze(["countDocuments","distinct","estimatedDocumentCount","find","findOne","findOneAndReplace","findOneAndUpdate","replaceOne","updateMany","updateOne","deleteMany","deleteOne","findOneAndDelete"]).concat(["validate"]);c.Ut=s},1313:(u,c,s)=>{var f=s(486);u.exports=function(h,m){return m==null||m._id==null||(h=h.clone(),m._id?h.paths._id||(f(h),h.options._id=!0):(h.remove("_id"),h.options._id=!1)),h}},1344:(u,c,s)=>{u.exports=s(6353).UUID},1347:(u,c)=>{c.isMongooseDocumentArray=function(s){return Array.isArray(s)&&s.isMongooseDocumentArray}},1350:(u,c,s)=>{function f(R){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},f(R)}function h(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!R})()}function m(R){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},m(R)}function j(R,d){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,$){return _.__proto__=$,_},j(R,d)}var b=function(R){function d($,g,S){return function(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}(this,d),function(x,A,T){return A=m(A),function(C,w){if(w&&(f(w)=="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(C)}(x,h()?Reflect.construct(A,T||[],m(x).constructor):A.apply(x,T))}(this,d,['Parameter "'+g+'" to '+S+'() must be an object, got "'+$.toString()+'" (type '+f($)+")"])}return function($,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(g&&g.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),g&&j($,g)}(d,R),_=d,Object.defineProperty(_,"prototype",{writable:!1}),_;var _}(s(8213));Object.defineProperty(b.prototype,"name",{value:"ObjectParameterError"}),u.exports=b},1417:(u,c,s)=>{function f(R){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},f(R)}function h(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!R})()}function m(R){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},m(R)}function j(R,d){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,$){return _.__proto__=$,_},j(R,d)}var b=function(R){function d($){return function(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,d),function(g,S,x){return S=m(S),function(A,T){if(T&&(f(T)=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(A)}(g,h()?Reflect.construct(S,x||[],m(g).constructor):S.apply(g,x))}(this,d,["For your own good, using `document.save()` to update an array which was selected using an $elemMatch projection OR populated using skip, limit, query conditions, or exclusion of the _id field when the operation results in a $pop or $set of the entire array is not supported. The following path(s) would have been modified unsafely:\n  "+$.join(`
  `)+`
Use Model.updateOne() to update these arrays instead.`])}return function($,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(g&&g.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),g&&j($,g)}(d,R),_=d,Object.defineProperty(_,"prototype",{writable:!1}),_;var _}(s(8213));Object.defineProperty(b.prototype,"name",{value:"DivergentArrayError"}),u.exports=b},1464:(u,c,s)=>{var f=s(5807);if(f)try{f([],"length")}catch{f=null}u.exports=f},1469:(u,c,s)=>{function f(E){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},f(E)}function h(E,N){var P=Object.keys(E);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(E);N&&(I=I.filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable})),P.push.apply(P,I)}return P}function m(E,N,P){return(N=function(I){var B=function(ee){if(f(ee)!="object"||!ee)return ee;var Z=ee[Symbol.toPrimitive];if(Z!==void 0){var te=Z.call(ee,"string");if(f(te)!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}(I);return f(B)=="symbol"?B:B+""}(N))in E?Object.defineProperty(E,N,{value:P,enumerable:!0,configurable:!0,writable:!0}):E[N]=P,E}function j(){var E,N,P=typeof Symbol=="function"?Symbol:{},I=P.iterator||"@@iterator",B=P.toStringTag||"@@toStringTag";function ee(H,W,z,M){var q=W&&W.prototype instanceof te?W:te,ne=Object.create(q.prototype);return b(ne,"_invoke",function(fe,ve,we){var me,ue,_e,L=0,X=we||[],oe=!1,Oe={p:0,n:0,v:E,a:le,f:le.bind(E,4),d:function(pe,Ae){return me=pe,ue=0,_e=E,Oe.n=Ae,Z}};function le(pe,Ae){for(ue=pe,_e=Ae,N=0;!oe&&L&&!K&&N<X.length;N++){var K,ie=X[N],ye=Oe.p,je=ie[2];pe>3?(K=je===Ae)&&(_e=ie[(ue=ie[4])?5:(ue=3,3)],ie[4]=ie[5]=E):ie[0]<=ye&&((K=pe<2&&ye<ie[1])?(ue=0,Oe.v=Ae,Oe.n=ie[1]):ye<je&&(K=pe<3||ie[0]>Ae||Ae>je)&&(ie[4]=pe,ie[5]=Ae,Oe.n=je,ue=0))}if(K||pe>1)return Z;throw oe=!0,Ae}return function(pe,Ae,K){if(L>1)throw TypeError("Generator is already running");for(oe&&Ae===1&&le(Ae,K),ue=Ae,_e=K;(N=ue<2?E:_e)||!oe;){me||(ue?ue<3?(ue>1&&(Oe.n=-1),le(ue,_e)):Oe.n=_e:Oe.v=_e);try{if(L=2,me){if(ue||(pe="next"),N=me[pe]){if(!(N=N.call(me,_e)))throw TypeError("iterator result is not an object");if(!N.done)return N;_e=N.value,ue<2&&(ue=0)}else ue===1&&(N=me.return)&&N.call(me),ue<2&&(_e=TypeError("The iterator does not provide a '"+pe+"' method"),ue=1);me=E}else if((N=(oe=Oe.n<0)?_e:fe.call(ve,Oe))!==Z)break}catch(ie){me=E,ue=1,_e=ie}finally{L=1}}return{value:N,done:oe}}}(H,z,M),!0),ne}var Z={};function te(){}function re(){}function ce(){}N=Object.getPrototypeOf;var ge=[][I]?N(N([][I]())):(b(N={},I,function(){return this}),N),F=ce.prototype=te.prototype=Object.create(ge);function V(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,ce):(H.__proto__=ce,b(H,B,"GeneratorFunction")),H.prototype=Object.create(F),H}return re.prototype=ce,b(F,"constructor",ce),b(ce,"constructor",re),re.displayName="GeneratorFunction",b(ce,B,"GeneratorFunction"),b(F),b(F,B,"Generator"),b(F,I,function(){return this}),b(F,"toString",function(){return"[object Generator]"}),(j=function(){return{w:ee,m:V}})()}function b(E,N,P,I){var B=Object.defineProperty;try{B({},"",{})}catch{B=0}b=function(ee,Z,te,re){function ce(ge,F){b(ee,ge,function(V){return this._invoke(ge,F,V)})}Z?B?B(ee,Z,{value:te,enumerable:!re,configurable:!re,writable:!re}):ee[Z]=te:(ce("next",0),ce("throw",1),ce("return",2))},b(E,N,P,I)}function R(E){return function(N){if(Array.isArray(N))return $(N)}(E)||function(N){if(typeof Symbol<"u"&&N[Symbol.iterator]!=null||N["@@iterator"]!=null)return Array.from(N)}(E)||_(E)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function d(E,N){var P=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!P){if(Array.isArray(E)||(P=_(E))||N){P&&(E=P);var I=0,B=function(){};return{s:B,n:function(){return I>=E.length?{done:!0}:{done:!1,value:E[I++]}},e:function(re){throw re},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ee,Z=!0,te=!1;return{s:function(){P=P.call(E)},n:function(){var re=P.next();return Z=re.done,re},e:function(re){te=!0,ee=re},f:function(){try{Z||P.return==null||P.return()}finally{if(te)throw ee}}}}function _(E,N){if(E){if(typeof E=="string")return $(E,N);var P={}.toString.call(E).slice(8,-1);return P==="Object"&&E.constructor&&(P=E.constructor.name),P==="Map"||P==="Set"?Array.from(E):P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P)?$(E,N):void 0}}function $(E,N){(N==null||N>E.length)&&(N=E.length);for(var P=0,I=Array(N);P<N;P++)I[P]=E[P];return I}var g=s(5022),S=s(8442),x=s(4450),A=s(2068).X,T=s(3703),C=s(8768),w=s(4301),v={toJSON:!0,toObject:!0,_id:!0,id:!0,virtuals:!0,methods:!0};u.exports=function(E,N,P,I,B,ee,Z){if(!P||!P.instanceOfSchema)throw new Error("You must pass a valid discriminator Schema");if(ee=ee==null||ee,E.schema.discriminatorMapping&&!E.schema.discriminatorMapping.isRoot)throw new Error('Discriminator "'+N+'" can only be a discriminator of the root model');if(B){var te=T(E.base,"options.applyPluginsToDiscriminators",!1)||!ee;E.base._applyPlugins(P,{skipTopLevel:!te})}else ee||S(P);var re=E.schema.options.discriminatorKey,ce=E.schema.path(re);if(ce!=null)C.hasUserDefinedProperty(ce.options,"select")||(ce.options.select=!0),ce.options.$skipDiscriminatorCheck=!0;else{var ge={};ge[re]={default:void 0,select:!0,$skipDiscriminatorCheck:!0},ge[re][E.schema.options.typeKey]=String,E.schema.add(ge),A({prop:re,prototype:E.prototype,options:E.schema.options})}if(P.path(re)&&P.path(re).options.$skipDiscriminatorCheck!==!0)throw new Error('Discriminator "'+N+'" cannot have field with name "'+re+'"');var F=N;if((typeof I=="string"&&I.length||I!=null)&&(F=I),function(V,H){var W=j().m(fe);if(V.encryptionType()!=null||H.encryptionType()!=null){var z,M=d(fe(ne(V),ne(H)));try{for(M.s();!(z=M.n()).done;){var q=z.value;if(V._hasEncryptedField(q)&&H._hasEncryptedField(q))throw new Error("encrypted fields cannot be declared on both the base schema and the child schema in a discriminator. path=".concat(q));if(V._hasEncryptedField(q)||H._hasEncryptedField(q))throw new Error("encrypted fields cannot have the same path as a non-encrypted field for discriminators. path=".concat(q))}}catch(ve){M.e(ve)}finally{M.f()}}function ne(ve){return[].concat(R(Object.keys(ve.paths)),R(Object.keys(ve.singleNestedPaths)))}function fe(ve,we){var me,ue,_e,L,X;return j().w(function(oe){for(;;)switch(oe.p=oe.n){case 0:me=new Set(ve),ue=d(we),oe.p=1,ue.s();case 2:if((_e=ue.n()).done){oe.n=4;break}if(L=_e.value,!me.has(L)){oe.n=3;break}return oe.n=3,L;case 3:oe.n=2;break;case 4:oe.n=6;break;case 5:oe.p=5,X=oe.v,ue.e(X);case 6:return oe.p=6,ue.f(),oe.f(6);case 7:return oe.a(2)}},W,null,[[1,5,6,7]])}}(E.schema,P),function(V,H){V._baseSchema=H,H.paths._id&&H.paths._id.options&&!H.paths._id.options.auto&&V.remove("_id");for(var W=[],z=0,M=Object.keys(H.paths);z<M.length;z++){var q=M[z];if(V.nested[q])W.push(q);else if(q.indexOf(".")!==-1){var ne,fe="",ve=d(q.split(".").slice(0,-1));try{for(ve.s();!(ne=ve.n()).done;){var we=ne.value;fe+=(fe.length?".":"")+we,(V.paths[fe]instanceof g||V.singleNestedPaths[fe]instanceof g)&&W.push(q)}}catch(He){ve.e(He)}finally{ve.f()}}}V.obj=function(He){for(var Ve=1;Ve<arguments.length;Ve++){var ke=arguments[Ve]!=null?arguments[Ve]:{};Ve%2?h(Object(ke),!0).forEach(function(Je){m(He,Je,ke[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(He,Object.getOwnPropertyDescriptors(ke)):h(Object(ke)).forEach(function(Je){Object.defineProperty(He,Je,Object.getOwnPropertyDescriptor(ke,Je))})}return He}({},V.obj),w(V,H),V._gatherChildSchemas();for(var me=0,ue=W;me<ue.length;me++){var _e=ue[me];delete V.paths[_e]}V.childSchemas.forEach(function(He){He.model.prototype.$__setSchema(He.schema)});var L={};L[re]={default:F,select:!0,set:function(He){if(He===F||Array.isArray(F)&&C.deepEqual(He,F))return F;throw new Error(`Can't set discriminator key "`+re+'"')},$skipDiscriminatorCheck:!0},L[re][V.options.typeKey]=ce?ce.options[V.options.typeKey]:String,V.add(L),V.discriminatorMapping={key:re,value:F,isRoot:!1},H.options.collection&&(V.options.collection=H.options.collection);var X=V.options.toJSON,oe=V.options.toObject,Oe=V.options._id,le=V.options.id,pe=Object.keys(V.options);V.options.discriminatorKey=H.options.discriminatorKey;for(var Ae=V._userProvidedOptions,K=0,ie=pe;K<ie.length;K++){var ye=ie[K];if(!v[ye]&&ye in Ae&&!C.deepEqual(V.options[ye],H.options[ye]))throw new Error("Can't customize discriminator option "+ye+" (can only modify "+Object.keys(v).join(", ")+")")}V.options=x(H.options);for(var je=0,de=Object.keys(Ae);je<de.length;je++){var De=de[je];V.options[De]=Ae[De]}X&&(V.options.toJSON=X),oe&&(V.options.toObject=oe),Oe!==void 0&&(V.options._id=Oe),V.options.id=le,ee&&(V.s.hooks=E.schema.s.hooks.merge(V.s.hooks)),B&&(V.plugins=Array.prototype.slice.call(H.plugins)),V.callQueue=H.callQueue.concat(V.callQueue),delete V._requiredpaths}(P,E.schema),E.discriminators||(E.discriminators={}),E.schema.discriminatorMapping||(E.schema.discriminatorMapping={key:re,value:null,isRoot:!0}),E.schema.discriminators||(E.schema.discriminators={}),E.schema.discriminators[N]=P,E.discriminators[N]&&!P.options.overwriteModels&&!Z)throw new Error('Discriminator with name "'+N+'" already exists');return P}},1505:u=>{u.exports=function(c,s,f,h,m){var j=s!=null&&s.updatedAt===!1,b=s!=null&&s.createdAt===!1,R=f!=null?f():c.ownerDocument().constructor.base.now();if(!b&&(c.isNew||c.$isSubdocument)&&h&&!c.$__getValue(h)&&c.$__isSelected(h)&&c.$set(h,R,void 0,{overwriteImmutable:!0}),!j&&m&&(c.isNew||c.$isModified())){var d=R;c.isNew&&h!=null&&(d=c.$__getValue(h)),c.$set(m,d)}}},1635:(u,c,s)=>{function f(R){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},f(R)}function h(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!R})()}function m(R){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},m(R)}function j(R,d){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,$){return _.__proto__=$,_},j(R,d)}var b=function(R){function d($){return function(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,d),function(g,S,x){return S=m(S),function(A,T){if(T&&(f(T)=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(A)}(g,h()?Reflect.construct(S,x||[],m(g).constructor):S.apply(g,x))}(this,d,["Can't validate() the same doc multiple times in parallel. Document: "+$._doc._id])}return function($,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(g&&g.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),g&&j($,g)}(d,R),_=d,Object.defineProperty(_,"prototype",{writable:!1}),_;var _}(s(8213));Object.defineProperty(b.prototype,"name",{value:"ParallelValidateError"}),u.exports=b},1679:u=>{typeof Object.create=="function"?u.exports=function(c,s){s&&(c.super_=s,c.prototype=Object.create(s.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}))}:u.exports=function(c,s){if(s){c.super_=s;var f=function(){};f.prototype=s.prototype,c.prototype=new f,c.prototype.constructor=c}}},1697:u=>{u.exports=Math.max},1732:(u,c,s)=>{function f(x){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},f(x)}function h(x,A){var T=Object.keys(x);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(x);A&&(C=C.filter(function(w){return Object.getOwnPropertyDescriptor(x,w).enumerable})),T.push.apply(T,C)}return T}function m(x){for(var A=1;A<arguments.length;A++){var T=arguments[A]!=null?arguments[A]:{};A%2?h(Object(T),!0).forEach(function(C){j(x,C,T[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(T)):h(Object(T)).forEach(function(C){Object.defineProperty(x,C,Object.getOwnPropertyDescriptor(T,C))})}return x}function j(x,A,T){return(A=function(C){var w=function(v){if(f(v)!="object"||!v)return v;var E=v[Symbol.toPrimitive];if(E!==void 0){var N=E.call(v,"string");if(f(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}(C);return f(w)=="symbol"?w:w+""}(A))in x?Object.defineProperty(x,A,{value:T,enumerable:!0,configurable:!0,writable:!0}):x[A]=T,x}var b=s(3609),R=s(6426),d=s(3704),_=s(4327);function $(x,A){R.call(this,x,A,"Double")}function g(x){return this.cast(x)}$.schemaName="Double",$.defaultOptions={},$.prototype=Object.create(R.prototype),$.prototype.constructor=$,$._cast=d,$.set=R.set,$.setters=[],$.get=R.get,$._defaultCaster=function(x){if(x!=null&&x._bsontype!=="Double")throw new Error;return x},$.cast=function(x){return arguments.length===0||(x===!1&&(x=this._defaultCaster),this._cast=x),this._cast},$._checkRequired=function(x){return x!=null},$.checkRequired=R.checkRequired,$.prototype.checkRequired=function(x){return this.constructor._checkRequired(x)},$.prototype.cast=function(x){var A;A=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():$.cast();try{return A(x)}catch(T){throw new b("Double",x,this.path,T,this)}};var S=m(m({},R.prototype.$conditionalHandlers),{},{$gt:g,$gte:g,$lt:g,$lte:g});Object.defineProperty($.prototype,"$conditionalHandlers",{enumerable:!1,value:S}),$.prototype.toJSONSchema=function(x){var A=this.options.required&&typeof this.options.required!="function";return _("number","double",x==null?void 0:x.useBsonType,A)},$.prototype.autoEncryptionType=function(){return"double"},u.exports=$},1793:(u,c,s)=>{var f=s(7300),h=s(2789);u.exports=function m(j){if(j==null)return null;var b=Object.keys(j),R=null;if(b.length===1&&b[0]==="_id")R=!j._id;else for(var d=0;d<b.length;++d){var _,$=b[d];if($!=="_id"&&f(j[$])&&(R=h(j[$])?(_=m(j[$]))!==null&&_!==void 0?_:R:!j[$])!=null)break}return R}},1824:(u,c,s)=>{function f(m){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},f(m)}var h=s(3703);u.exports=function(m,j,b,R,d,_){var $=R,g=$,S=h(d,"timestamps",!0);if(!S||$==null)return R;var x,A,T,C=S!=null&&S.createdAt===!1,w=S!=null&&S.updatedAt===!1;if(_)return R&&R.$set&&(R=R.$set,$.$set={},g=$.$set),w||!b||R[b]||(g[b]=m),C||!j||R[j]||(g[j]=m),$;if(R=R||{},Array.isArray($))return b==null||$.push({$set:(x={},A=b,T=m,(A=function(ce){var ge=function(F){if(f(F)!="object"||!F)return F;var V=F[Symbol.toPrimitive];if(V!==void 0){var H=V.call(F,"string");if(f(H)!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(F)}(ce);return f(ge)=="symbol"?ge:ge+""}(A))in x?Object.defineProperty(x,A,{value:T,enumerable:!0,configurable:!0,writable:!0}):x[A]=T,x)}),$;if($.$set=$.$set||{},!w&&b&&(!R.$currentDate||!R.$currentDate[b])){var v=!1;if(b.indexOf(".")!==-1)for(var E=b.split("."),N=1;N<E.length;++N){var P=E.slice(-N).join("."),I=E.slice(0,-N).join(".");if(R[I]!=null){R[I][P]=m,v=!0;break}if(R.$set&&R.$set[I]){R.$set[I][P]=m,v=!0;break}}v||($.$set[b]=m),$.hasOwnProperty(b)&&delete $[b]}if(!C&&j){R[j]&&delete R[j],R.$set&&R.$set[j]&&delete R.$set[j];var B=!1;if(j.indexOf(".")!==-1)for(var ee=j.split("."),Z=1;Z<ee.length;++Z){var te=ee.slice(-Z).join("."),re=ee.slice(0,-Z).join(".");if(R[re]!=null){R[re][te]=m,B=!0;break}if(R.$set&&R.$set[re]){R.$set[re][te]=m,B=!0;break}}B||($.$setOnInsert=$.$setOnInsert||{},$.$setOnInsert[j]=m)}return Object.keys($.$set).length===0&&delete $.$set,$}},1849:(u,c,s)=>{function f(m,j){(j==null||j>m.length)&&(j=m.length);for(var b=0,R=Array(j);b<j;b++)R[b]=m[b];return R}var h=s(8768);u.exports=function(m,j){if(m._doc._id!=null&&j!=null&&j.length!==0){var b,R=String(m._doc._id),d=function(C,w){var v=typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(!v){if(Array.isArray(C)||(v=function(ee,Z){if(ee){if(typeof ee=="string")return f(ee,Z);var te={}.toString.call(ee).slice(8,-1);return te==="Object"&&ee.constructor&&(te=ee.constructor.name),te==="Map"||te==="Set"?Array.from(ee):te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(te)?f(ee,Z):void 0}}(C))||w){v&&(C=v);var E=0,N=function(){};return{s:N,n:function(){return E>=C.length?{done:!0}:{done:!1,value:C[E++]}},e:function(ee){throw ee},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P,I=!0,B=!1;return{s:function(){v=v.call(C)},n:function(){var ee=v.next();return I=ee.done,ee},e:function(ee){B=!0,P=ee},f:function(){try{I||v.return==null||v.return()}finally{if(B)throw P}}}}(j);try{for(d.s();!(b=d.n()).done;){var _=b.value;if(!_.isVirtual)for(var $=_.path.split("."),g=0;g<$.length-1;++g){var S=$.slice(0,g+1).join("."),x=$.slice(g+1).join("."),A=m.get(S);if(A!=null&&h.isMongooseDocumentArray(A)){for(var T=0;T<A.length;++T)A[T]&&A[T].populated(x,_._docs[R]==null?void 0:_._docs[R][T],_);break}}}}catch(C){d.e(C)}finally{d.f()}}}},1875:u=>{u.exports=function(c){for(var s,f=Object.keys(c.errors||{}),h=f.length,m=[],j=0;j<h;++j)s=f[j],c!==c.errors[s]&&m.push(s+": "+c.errors[s].message);return m.join(", ")}},1898:(u,c,s)=>{c.saveSubdocs=s(4432),c.sharding=s(2824),c.trackTransaction=s(5889),c.validateBeforeSave=s(9848)},1905:(u,c,s)=>{var f,h=s(3071),m=s(2724)(/^\s*(?:function)?\*/),j=s(953)(),b=s(209),R=h("Object.prototype.toString"),d=h("Function.prototype.toString");u.exports=function(_){if(typeof _!="function")return!1;if(m(d(_)))return!0;if(!j)return R(_)==="[object GeneratorFunction]";if(!b)return!1;if(f===void 0){var $=function(){if(!j)return!1;try{return Function("return function*() {}")()}catch{}}();f=!!$&&b($)}return b(_)===f}},2003:(u,c,s)=>{var f=s(3703),h=s(608),m=s(2423);u.exports=function(j){var b=[],R=new WeakMap,d=j.constructor.indexTypes,_=new Map;return function $(g,S,x){if(!R.has(g)){R.set(g,!0),S=S||"";for(var A=0,T=Object.keys(g.paths);A<T.length;A++){var C=T[A],w=g.paths[C];if(x==null||!x.paths[C]){if(w._duplicateKeyErrorMessage!=null&&(g._duplicateKeyErrorMessagesByPath=g._duplicateKeyErrorMessagesByPath||{},g._duplicateKeyErrorMessagesByPath[C]=w._duplicateKeyErrorMessage),w.$isMongooseDocumentArray||w.$isSingleNested){if(f(w,"options.excludeIndexes")!==!0&&f(w,"schemaOptions.excludeIndexes")!==!0&&f(w,"schema.options.excludeIndexes")!==!0&&$(w.schema,S+C+"."),w.schema.discriminators!=null)for(var v=w.schema.discriminators,E=0,N=Object.keys(v);E<N.length;E++)$(v[N[E]],S+C+".",w.schema);if(w.$isMongooseDocumentArray)continue}var P=w._index||w.caster&&w.caster._index;if(P!==!1&&P!=null){var I={},B=h(P),ee=B?P:{},Z=typeof P=="string"?P:!!B&&P.type;if(Z&&d.indexOf(Z)!==-1)I[S+C]=Z;else if(ee.text)I[S+C]="text",delete ee.text;else{var te;te=P==="descending"||P==="desc"||P!=="ascending"&&P!=="asc"&&Number(P)===-1,I[S+C]=te?-1:1}delete ee.type,"background"in ee||(ee.background=!0),g.options.autoIndex!=null&&(ee._autoIndex=g.options.autoIndex);var re=ee&&ee.name;typeof re=="string"&&_.has(re)?Object.assign(_.get(re),I):(b.push([I,ee]),_.set(re,I))}}}R.delete(g),S?function(ce,ge){for(var F=ce._indexes,V=F.length,H=0;H<V;++H){for(var W=F[H][0],z=F[H][1],M=Object.keys(W),q=M.length,ne={},fe=0;fe<q;++fe){var ve=M[fe];ne[ge+ve]=W[ve]}var we=Object.assign({},z);if(z!=null&&z.partialFilterExpression!=null){we.partialFilterExpression={};for(var me=z.partialFilterExpression,ue=0,_e=Object.keys(me);ue<_e.length;ue++){var L=_e[ue];we.partialFilterExpression[ge+L]=me[L]}}b.push([ne,we])}}(g,S):(g._indexes.forEach(function(ce){var ge=ce[1];"background"in ge||(ge.background=!0),m(g,ge)}),b=b.concat(g._indexes))}}(j),b}},2064:(u,c,s)=>{var f=s(2273),h=s(9122),m=s(4756),j=s(2481),b=s(9247),R=h(j(),Object);f(R,{getPolyfill:j,implementation:m,shim:b}),u.exports=R},2068:(u,c,s)=>{var f,h=s(4450),m=s(7930).documentSchemaSymbol,j=s(3303)._,b=s(8768),R=s(7930).getSymbol,d=s(7930).scopeSymbol,_=b.isPOJO;c.w=S,c.X=x;var $=Object.freeze({minimize:!0,virtuals:!1,getters:!1,transform:!1}),g=Object.freeze({noDottedPath:!0});function S(A,T,C,w){f=f||s(2400);for(var v=w.typeKey,E=0,N=Object.keys(A);E<N.length;E++){var P=N[E],I=A[P];x({prop:P,subprops:_(I)&&Object.keys(I).length>0&&(!I[v]||v==="type"&&_(I.type)&&I.type.type)?I:null,prototype:T,prefix:C,options:w})}}function x(A){var T=A.prop,C=A.subprops,w=A.prototype,v=A.prefix,E=A.options;f=f||s(2400);var N=(v?v+".":"")+T,P=(v=v||"")?Object.freeze({}):g;C?Object.defineProperty(w,T,{enumerable:!0,configurable:!0,get:function(){var I,B,ee=this;if(this.$__.getters||(this.$__.getters={}),!this.$__.getters[N]){var Z=Object.create(f.prototype,(I=this,B={},Object.getOwnPropertyNames(I).forEach(function(te){["isNew","$__","$errors","errors","_doc","$locals","$op","__parentArray","__index","$isDocumentArrayElement"].indexOf(te)===-1||(B[te]=Object.getOwnPropertyDescriptor(I,te),B[te].enumerable=!1)}),B));v||(Z.$__[d]=this),Z.$__.nestedPath=N,Object.defineProperty(Z,"schema",{enumerable:!1,configurable:!0,writable:!1,value:w.schema}),Object.defineProperty(Z,"$__schema",{enumerable:!1,configurable:!0,writable:!1,value:w.schema}),Object.defineProperty(Z,m,{enumerable:!1,configurable:!0,writable:!1,value:w.schema}),Object.defineProperty(Z,"toObject",{enumerable:!1,configurable:!0,writable:!1,value:function(){return h(ee.get(N,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null}))}}),Object.defineProperty(Z,"$__get",{enumerable:!1,configurable:!0,writable:!1,value:function(){return ee.get(N,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toObject&&this.schema.options.toObject.virtuals||null})}}),Object.defineProperty(Z,"toJSON",{enumerable:!1,configurable:!0,writable:!1,value:function(){return ee.get(N,null,{virtuals:this&&this.schema&&this.schema.options&&this.schema.options.toJSON&&this.schema.options.toJSON.virtuals||null})}}),Object.defineProperty(Z,"$__isNested",{enumerable:!1,configurable:!0,writable:!1,value:!0}),Object.defineProperty(Z,"$isEmpty",{enumerable:!1,configurable:!0,writable:!1,value:function(){return Object.keys(this.get(N,null,$)||{}).length===0}}),Object.defineProperty(Z,"$__parent",{enumerable:!1,configurable:!0,writable:!1,value:this}),S(C,Z,N,E),this.$__.getters[N]=Z}return this.$__.getters[N]},set:function(I){I!=null&&I.$__isNested?I=I.$__get():I instanceof f&&!I.$__isNested&&(I=I.$toObject(j)),(this.$__[d]||this).$set(N,I)}}):Object.defineProperty(w,T,{enumerable:!0,configurable:!0,get:function(){return this[R].call(this.$__[d]||this,N,null,P)},set:function(I){this.$set.call(this.$__[d]||this,N,I)}})}},2069:(u,c,s)=>{function f(j,b,R){return Object.defineProperty(j,"prototype",{writable:!1}),j}var h=s(5761),m=f(function j(b){(function(R,d){if(!(R instanceof d))throw new TypeError("Cannot call a class as a function")})(this,j),Object.assign(this,b),b!=null&&b.options!=null&&(this.options=Object.assign({},b.options))});Object.defineProperty(m.prototype,"ref",h),Object.defineProperty(m.prototype,"refPath",h),Object.defineProperty(m.prototype,"localField",h),Object.defineProperty(m.prototype,"foreignField",h),Object.defineProperty(m.prototype,"justOne",h),Object.defineProperty(m.prototype,"count",h),Object.defineProperty(m.prototype,"match",h),Object.defineProperty(m.prototype,"options",h),Object.defineProperty(m.prototype,"skip",h),Object.defineProperty(m.prototype,"limit",h),Object.defineProperty(m.prototype,"perDocumentLimit",h),u.exports=m},2073:u=>{u.exports=function c(s){if(!Array.isArray(s))return{min:0,max:0,containsNonArrayItem:!0};if(s.length===0)return{min:1,max:1,containsNonArrayItem:!1};if(s.length===1&&!Array.isArray(s[0]))return{min:1,max:1,containsNonArrayItem:!1};for(var f=c(s[0]),h=1;h<s.length;++h){var m=c(s[h]);m.min<f.min&&(f.min=m.min),m.max>f.max&&(f.max=m.max),f.containsNonArrayItem=f.containsNonArrayItem||m.containsNonArrayItem}return f.min=f.min+1,f.max=f.max+1,f}},2081:(u,c,s)=>{function f(te){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(re){return typeof re}:function(re){return re&&typeof Symbol=="function"&&re.constructor===Symbol&&re!==Symbol.prototype?"symbol":typeof re},f(te)}function h(te,re){var ce=typeof Symbol<"u"&&te[Symbol.iterator]||te["@@iterator"];if(!ce){if(Array.isArray(te)||(ce=function(z,M){if(z){if(typeof z=="string")return m(z,M);var q={}.toString.call(z).slice(8,-1);return q==="Object"&&z.constructor&&(q=z.constructor.name),q==="Map"||q==="Set"?Array.from(z):q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q)?m(z,M):void 0}}(te))||re){ce&&(te=ce);var ge=0,F=function(){};return{s:F,n:function(){return ge>=te.length?{done:!0}:{done:!1,value:te[ge++]}},e:function(z){throw z},f:F}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var V,H=!0,W=!1;return{s:function(){ce=ce.call(te)},n:function(){var z=ce.next();return H=z.done,z},e:function(z){W=!0,V=z},f:function(){try{H||ce.return==null||ce.return()}finally{if(W)throw V}}}}function m(te,re){(re==null||re>te.length)&&(re=te.length);for(var ce=0,ge=Array(re);ce<re;ce++)ge[ce]=te[ce];return ge}function j(te,re){for(var ce=0;ce<re.length;ce++){var ge=re[ce];ge.enumerable=ge.enumerable||!1,ge.configurable=!0,"value"in ge&&(ge.writable=!0),Object.defineProperty(te,b(ge.key),ge)}}function b(te){var re=function(ce){if(f(ce)!="object"||!ce)return ce;var ge=ce[Symbol.toPrimitive];if(ge!==void 0){var F=ge.call(ce,"string");if(f(F)!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ce)}(te);return f(re)=="symbol"?re:re+""}function R(te,re,ce,ge){var F=d(S(te.prototype),re,ce);return 2&ge&&typeof F=="function"?function(V){return F.apply(ce,V)}:F}function d(){return d=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(te,re,ce){var ge=function(V,H){for(;!{}.hasOwnProperty.call(V,H)&&(V=S(V))!==null;);return V}(te,re);if(ge){var F=Object.getOwnPropertyDescriptor(ge,re);return F.get?F.get.call(arguments.length<3?te:ce):F.value}},d.apply(null,arguments)}function _(te){var re=typeof Map=="function"?new Map:void 0;return _=function(ce){if(ce===null||!function(F){try{return Function.toString.call(F).indexOf("[native code]")!==-1}catch{return typeof F=="function"}}(ce))return ce;if(typeof ce!="function")throw new TypeError("Super expression must either be null or a function");if(re!==void 0){if(re.has(ce))return re.get(ce);re.set(ce,ge)}function ge(){return function(F,V,H){if($())return Reflect.construct.apply(null,arguments);var W=[null];W.push.apply(W,V);var z=new(F.bind.apply(F,W));return H&&g(z,H.prototype),z}(ce,arguments,S(this).constructor)}return ge.prototype=Object.create(ce.prototype,{constructor:{value:ge,enumerable:!1,writable:!0,configurable:!0}}),g(ge,ce)},_(te)}function $(){try{var te=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($=function(){return!!te})()}function g(te,re){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ce,ge){return ce.__proto__=ge,ce},g(te,re)}function S(te){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(re){return re.__proto__||Object.getPrototypeOf(re)},S(te)}var x=s(5022),A=s(8213),T=s(4450),C=s(8768).deepEqual,w=s(8260),v=s(3216),E=s(7352),N=s(2793),P=s(3305),I=s(4473),B=s(7930).populateModelSymbol,ee=function(te){function re(F,V,H,W){var z;return function(M,q){if(!(M instanceof q))throw new TypeError("Cannot call a class as a function")}(this,re),w(F)==="Object"&&(F=Object.keys(F).reduce(function(M,q){return M.concat([[q,F[q]]])},[])),(z=function(M,q,ne){return q=S(q),function(fe,ve){if(ve&&(f(ve)=="object"||typeof ve=="function"))return ve;if(ve!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(we){if(we===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return we}(fe)}(M,$()?Reflect.construct(q,ne||[],S(M).constructor):q.apply(M,ne))}(this,re,[F])).$__parent=H!=null&&H.$__!=null?H:null,z.$__path=V,z.$__schemaType=W??new x(V),z.$__runDeferred(),z}return function(F,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(V&&V.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),Object.defineProperty(F,"prototype",{writable:!1}),V&&g(F,V)}(re,te),ce=re,ge=[{key:"$init",value:function(F,V){Z(F),R(re,"set",this,3)([F,V]),V!=null&&V.$isSingleNested&&(V.$basePath=this.$__path+"."+F)}},{key:"$__set",value:function(F,V){R(re,"set",this,3)([F,V])}},{key:"get",value:function(F,V){return P(F,"ObjectId")&&(F=F.toString()),(V=V||{}).getters===!1?R(re,"get",this,3)([F]):this.$__schemaType.applyGetters(R(re,"get",this,3)([F]),this.$__parent)}},{key:"set",value:function(F,V){if(P(F,"ObjectId")&&(F=F.toString()),Z(F),V=v(V),this.$__schemaType==null)return this.$__deferred=this.$__deferred||[],void this.$__deferred.push({key:F,value:V});var H,W=this.$__parent,z=W!=null&&W.$__&&W.$__.populated?W.$populated(fe.call(this),!0)||W.$populated(this.$__path,!0):null,M=this.get(F);if(z!=null){if(this.$__schemaType.$isSingleNested)throw new A("Cannot manually populate single nested subdoc underneath Map "+'at path "'.concat(this.$__path,'". Try using an array instead of a Map.'));Array.isArray(V)&&this.$__schemaType.$isMongooseArray?V=V.map(function(ve){return ve.$__==null&&(ve=new z.options[B](ve)),ve.$__.wasPopulated={value:ve._doc._id},ve}):V!=null&&(V.$__==null&&(V=new z.options[B](V)),V.$__.wasPopulated={value:V._doc._id})}else try{var q=this.$__schemaType.$isMongooseDocumentArray||this.$__schemaType.$isSingleNested||this.$__schemaType.$isMongooseArray||this.$__schemaType.$isSchemaMap?{path:fe.call(this)}:null;V=this.$__schemaType.applySetters(V,this.$__parent,!1,this.get(F),q)}catch(ve){if(this.$__parent!=null&&this.$__parent.$__!=null)return void this.$__parent.invalidate(fe.call(this),ve);throw ve}if(R(re,"set",this,3)([F,V]),W!=null&&W.$__!=null&&!C(V,M)){var ne=fe.call(this);W.markModified(ne),(this.$__schemaType.$isMongooseDocumentArray||this.$__schemaType.$isSingleNested)&&I(W,ne)}function fe(){return H||(H=this.$__path+"."+F)}}},{key:"clear",value:function(){R(re,"clear",this,3)([]);var F=this.$__parent;F!=null&&F.markModified(this.$__path)}},{key:"delete",value:function(F){return P(F,"ObjectId")&&(F=F.toString()),this.set(F,void 0),R(re,"delete",this,3)([F])}},{key:"toBSON",value:function(){return new Map(this)}},{key:"toObject",value:function(F){if(F&&F.flattenMaps){var V,H={},W=h(this.keys());try{for(W.s();!(V=W.n()).done;){var z=V.value;H[z]=T(this.get(z),F)}}catch(M){W.e(M)}finally{W.f()}return H}return new Map(this)}},{key:"$toObject",value:function(){return this.constructor.prototype.toObject.apply(this,arguments)}},{key:"toJSON",value:function(F){if(typeof(F&&F.flattenMaps)!="boolean"||F.flattenMaps){var V,H={},W=h(this.keys());try{for(W.s();!(V=W.n()).done;){var z=V.value;H[z]=T(this.get(z),F)}}catch(M){W.e(M)}finally{W.f()}return H}return new Map(this)}},{key:"inspect",value:function(){return new Map(this)}},{key:"$__runDeferred",value:function(){if(this.$__deferred){var F,V=h(this.$__deferred);try{for(V.s();!(F=V.n()).done;){var H=F.value;this.set(H.key,H.value)}}catch(W){V.e(W)}finally{V.f()}this.$__deferred=null}}}],ge&&j(ce.prototype,ge),Object.defineProperty(ce,"prototype",{writable:!1}),ce;var ce,ge}(_(Map));function Z(te){var re=f(te);if(re!=="string")throw new TypeError("Mongoose maps only support string keys, got ".concat(re));if(te.startsWith("$"))throw new Error('Mongoose maps do not support keys that start with "$", got "'.concat(te,'"'));if(te.includes("."))throw new Error('Mongoose maps do not support keys that contain ".", got "'.concat(te,'"'));if(N.has(te))throw new Error('Mongoose maps do not support reserved key name "'.concat(te,'"'))}E.inspect.custom&&Object.defineProperty(ee.prototype,E.inspect.custom,{enumerable:!1,writable:!1,configurable:!1,value:ee.prototype.inspect}),Object.defineProperty(ee.prototype,"$__set",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(ee.prototype,"$__parent",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(ee.prototype,"$__path",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(ee.prototype,"$__schemaType",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(ee.prototype,"$isMongooseMap",{enumerable:!1,writable:!1,configurable:!1,value:!0}),Object.defineProperty(ee.prototype,"$__deferredCalls",{enumerable:!1,writable:!1,configurable:!1,value:!0}),u.exports=ee},2097:(u,c,s)=>{function f(S){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},f(S)}function h(S,x){(x==null||x>S.length)&&(x=S.length);for(var A=0,T=Array(x);A<x;A++)T[A]=S[A];return T}function m(S,x,A){return(x=function(T){var C=function(w){if(f(w)!="object"||!w)return w;var v=w[Symbol.toPrimitive];if(v!==void 0){var E=v.call(w,"string");if(f(E)!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(T);return f(C)=="symbol"?C:C+""}(x))in S?Object.defineProperty(S,x,{value:A,enumerable:!0,configurable:!0,writable:!0}):S[x]=A,S}var j=s(9166),b=s(1824),R=s(3703),d=s(3696),_=s(1505),$=s(7160),g=new Set(["replaceOne","findOneAndReplace"]);u.exports=function(S,x){var A=S.childSchemas.find(function(B){return!!B.schema.options.timestamps});if(x||A){var T=d(x,"createdAt"),C=d(x,"updatedAt"),w=x!=null&&x.hasOwnProperty("currentTime")?x.currentTime:null,v={};if(S.$timestamps={createdAt:T,updatedAt:C},T&&!S.paths[T]){var E=S.base!=null?S.base.get("timestamps.createdAt.immutable"):null,N=E==null||E;v[T]=m(m({},S.options.typeKey||"type",Date),"immutable",N)}C&&!S.paths[C]&&(v[C]=Date),S.add(v),S.pre("save",function(B){var ee=R(this,"$__.saveOptions.timestamps");if(ee===!1)return B();_(this,ee,w,T,C),B()}),S.methods.initializeTimestamps=function(){var B=w!=null?w():this.constructor.base.now();if(T&&!this.get(T)&&this.$set(T,B),C&&!this.get(C)&&this.$set(C,B),this.$isSubdocument)return this;var ee,Z=function(re,ce){var ge=typeof Symbol<"u"&&re[Symbol.iterator]||re["@@iterator"];if(!ge){if(Array.isArray(re)||(ge=function(M,q){if(M){if(typeof M=="string")return h(M,q);var ne={}.toString.call(M).slice(8,-1);return ne==="Object"&&M.constructor&&(ne=M.constructor.name),ne==="Map"||ne==="Set"?Array.from(M):ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne)?h(M,q):void 0}}(re))||ce){ge&&(re=ge);var F=0,V=function(){};return{s:V,n:function(){return F>=re.length?{done:!0}:{done:!1,value:re[F++]}},e:function(M){throw M},f:V}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var H,W=!0,z=!1;return{s:function(){ge=ge.call(re)},n:function(){var M=ge.next();return W=M.done,M},e:function(M){z=!0,H=M},f:function(){try{W||ge.return==null||ge.return()}finally{if(z)throw H}}}}(this.$getAllSubdocs());try{for(Z.s();!(ee=Z.n()).done;){var te=ee.value;te.initializeTimestamps&&te.initializeTimestamps()}}catch(re){Z.e(re)}finally{Z.f()}return this},I[$.builtInMiddleware]=!0;var P={query:!0,model:!1};S.pre("findOneAndReplace",P,I),S.pre("findOneAndUpdate",P,I),S.pre("replaceOne",P,I),S.pre("update",P,I),S.pre("updateOne",P,I),S.pre("updateMany",P,I)}function I(B){var ee=w!=null?w():this.model.base.now();g.has(this.op)&&this.getUpdate()==null&&this.setUpdate({}),b(ee,T,C,this.getUpdate(),this._mongooseOptions,g.has(this.op)),j(ee,this.getUpdate(),this.model.schema),B()}}},2134:(u,c,s)=>{var f=s(5832).hp;function h(P){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},h(P)}function m(P,I){var B=Object.keys(P);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(P);I&&(ee=ee.filter(function(Z){return Object.getOwnPropertyDescriptor(P,Z).enumerable})),B.push.apply(B,ee)}return B}function j(P){for(var I=1;I<arguments.length;I++){var B=arguments[I]!=null?arguments[I]:{};I%2?m(Object(B),!0).forEach(function(ee){b(P,ee,B[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(B)):m(Object(B)).forEach(function(ee){Object.defineProperty(P,ee,Object.getOwnPropertyDescriptor(B,ee))})}return P}function b(P,I,B){return(I=function(ee){var Z=function(te){if(h(te)!="object"||!te)return te;var re=te[Symbol.toPrimitive];if(re!==void 0){var ce=re.call(te,"string");if(h(ce)!="object")return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(te)}(ee);return h(Z)=="symbol"?Z:Z+""}(I))in P?Object.defineProperty(P,I,{value:B,enumerable:!0,configurable:!0,writable:!0}):P[I]=B,P}var R=s(6365),d=s(6426),_=d.CastError,$=s(8250),g=s(4327),S=s(8768),x=s(9460),A=$.UUID_FORMAT,T=R.Binary;function C(P){var I;return typeof P!="string"&&P!=null?(I=P.toString("hex")).substring(0,8)+"-"+I.substring(8,12)+"-"+I.substring(12,16)+"-"+I.substring(16,20)+"-"+I.substring(20,32):P}function w(P,I){d.call(this,P,I,"UUID"),this.getters.push(function(B){return B!=null&&B.$__!=null?B:f.isBuffer(B)?C(B):B instanceof T?C(B.buffer):S.isPOJO(B)&&B.type==="Buffer"&&Array.isArray(B.data)?C(f.from(B.data)):B})}function v(P){return this.cast(P)}function E(P){var I=this;return P.map(function(B){return I.cast(B)})}w.schemaName="UUID",w.defaultOptions={},w.prototype=Object.create(d.prototype),w.prototype.constructor=w,w._cast=$,w.get=d.get,w.set=d.set,w.setters=[],w.cast=function(P){return arguments.length===0||(P===!1&&(P=this._defaultCaster),this._cast=P),this._cast},w._checkRequired=function(P){return P!=null},w.checkRequired=d.checkRequired,w.prototype.checkRequired=function(P){return f.isBuffer(P)&&(P=C(P)),P!=null&&A.test(P)},w.prototype.cast=function(P,I,B,ee,Z){if(S.isNonBuiltinObject(P)&&d._isRef(this,P,I,B))return this._castRef(P,I,B,Z);var te;te=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():w.cast();try{return te(P)}catch(re){throw new _(w.schemaName,P,this.path,re,this)}};var N=j(j({},d.prototype.$conditionalHandlers),{},{$bitsAllClear:x,$bitsAnyClear:x,$bitsAllSet:x,$bitsAnySet:x,$all:E,$gt:v,$gte:v,$in:E,$lt:v,$lte:v,$ne:v,$nin:E});Object.defineProperty(w.prototype,"$conditionalHandlers",{enumerable:!1,value:N}),w.prototype.castForQuery=function(P,I,B){var ee;if(P!=null){if(!(ee=this.$conditionalHandlers[P]))throw new Error("Can't use "+P+" with UUID.");return ee.call(this,I,B)}try{return this.applySetters(I,B)}catch(Z){throw Z instanceof _&&Z.path===this.path&&this.$fullPath!=null&&(Z.path=this.$fullPath),Z}},w.prototype.toJSONSchema=function(P){var I=this.options.required&&typeof this.options.required!="function";return g("string","binData",P==null?void 0:P.useBsonType,I)},w.prototype.autoEncryptionType=function(){return"binData"},u.exports=w},2151:u=>{u.exports=Math.round},2268:u=>{u.exports=TypeError},2273:(u,c,s)=>{function f(g){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},f(g)}var h=s(668),m=typeof Symbol=="function"&&f(Symbol("foo"))==="symbol",j=Object.prototype.toString,b=Array.prototype.concat,R=s(6750),d=s(3191)(),_=function(g,S,x,A){if(S in g){if(A===!0){if(g[S]===x)return}else if(typeof(T=A)!="function"||j.call(T)!=="[object Function]"||!A())return}var T;d?R(g,S,x,!0):R(g,S,x)},$=function(g,S){var x=arguments.length>2?arguments[2]:{},A=h(S);m&&(A=b.call(A,Object.getOwnPropertySymbols(S)));for(var T=0;T<A.length;T+=1)_(g,A[T],S[A[T]],x[A[T]])};$.supportsDescriptors=!!d,u.exports=$},2307:(u,c,s)=>{var f=s(5832).hp;function h(v,E){var N=Object.keys(v);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(v);E&&(P=P.filter(function(I){return Object.getOwnPropertyDescriptor(v,I).enumerable})),N.push.apply(N,P)}return N}function m(v){for(var E=1;E<arguments.length;E++){var N=arguments[E]!=null?arguments[E]:{};E%2?h(Object(N),!0).forEach(function(P){j(v,P,N[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(N)):h(Object(N)).forEach(function(P){Object.defineProperty(v,P,Object.getOwnPropertyDescriptor(N,P))})}return v}function j(v,E,N){return(E=function(P){var I=function(B){if(b(B)!="object"||!B)return B;var ee=B[Symbol.toPrimitive];if(ee!==void 0){var Z=ee.call(B,"string");if(b(Z)!="object")return Z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(B)}(P);return b(I)=="symbol"?I:I+""}(E))in v?Object.defineProperty(v,E,{value:N,enumerable:!0,configurable:!0,writable:!0}):v[E]=N,v}function b(v){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},b(v)}var R=s(6365),d=s(2945),_=s(6426),$=s(4327),g=s(9460),S=s(8768),x=R.Binary,A=_.CastError;function T(v,E){_.call(this,v,E,"Buffer")}function C(v,E){return this.castForQuery(null,v,E)}T.schemaName="Buffer",T.defaultOptions={},T.prototype=Object.create(_.prototype),T.prototype.constructor=T,T.prototype.OptionsConstructor=d,T._checkRequired=function(v){return!(!v||!v.length)},T.set=_.set,T.setters=[],T.get=_.get,T.checkRequired=_.checkRequired,T.prototype.checkRequired=function(v,E){return _._isRef(this,v,E,!0)?!!v:this.constructor._checkRequired(v)},T.prototype.cast=function(v,E,N,P,I){var B;if(_._isRef(this,v,E,N)){if(v&&v.isMongooseBuffer)return v;if(f.isBuffer(v))return v&&v.isMongooseBuffer||(v=new R(v,[this.path,E]),this.options.subtype!=null&&(v._subtype=this.options.subtype)),v;if(v instanceof x){if(B=new R(v.value(!0),[this.path,E]),typeof v.sub_type!="number")throw new A("Buffer",v,this.path,null,this);return B._subtype=v.sub_type,B}if(v==null||S.isNonBuiltinObject(v))return this._castRef(v,E,N,I)}if(v&&v._id&&(v=v._id),v&&v.isMongooseBuffer)return v;if(f.isBuffer(v))return v&&v.isMongooseBuffer||(v=new R(v,[this.path,E]),this.options.subtype!=null&&(v._subtype=this.options.subtype)),v;if(v instanceof x){if(B=new R(v.value(!0),[this.path,E]),typeof v.sub_type!="number")throw new A("Buffer",v,this.path,null,this);return B._subtype=v.sub_type,B}if(v===null)return v;var ee=b(v);if(ee==="string"||ee==="number"||Array.isArray(v)||ee==="object"&&v.type==="Buffer"&&Array.isArray(v.data))return ee==="number"&&(v=[v]),B=new R(v,[this.path,E]),this.options.subtype!=null&&(B._subtype=this.options.subtype),B;if(S.isPOJO(v)&&(v.$binary instanceof x||typeof v.$binary=="string")){var Z=this.cast(f.from(v.$binary,"base64"));if(v.$type!=null)return Z._subtype=v.$type,Z}throw new A("Buffer",v,this.path,null,this)},T.prototype.subtype=function(v){return this.options.subtype=v,this};var w=m(m({},_.prototype.$conditionalHandlers),{},{$bitsAllClear:g,$bitsAnyClear:g,$bitsAllSet:g,$bitsAnySet:g,$gt:C,$gte:C,$lt:C,$lte:C});Object.defineProperty(T.prototype,"$conditionalHandlers",{enumerable:!1,value:w}),T.prototype.castForQuery=function(v,E,N){var P,I;if(v!=null){if(!(P=this.$conditionalHandlers[v]))throw new Error("Can't use "+v+" with Buffer.");return P.call(this,E)}try{I=this.applySetters(E,N)}catch(B){throw B instanceof A&&B.path===this.path&&this.$fullPath!=null&&(B.path=this.$fullPath),B}return I&&I.toObject({transform:!1,virtuals:!1})},T.prototype.toJSONSchema=function(v){var E=this.options.required&&typeof this.options.required!="function";return $("string","binData",v==null?void 0:v.useBsonType,E)},T.prototype.autoEncryptionType=function(){return"binData"},u.exports=T},2345:(u,c,s)=>{function f(w,v){var E=Object.keys(w);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(w);v&&(N=N.filter(function(P){return Object.getOwnPropertyDescriptor(w,P).enumerable})),E.push.apply(E,N)}return E}function h(w){for(var v=1;v<arguments.length;v++){var E=arguments[v]!=null?arguments[v]:{};v%2?f(Object(E),!0).forEach(function(N){m(w,N,E[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(E)):f(Object(E)).forEach(function(N){Object.defineProperty(w,N,Object.getOwnPropertyDescriptor(E,N))})}return w}function m(w,v,E){return(v=function(N){var P=function(I){if(j(I)!="object"||!I)return I;var B=I[Symbol.toPrimitive];if(B!==void 0){var ee=B.call(I,"string");if(j(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(N);return j(P)=="symbol"?P:P+""}(v))in w?Object.defineProperty(w,v,{value:E,enumerable:!0,configurable:!0,writable:!0}):w[v]=E,w}function j(w){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},j(w)}var b=s(3672),R=s(3731),d=s(6426),_=s(2477),$=s(4327),g=s(8260),S=s(8768),x=d.CastError;function A(w,v){d.call(this,w,v,"Date")}function T(w){return this.cast(w)}A.schemaName="Date",A.defaultOptions={},A.prototype=Object.create(d.prototype),A.prototype.constructor=A,A.prototype.OptionsConstructor=R,A._cast=_,A.set=d.set,A.setters=[],A.get=d.get,A.cast=function(w){return arguments.length===0||(w===!1&&(w=this._defaultCaster),this._cast=w),this._cast},A._defaultCaster=function(w){if(w!=null&&!(w instanceof Date))throw new Error;return w},A.prototype.expires=function(w){return g(this._index)!=="Object"&&(this._index={}),this._index.expires=w,S.expires(this._index),this},A._checkRequired=function(w){return w instanceof Date},A.checkRequired=d.checkRequired,A.prototype.checkRequired=function(w,v){return j(w)==="object"&&d._isRef(this,w,v,!0)?w!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():A.checkRequired())(w)},A.prototype.min=function(w,v){if(this.minValidator&&(this.validators=this.validators.filter(function(P){return P.validator!==this.minValidator},this)),w){var E=v||b.messages.Date.min;typeof E=="string"&&(E=E.replace(/{MIN}/,w===Date.now?"Date.now()":w.toString()));var N=this;this.validators.push({validator:this.minValidator=function(P){var I=w;typeof w=="function"&&w!==Date.now&&(I=I.call(this));var B=I===Date.now?I():N.cast(I);return P===null||P.valueOf()>=B.valueOf()},message:E,type:"min",min:w})}return this},A.prototype.max=function(w,v){if(this.maxValidator&&(this.validators=this.validators.filter(function(P){return P.validator!==this.maxValidator},this)),w){var E=v||b.messages.Date.max;typeof E=="string"&&(E=E.replace(/{MAX}/,w===Date.now?"Date.now()":w.toString()));var N=this;this.validators.push({validator:this.maxValidator=function(P){var I=w;typeof I=="function"&&I!==Date.now&&(I=I.call(this));var B=I===Date.now?I():N.cast(I);return P===null||P.valueOf()<=B.valueOf()},message:E,type:"max",max:w})}return this},A.prototype.cast=function(w){var v;v=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():A.cast();try{return v(w)}catch(E){throw new x("date",w,this.path,E,this)}};var C=h(h({},d.prototype.$conditionalHandlers),{},{$gt:T,$gte:T,$lt:T,$lte:T});Object.defineProperty(A.prototype,"$conditionalHandlers",{enumerable:!1,value:C}),A.prototype.castForQuery=function(w,v,E){if(w==null)try{return this.applySetters(v,E)}catch(P){throw P instanceof x&&P.path===this.path&&this.$fullPath!=null&&(P.path=this.$fullPath),P}var N=this.$conditionalHandlers[w];if(!N)throw new Error("Can't use "+w+" with Date.");return N.call(this,v)},A.prototype.toJSONSchema=function(w){var v=this.options.required&&typeof this.options.required!="function";return $("string","date",w==null?void 0:w.useBsonType,v)},A.prototype.autoEncryptionType=function(){return"date"},u.exports=A},2354:(u,c,s)=>{var f=s(6730);u.exports=Function.prototype.bind||f},2400:(u,c,s)=>{var f=s(5832).hp;function h(Y){return function(he){if(Array.isArray(he))return x(he)}(Y)||function(he){if(typeof Symbol<"u"&&he[Symbol.iterator]!=null||he["@@iterator"]!=null)return Array.from(he)}(Y)||S(Y)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function m(){var Y,he,Se=typeof Symbol=="function"?Symbol:{},xe=Se.iterator||"@@iterator",Pe=Se.toStringTag||"@@toStringTag";function Ne(pt,vt,mt,Ot){var At=vt&&vt.prototype instanceof Le?vt:Le,zt=Object.create(At.prototype);return j(zt,"_invoke",function(sn,Bt,Pn){var pn,Kt,Zt,Gn=0,In=Pn||[],Ut=!1,Yt={p:0,n:0,v:Y,a:ft,f:ft.bind(Y,4),d:function(Wt,un){return pn=Wt,Kt=0,Zt=Y,Yt.n=un,Fe}};function ft(Wt,un){for(Kt=Wt,Zt=un,he=0;!Ut&&Gn&&!dn&&he<In.length;he++){var dn,yn=In[he],ir=Yt.p,rn=yn[2];Wt>3?(dn=rn===un)&&(Zt=yn[(Kt=yn[4])?5:(Kt=3,3)],yn[4]=yn[5]=Y):yn[0]<=ir&&((dn=Wt<2&&ir<yn[1])?(Kt=0,Yt.v=un,Yt.n=yn[1]):ir<rn&&(dn=Wt<3||yn[0]>un||un>rn)&&(yn[4]=Wt,yn[5]=un,Yt.n=rn,Kt=0))}if(dn||Wt>1)return Fe;throw Ut=!0,un}return function(Wt,un,dn){if(Gn>1)throw TypeError("Generator is already running");for(Ut&&un===1&&ft(un,dn),Kt=un,Zt=dn;(he=Kt<2?Y:Zt)||!Ut;){pn||(Kt?Kt<3?(Kt>1&&(Yt.n=-1),ft(Kt,Zt)):Yt.n=Zt:Yt.v=Zt);try{if(Gn=2,pn){if(Kt||(Wt="next"),he=pn[Wt]){if(!(he=he.call(pn,Zt)))throw TypeError("iterator result is not an object");if(!he.done)return he;Zt=he.value,Kt<2&&(Kt=0)}else Kt===1&&(he=pn.return)&&he.call(pn),Kt<2&&(Zt=TypeError("The iterator does not provide a '"+Wt+"' method"),Kt=1);pn=Y}else if((he=(Ut=Yt.n<0)?Zt:sn.call(Bt,Yt))!==Fe)break}catch(yn){pn=Y,Kt=1,Zt=yn}finally{Gn=1}}return{value:he,done:Ut}}}(pt,mt,Ot),!0),zt}var Fe={};function Le(){}function st(){}function Ye(){}he=Object.getPrototypeOf;var nt=[][xe]?he(he([][xe]())):(j(he={},xe,function(){return this}),he),Ge=Ye.prototype=Le.prototype=Object.create(nt);function ct(pt){return Object.setPrototypeOf?Object.setPrototypeOf(pt,Ye):(pt.__proto__=Ye,j(pt,Pe,"GeneratorFunction")),pt.prototype=Object.create(Ge),pt}return st.prototype=Ye,j(Ge,"constructor",Ye),j(Ye,"constructor",st),st.displayName="GeneratorFunction",j(Ye,Pe,"GeneratorFunction"),j(Ge),j(Ge,Pe,"Generator"),j(Ge,xe,function(){return this}),j(Ge,"toString",function(){return"[object Generator]"}),(m=function(){return{w:Ne,m:ct}})()}function j(Y,he,Se,xe){var Pe=Object.defineProperty;try{Pe({},"",{})}catch{Pe=0}j=function(Ne,Fe,Le,st){function Ye(nt,Ge){j(Ne,nt,function(ct){return this._invoke(nt,Ge,ct)})}Fe?Pe?Pe(Ne,Fe,{value:Le,enumerable:!st,configurable:!st,writable:!st}):Ne[Fe]=Le:(Ye("next",0),Ye("throw",1),Ye("return",2))},j(Y,he,Se,xe)}function b(Y,he,Se,xe,Pe,Ne,Fe){try{var Le=Y[Ne](Fe),st=Le.value}catch(Ye){return void Se(Ye)}Le.done?he(st):Promise.resolve(st).then(xe,Pe)}function R(Y){return function(){var he=this,Se=arguments;return new Promise(function(xe,Pe){var Ne=Y.apply(he,Se);function Fe(st){b(Ne,xe,Pe,Fe,Le,"next",st)}function Le(st){b(Ne,xe,Pe,Fe,Le,"throw",st)}Fe(void 0)})}}function d(Y,he){var Se=Object.keys(Y);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(Y);he&&(xe=xe.filter(function(Pe){return Object.getOwnPropertyDescriptor(Y,Pe).enumerable})),Se.push.apply(Se,xe)}return Se}function _(Y){for(var he=1;he<arguments.length;he++){var Se=arguments[he]!=null?arguments[he]:{};he%2?d(Object(Se),!0).forEach(function(xe){$(Y,xe,Se[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(Se)):d(Object(Se)).forEach(function(xe){Object.defineProperty(Y,xe,Object.getOwnPropertyDescriptor(Se,xe))})}return Y}function $(Y,he,Se){return(he=function(xe){var Pe=function(Ne){if(A(Ne)!="object"||!Ne)return Ne;var Fe=Ne[Symbol.toPrimitive];if(Fe!==void 0){var Le=Fe.call(Ne,"string");if(A(Le)!="object")return Le;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(Ne)}(xe);return A(Pe)=="symbol"?Pe:Pe+""}(he))in Y?Object.defineProperty(Y,he,{value:Se,enumerable:!0,configurable:!0,writable:!0}):Y[he]=Se,Y}function g(Y,he){var Se=typeof Symbol<"u"&&Y[Symbol.iterator]||Y["@@iterator"];if(!Se){if(Array.isArray(Y)||(Se=S(Y))||he){Se&&(Y=Se);var xe=0,Pe=function(){};return{s:Pe,n:function(){return xe>=Y.length?{done:!0}:{done:!1,value:Y[xe++]}},e:function(st){throw st},f:Pe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ne,Fe=!0,Le=!1;return{s:function(){Se=Se.call(Y)},n:function(){var st=Se.next();return Fe=st.done,st},e:function(st){Le=!0,Ne=st},f:function(){try{Fe||Se.return==null||Se.return()}finally{if(Le)throw Ne}}}}function S(Y,he){if(Y){if(typeof Y=="string")return x(Y,he);var Se={}.toString.call(Y).slice(8,-1);return Se==="Object"&&Y.constructor&&(Se=Y.constructor.name),Se==="Map"||Se==="Set"?Array.from(Y):Se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Se)?x(Y,he):void 0}}function x(Y,he){(he==null||he>Y.length)&&(he=Y.length);for(var Se=0,xe=Array(he);Se<he;Se++)xe[Se]=Y[Se];return xe}function A(Y){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},A(Y)}var T,C,w,v=s(1417),E=s(3550).EventEmitter,N=s(4224),P=s(6365),I=s(3672),B=s(5022),ee=s(6140),Z=s(3441),te=s(1350),re=s(1635),ce=s(7058),ge=s(8995),F=s(6949),V=s(9538),H=s(6814),W=s(5335),z=s(4473),M=s(4450),q=s(2068).w,ne=s(2068).X,fe=s(1226),ve=s(7430).B,we=s(5152),me=s(791),ue=s(2692),_e=s(3216),L=s(2746),X=s(3305),oe=s(7300),Oe=s(1793),le=s(5188),pe=s(7352).inspect,Ae=s(3303)._,K=s(1849),ie=s(6451),ye=s(5678),je=s(6223),de=s(3892),De=s(8768),He=s(542),Ve=De.deepEqual,ke=De.isMongooseObject,Je=s(7930).arrayAtomicsBackupSymbol,Ue=s(7930).arrayAtomicsSymbol,tt=s(7930).documentArrayParent,xt=s(7930).documentIsModified,Tt=s(7930).documentModifiedPaths,It=s(7930).documentSchemaSymbol,_t=s(7930).getSymbol,gn=s(7930).modelSymbol,Qt=s(7930).populateModelSymbol,nn=s(7930).scopeSymbol,vn=s(7160).schemaMixedSymbol,_n=s(5346),Jt=s(7930).sessionNewDocuments,nr=De.specialProperties;function Xe(Y,he,Se,xe){if(A(Se)==="object"&&Se!=null&&(Se=(xe=Se).skipId),xe=Object.assign({},xe),this.$__schema==null){var Pe=De.isObject(he)&&!he.instanceOfSchema?new ce(he):he;this.$__setSchema(Pe),he=Se,Se=xe,xe=arguments[4]||{}}if(this.$__=new N,xe.isNew!=null&&xe.isNew!==!0&&(this.$isNew=xe.isNew),xe.priorDoc!=null&&(this.$__.priorDoc=xe.priorDoc),Se&&(this.$__.skipId=Se),Y!=null&&A(Y)!=="object")throw new te(Y,"obj","Document");var Ne=!0;xe.defaults!==void 0&&(this.$__.defaults=xe.defaults,Ne=xe.defaults);var Fe=this.$__schema;typeof he=="boolean"||he==="throw"?(he!==!0&&(this.$__.strictMode=he),he=void 0):Fe.options.strict!==!0&&(this.$__.strictMode=Fe.options.strict);var Le,st=g(Fe.requiredPaths(!0));try{for(st.s();!(Le=st.n()).done;){var Ye=Le.value;this.$__.activePaths.require(Ye)}}catch(pt){st.e(pt)}finally{st.f()}var nt=null;De.isPOJO(he)&&Object.keys(he).length>0&&(nt=Oe(he),this.$__.selected=he,this.$__.exclude=nt);var Ge=nt===!1&&he?H(he):null;if(this._doc==null&&(this.$__buildDoc(Y,he,Se,nt,Ge,!1),Ne&&W(this,he,nt,Ge,!0,null,{skipParentChangeTracking:!0})),Y&&(this.$__original_set?this.$__original_set(Y,void 0,!0,xe):this.$set(Y,void 0,!0,xe),Y instanceof Xe&&(this.$isNew=Y.$isNew)),xe.willInit&&Ne?xe.skipDefaults&&(this.$__.skipDefaults=xe.skipDefaults):Ne&&W(this,he,nt,Ge,!1,xe.skipDefaults),!this.$__.strictMode&&Y){var ct=this;Object.keys(this._doc).forEach(function(pt){pt in Fe.tree||pt in Fe.methods||pt in Fe.virtuals||pt.startsWith("$")||ne({prop:pt,subprops:null,prototype:ct})})}(function(pt){var vt=pt.$__schema&&pt.$__schema.callQueue;if(vt.length){var mt,Ot=g(vt);try{for(Ot.s();!(mt=Ot.n()).done;){var At=mt.value;At[0]!=="pre"&&At[0]!=="post"&&At[0]!=="on"&&pt[At[0]].apply(pt,At[1])}}catch(zt){Ot.e(zt)}finally{Ot.f()}}})(this)}for(var rr in Xe.prototype.$isMongooseDocumentPrototype=!0,Object.defineProperty(Xe.prototype,"isNew",{get:function(){return this.$isNew},set:function(Y){this.$isNew=Y}}),Object.defineProperty(Xe.prototype,"errors",{get:function(){return this.$errors},set:function(Y){this.$errors=Y}}),Xe.prototype.$isNew=!0,De.each(["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"],function(Y){Xe.prototype[Y]=function(){if(!this.$__.emitter){if(Y==="emit")return;this.$__.emitter=new E,this.$__.emitter.setMaxListeners(0)}return this.$__.emitter[Y].apply(this.$__.emitter,arguments)},Xe.prototype["$".concat(Y)]=Xe.prototype[Y]}),Xe.prototype.constructor=Xe,E.prototype)Xe[rr]=E.prototype[rr];function Hn(Y,he,Se){if(Y!=null)for(var xe=Object.keys(Se.$__schema.paths),Pe=xe.length,Ne=he.indexOf(".")===-1?[he]:he.split("."),Fe=0;Fe<Pe;++Fe){var Le="",st=xe[Fe];if(st.startsWith(he+".")){var Ye=Se.$__schema.paths[st],nt=Ye.splitPath().slice(Ne.length),Ge=nt.length;if(Ye.defaultValue!==void 0)for(var ct=Y,pt=0;pt<Ge&&ct!=null;++pt){var vt=nt[pt];if(pt===Ge-1){if(ct[vt]!==void 0)break;try{var mt=Ye.getDefault(Se,!1);mt!==void 0&&(ct[vt]=mt)}catch(Ot){Se.invalidate(he+"."+Le,Ot);break}break}Le+=(Le.length?".":"")+vt,ct[vt]=ct[vt]||{},ct=ct[vt]}}}}function Be(Y,he,Se,xe,Pe){Pe=Pe||"",he.$__!=null&&(he=he._doc);for(var Ne,Fe,Le,st=Object.keys(he),Ye=st.length,nt=Y.$__.strictMode,Ge=Y.$__schema,ct=0;ct<Ye;++ct)if(Le=st[ct],!nr.has(Le)&&(Fe=Pe?Pe+Le:Le,Ne=Ge.path(Fe),!Ge.$isRootDiscriminator||Y.$__isSelected(Fe))){var pt=he[Le];if(!Ne&&De.isPOJO(pt))Se[Le]||(Se[Le]={},nt||Le in Ge.tree||Le in Ge.methods||Le in Ge.virtuals||(Y[Le]=Se[Le])),Be(Y,pt,Se[Le],xe,Fe+".");else if(Ne){if(Se.hasOwnProperty(Le)&&pt!==void 0&&!xe.hydratedPopulatedDocs&&delete Se[Le],pt===null)Se[Le]=Ne._castNullish(null);else if(pt!==void 0){var vt=pt.$__==null?null:pt.$__.wasPopulated;if(!Ne||vt||xe.hydratedPopulatedDocs)if(Ne&&xe.hydratedPopulatedDocs){var mt;Se[Le]=Ne.cast(pt,Y,!0,void 0,{hydratedPopulatedDocs:!0}),Se[Le]&&Se[Le].$__&&Se[Le].$__.wasPopulated?Y.$populated(Fe,Se[Le].$__.wasPopulated.value,Se[Le].$__.wasPopulated.options):Array.isArray(Se[Le])&&Se[Le].length&&(mt=Se[Le][0])!==null&&mt!==void 0&&(mt=mt.$__)!==null&&mt!==void 0&&mt.wasPopulated&&Y.$populated(Fe,Se[Le].map(function(Ot){var At;return Ot==null||(At=Ot.$__)===null||At===void 0||(At=At.wasPopulated)===null||At===void 0?void 0:At.value}).filter(function(Ot){return Ot!=null}),Se[Le][0].$__.wasPopulated.options)}else Se[Le]=pt;else try{xe&&xe.setters?Se[Le]=Ne.applySetters(pt,Y,!1):Se[Le]=Ne.cast(pt,Y,!0)}catch(Ot){Y.invalidate(Ot.path,new V({path:Ot.path,message:Ot.message,type:"cast",value:Ot.value,reason:Ot}))}}Y.$isModified(Fe)||Y.$__.activePaths.init(Fe)}else Se[Le]=pt,nt||Pe||(Y[Le]=pt)}}function fr(Y){if(Y==null)return!0;if(A(Y)!=="object"||Array.isArray(Y))return!1;for(var he=0,Se=Object.keys(Y);he<Se.length;he++)if(!fr(Y[Se[he]]))return!1;return!0}function Si(Y,he,Se,xe){var Pe={};(function(Pt){var er=Object.keys(Pt.$__.activePaths.getStatePaths("require")),Sn=0,on=er.length;for(Sn=0;Sn<on;++Sn){var ln=er[Sn],Gt=Pt.$__schema.path(ln);if(Gt!=null&&typeof Gt.originalRequiredValue=="function"){Pt.$__.cachedRequired=Pt.$__.cachedRequired||{};try{Pt.$__.cachedRequired[ln]=Gt.originalRequiredValue.call(Pt,Pt)}catch(Xn){Pt.invalidate(ln,Xn)}}}})(Y);var Ne=new Set(Object.keys(Y.$__.activePaths.getStatePaths("require")).filter(function(Pt){return!(!Y.$__isSelected(Pt)&&!Y.$isModified(Pt))&&!Pt.endsWith(".$*")&&(Y.$__.cachedRequired==null||!(Pt in Y.$__.cachedRequired)||Y.$__.cachedRequired[Pt])}));function Fe(Pt){Pt.endsWith(".$*")||Ne.add(Pt)}if(Object.keys(Y.$__.activePaths.getStatePaths("init")).forEach(Fe),Object.keys(Y.$__.activePaths.getStatePaths("modify")).forEach(Fe),Object.keys(Y.$__.activePaths.getStatePaths("default")).forEach(Fe),!xe){for(var Le=[],st=0,Ye=Object.keys(Y.$__schema.paths);st<Ye.length;st++){var nt=Ye[st],Ge=Y.$__schema.path(nt);if(Ge.$isSingleNested){var ct=Y.$get(nt);ct&&Le.push(ct)}else if(Ge.$isMongooseDocumentArray){var pt=Y.$get(nt);if(pt&&pt.length){var vt,mt=g(pt);try{for(mt.s();!(vt=mt.n()).done;){var Ot=vt.value;Ot&&Le.push(Ot)}}catch(Pt){mt.e(Pt)}finally{mt.f()}}}}for(var At=Y.modifiedPaths(),zt=0,sn=Le;zt<sn.length;zt++){var Bt=sn[zt];if(Bt.$basePath){var Pn,pn=Bt.$__pathRelativeToParent(),Kt=g(Bt.modifiedPaths());try{for(Kt.s();!(Pn=Kt.n()).done;){var Zt=Pn.value;Ne.delete(pn+"."+Zt)}}catch(Pt){Kt.e(Pt)}finally{Kt.f()}var Gn=Bt.$parent();if(Gn==null)throw new Error("Cannot validate subdocument that does not have a parent");!Y.$isModified(pn,null,At)||Gn.$__.activePaths.getStatePaths("modify").hasOwnProperty(pn)||Gn.$isDefault(pn)||(Ne.add(pn),Y.$__.pathsToScopes==null&&(Y.$__.pathsToScopes={}),Y.$__.pathsToScopes[pn]=Bt.$isDocumentArrayElement?Bt.__parentArray:Bt.$parent(),Pe[pn]={skipSchemaValidators:!0},Bt.$isDocumentArrayElement&&Bt.__index!=null&&(Pe[pn].index=Bt.__index))}}}var In,Ut=g(Ne);try{for(Ut.s();!(In=Ut.n()).done;){var Yt=In.value,ft=Y.$__schema.path(Yt);if(ft){if(ft.$isMongooseDocumentArray){var Wt,un=g(Ne);try{for(un.s();!(Wt=un.n()).done;){var dn=Wt.value;(dn==null||dn.startsWith(ft.path+"."))&&Ne.delete(dn)}}catch(Pt){un.e(Pt)}finally{un.f()}}(ft.caster||ft.validators.length!==0||ft.$parentSchemaDocArray)&&(!ft.$isMongooseArray||ft.$isMongooseDocumentArray||ft.$embeddedSchemaType.$isMongooseArray||ft.validators.length!==0||ft.$embeddedSchemaType.validators.length!==0)||Ne.delete(Yt)}}}catch(Pt){Ut.e(Pt)}finally{Ut.f()}Array.isArray(he)?Ne=function(Pt,er){var Sn,on=new Set(er),ln=new Map([]),Gt=g(er);try{for(Gt.s();!(Sn=Gt.n()).done;){var Xn=Sn.value;if(Xn.indexOf(".")!==-1)for(var Bn=Xn.split("."),Jr=Bn[0],Vr=1;Vr<Bn.length;++Vr)ln.set(Jr,Xn),Jr=Jr+"."+Bn[Vr]}}catch(pi){Gt.e(pi)}finally{Gt.f()}var Ar,or=new Set,sr=g(Pt);try{for(sr.s();!(Ar=sr.n()).done;){var wr=Ar.value;on.has(wr)?or.add(wr):ln.has(wr)&&or.add(ln.get(wr))}}catch(pi){sr.e(pi)}finally{sr.f()}return or}(Ne,he):Array.isArray(Se)&&(Ne=function(Pt,er){return er=new Set(er),Pt=Array.from(Pt).filter(function(Sn){return!er.has(Sn)}),new Set(Pt)}(Ne,Se)),function(Pt,er){var Sn,on=g(er);try{for(on.s();!(Sn=on.n()).done;){var ln=Sn.value,Gt=Pt.$__schema.path(ln);Gt&&Gt.$isMongooseArray&&(Array.isArray(Gt)||!Gt.$isMongooseDocumentArray||Gt&&Gt.schemaOptions&&Gt.schemaOptions.required)&&(!Gt.$isMongooseArray||Gt.$isMongooseDocumentArray||Gt.$embeddedSchemaType.$isMongooseArray||Gt.$embeddedSchemaType.validators.length!==0)&&Tn(Pt.$__getValue(ln),er,ln)}}catch(Xn){on.e(Xn)}finally{on.f()}}(Y,Ne);var yn,ir={skipArrays:!0},rn=g(Ne);try{for(rn.s();!(yn=rn.n()).done;){var Dr=yn.value;if(Y.$__schema.nested[Dr]){var Or=Y.$__getValue(Dr);ke(Or)&&(Or=Or.toObject({transform:!1}));var zr=ve(Or,Dr,ir,Y.$__schema);Object.keys(zr).filter(function(Pt){return!Y.$__schema.singleNestedPaths.hasOwnProperty(Pt)}).forEach(Fe)}}}catch(Pt){rn.e(Pt)}finally{rn.f()}var tn,jn=g(Ne);try{for(jn.s();!(tn=jn.n()).done;){var Wn=tn.value,xn=Y.$__schema.path(Wn);if(xn&&(xn.$parentSchemaDocArray&&typeof xn.$parentSchemaDocArray.path=="string"&&Ne.add(xn.$parentSchemaDocArray.path),xn.$isSchemaMap)){var pr=Y.$__getValue(Wn);if(pr!=null){var Dn,Zn=g(pr.keys());try{for(Zn.s();!(Dn=Zn.n()).done;){var _r=Dn.value;Ne.add(Wn+"."+_r)}}catch(Pt){Zn.e(Pt)}finally{Zn.f()}}}}}catch(Pt){jn.e(Pt)}finally{jn.f()}return[Ne=Array.from(Ne),Pe]}function Tn(Y,he,Se){if(Y!=null)for(var xe=Y.length,Pe=0;Pe<xe;++Pe)Array.isArray(Y[Pe])?Tn(Y[Pe],he,Se+"."+Pe):he.add(Se+"."+Pe)}function Jn(Y,he,Se,xe){var Pe,Ne,Fe,Le=Y.$__schema,st=Le.virtuals,Ye=Object.keys(st),nt=Ye.length,Ge=nt,ct=Y._doc,pt=typeof(xe&&xe.aliases)!="boolean"||xe.aliases;Se=Se||{};var vt=null;if(Array.isArray(Se.virtuals))vt=new Set(Se.virtuals);else if(Se.virtuals&&Se.virtuals.pathsToSkip){vt=new Set(Ye);for(var mt=0;mt<Se.virtuals.pathsToSkip.length;mt++)vt.has(Se.virtuals.pathsToSkip[mt])&&vt.delete(Se.virtuals.pathsToSkip[mt])}if(!ct)return he;for(nt=0;nt<Ge;++nt)if(Pe=Ye[nt],(vt==null||vt.has(Pe))&&(pt||!Le.aliases.hasOwnProperty(Pe))){if(Ne=Pe,Se.path!=null){if(!Pe.startsWith(Se.path+"."))continue;Ne=Pe.substring(Se.path.length+1)}if(Ne.indexOf(".")!==-1||Ne!==Pe){var Ot=Ne.split(".");if((Fe=M(Y.get(Pe),Se))!==void 0){var At=Ot.length;ct=he;for(var zt=0;zt<At-1;++zt)ct[Ot[zt]]=ct[Ot[zt]]||{},ct=ct[Ot[zt]];ct[Ot[At-1]]=Fe}}else{if((Fe=st[Pe].applyGetters(void 0,Y))===void 0)continue;Fe=M(Fe,Se),he[Ne]=Fe}}return he}function br(Y,he){if(He(he))throw new Error("`transform` function must be synchronous, but the transform on path `"+Y+"` returned a promise.")}function hi(Y,he,Se){var xe=Y.$populated(he,!0);if(!xe&&Y.$__.selected){var Pe=he.split(".")[0];if(Y.$__.selected[Pe+".$"])return Pe}if(xe&&De.isMongooseArray(Se)&&(xe.options.match||xe.options.options&&De.object.hasOwnProperty(xe.options.options,"limit")||xe.options.options&&xe.options.options.skip||xe.options.select&&(xe.options.select._id===0||/\s?-_id\s?/.test(xe.options.select)))){var Ne=Se[Ue];if(Object.keys(Ne).length===0||Ne.$set||Ne.$pop)return he}}function Xr(Y,he,Se,xe,Pe,Ne){if(Ne||(Ne="$set"),Se[Ne]||(Se[Ne]={}),Se[Ne][xe.path]=Pe,Y.$__schema.options.versionKey!==!1&&!function(Fe,Le){var st=Fe.$__schema.options.skipVersioning;return!!st&&st[Le=Le.replace(/\.\d+\./,".")]}(Y,xe.path)&&3&~Y.$__.version&&!Y.$__schema.options.optimisticConcurrency){switch(Ne){case"$set":case"$unset":case"$pop":case"$pull":case"$pullAll":case"$push":case"$addToSet":case"$inc":break;default:return}Ne==="$push"||Ne==="$addToSet"||Ne==="$pullAll"||Ne==="$pull"?/\.\d+\.|\.\d+$/.test(xe.path)?Y.$__.version=3:Y.$__.version=2:/^\$p/.test(Ne)||Array.isArray(Pe)?Y.$__.version=3:/\.\d+\.|\.\d+$/.test(xe.path)&&(Y.$__.version=1)}}function Bi(Y,he,Se,xe,Pe){if(!Se.$set||!Se.$set[xe.path])if(typeof Pe.$__getAtomics!="function"){var Ne,Fe,Le=Pe[Ue],st=Object.keys(Le),Ye=st.length;if(Ye===0)return De.isMongooseObject(Pe)?Pe=Pe.toObject({depopulate:1,_isNested:!0}):Pe.valueOf&&(Pe=Pe.valueOf()),Xr(Y,0,Se,xe,Pe);for(;Ye--;)Ne=Le[Fe=st[Ye]],De.isMongooseObject(Ne)?Ne=Ne.toObject({depopulate:!0,transform:!1,_isNested:!0}):Array.isArray(Ne)?Ne=Ne.map(nt):Ne.valueOf&&(Ne=Ne.valueOf()),Fe==="$addToSet"&&(Ne={$each:Ne}),Xr(Y,0,Se,xe,Ne,Fe)}else Pe.$__getAtomics().forEach(function(Ge){var ct=Ge[0],pt=Ge[1];Xr(Y,0,Se,xe,pt,ct)});function nt(Ge){return De.isMongooseObject(Ge)?Ge.toObject({depopulate:1,_isNested:!0}):Ge}}Xe.prototype.$__schema,Xe.prototype.schema,Object.defineProperty(Xe.prototype,"$locals",{configurable:!1,enumerable:!1,get:function(){return this.$__.locals==null&&(this.$__.locals={}),this.$__.locals},set:function(Y){this.$__.locals=Y}}),Xe.prototype.isNew,Object.defineProperty(Xe.prototype,"$where",{configurable:!1,enumerable:!1,writable:!0}),Xe.prototype.id,Xe.prototype.$errors,Object.defineProperty(Xe.prototype,"$op",{get:function(){return this.$__.op||null},set:function(Y){this.$__.op=Y}}),Xe.prototype.$__buildDoc=function(Y,he,Se,xe,Pe){for(var Ne={},Fe=Object.keys(this.$__schema.paths).filter(function(zt){return!zt.includes("$*")}),Le=Fe.length,st=0;st<Le;++st){var Ye=Fe[st];if(!(Ye==="_id"&&(Se||Y&&"_id"in Y)))for(var nt=this.$__schema.paths[Ye].splitPath(),Ge=nt.length,ct=Ge-1,pt="",vt=Ne,mt=!1,Ot=0;Ot<Ge;++Ot){var At=nt[Ot];if(pt.length?pt+="."+At:pt=At,xe===!0){if(pt in he)break}else if(xe===!1&&he&&!mt){if(pt in he)mt=!0;else if(!Pe[pt])break}Ot<ct&&(vt=vt[At]||(vt[At]={}))}}this._doc=Ne},Xe.prototype.toBSON=function(){return this.toObject(Ae)},Xe.prototype.init=function(Y,he,Se){return typeof he=="function"&&(Se=he,he=null),this.$__init(Y,he),Se&&Se(null,this),this},Xe.prototype.$init=function(){return this.constructor.prototype.init.apply(this,arguments)},Xe.prototype.$__init=function(Y,he){if(this.$isNew=!1,he=he||{},Y._id!=null&&he.populated&&he.populated.length){var Se,xe=String(Y._id),Pe=g(he.populated);try{for(Pe.s();!(Se=Pe.n()).done;){var Ne=Se.value;if(Ne.isVirtual?this.$populated(Ne.path,De.getValue(Ne.path,Y),Ne):this.$populated(Ne.path,Ne._docs[xe],Ne),Ne._childDocs!=null){var Fe,Le=g(Ne._childDocs);try{for(Le.s();!(Fe=Le.n()).done;){var st=Fe.value;st!=null&&st.$__!=null&&(st.$__.parent=this)}}catch(nt){Le.e(nt)}finally{Le.f()}Ne._childDocs=[]}}}catch(nt){Pe.e(nt)}finally{Pe.f()}}Be(this,Y,this._doc,he),K(this,he.populated),this.$emit("init",this),this.constructor.emit("init",this);var Ye=this.$__.exclude===!1&&this.$__.selected?H(this.$__.selected):null;return W(this,this.$__.selected,this.$__.exclude,Ye,!1,this.$__.skipDefaults),this},Xe.prototype.updateOne=function(Y,he,Se){var xe=this.constructor.updateOne({_id:this._doc._id},Y,he),Pe=this;return xe.pre(function(Ne){Pe.constructor._middleware.execPre("updateOne",Pe,[Pe],Ne)}),xe.post(function(Ne){Pe.constructor._middleware.execPost("updateOne",Pe,[Pe],{},Ne)}),this.$session()!=null&&("session"in xe.options||(xe.options.session=this.$session())),Se!=null?xe.exec(Se):xe},Xe.prototype.replaceOne=function(){var Y=Array.prototype.slice.call(arguments);return Y.unshift({_id:this._doc._id}),this.constructor.replaceOne.apply(this.constructor,Y)},Xe.prototype.$session=function(Y){if(arguments.length===0)return this.$__.session!=null&&this.$__.session.hasEnded?(this.$__.session=null,null):this.$__.session;if(Y!=null&&Y.hasEnded)throw new I("Cannot set a document's session to a session that has ended. Make sure you haven't called `endSession()` on the session you are passing to `$session()`.");if(Y!=null||this.$__.session!=null){if(this.$__.session=Y,!this.$isSubdocument){var he,Se=g(this.$getAllSubdocs());try{for(Se.s();!(he=Se.n()).done;)he.value.$session(Y)}catch(xe){Se.e(xe)}finally{Se.f()}}return Y}},Xe.prototype.$timestamps=function(Y){return arguments.length===0?this.$__.timestamps!=null?this.$__.timestamps:this.$__schema?this.$__schema.options.timestamps:void 0:(Y!==this.$timestamps()&&(this.$__.timestamps=Y),this)},Xe.prototype.overwrite=function(Y){for(var he=0,Se=Array.from(new Set(Object.keys(this._doc).concat(Object.keys(Y))));he<Se.length;he++){var xe=Se[he];xe!=="_id"&&(this.$__schema.options.versionKey&&xe===this.$__schema.options.versionKey||this.$__schema.options.discriminatorKey&&xe===this.$__schema.options.discriminatorKey||this.$set(xe,Y[xe]))}return this},Xe.prototype.$set=function(Y,he,Se,xe){var Pe=this;De.isPOJO(Se)&&(xe=Se,Se=void 0);var Ne,Fe,Le,st,Ye=xe&&xe.merge,nt=Se&&Se!==!0,Ge=Se===!0,ct=0,pt=xe&&"strict"in xe,vt=pt?xe.strict:this.$__.strictMode;if(nt&&((this.$__.adhocPaths||(this.$__.adhocPaths={}))[Y]=this.$__schema.interpretAsType(Y,Se,this.$__schema.options)),Y==null){var mt=[he,Y];Y=mt[0],he=mt[1]}else if(typeof Y!="string"){if(Y instanceof Xe&&(Y=Y.$__isNested?Y.toObject():Y.$__schema===this.$__schema?Jn(Y,_({},Y._doc)):Y._doc),Y==null){var Ot=[he,Y];Y=Ot[0],he=Ot[1]}st=he?he+".":"";var At=(Ne=me(this.$__schema,Y)).length,zt=xe&&xe._skipMinimizeTopLevel||!1;if(At===0&&zt)return delete xe._skipMinimizeTopLevel,he&&this.$set(he,{}),this;xe=Object.assign({},xe,{_skipMinimizeTopLevel:!1});for(var sn=0;sn<At;++sn){Le=Ne[sn];var Bt=st?st+Le:Le;Fe=this.$__schema.pathType(Bt);var Pn=Y[Le];if(Se!==!0||st||Pn==null||Fe!=="nested"||this._doc[Le]==null||delete this._doc[Le],De.isNonBuiltinObject(Pn)&&Fe==="nested")this.$set(Bt,Pn,Ge,xe),Hn(this.$get(Bt),Bt,this);else if(vt){if(Ge&&Pn===void 0&&this.$get(Bt)!==void 0)continue;if(Fe==="adhocOrUndefined"&&(Fe=we(this,Bt,{typeOnly:!0})),Fe==="real"||Fe==="virtual")this.$set(Bt,Pn,Ge,xe);else if(Fe==="nested"&&Pn instanceof Xe)this.$set(Bt,Pn.toObject({transform:!1}),Ge,xe);else{if(vt==="throw")throw Fe==="nested"?new Z(Le,Pn):new ge(Le);Fe==="nested"&&Pn==null&&this.$set(Bt,Pn,Ge,xe)}}else this.$set(Bt,Pn,Ge,xe)}for(var pn={},Kt=Object.keys(this.$__schema.tree),Zt=0,Gn=Kt.length;Zt<Gn;++Zt)(Le=Kt[Zt])&&this._doc.hasOwnProperty(Le)&&(pn[Le]=void 0);return this._doc=Object.assign(pn,this._doc),this}var In=this.$__schema.pathType(Y),Ut=null;if(In==="adhocOrUndefined"&&(Ut=Y.indexOf(".")===-1?[Y]:Y.split("."),In=we(this,Ut,{typeOnly:!0})),In==="adhocOrUndefined"&&!pt){Ut==null&&(Ut=Y.indexOf(".")===-1?[Y]:Y.split("."));var Yt=ue(this.$__schema,Ut);Yt!==void 0&&(vt=Yt)}he=_e(he,!0);var ft,Wt=Pe.$__.priorDoc!=null?Pe.$__.priorDoc.$__getValue(Y):Ge?void 0:Pe.$__getValue(Y);if(In==="nested"&&he){if(A(he)==="object"&&he!=null){if(he.$__!=null&&(he=he.toObject(Ae)),he==null)return this.invalidate(Y,new I.CastError("Object",he,Y)),this;var un=this.$isModified(Y),dn=this.$__.savedState!=null&&this.$__.savedState.hasOwnProperty(Y);if(this.$__.savedState!=null&&!this.$isNew&&!this.$__.savedState.hasOwnProperty(Y)){var yn=this.$__getValue(Y);this.$__.savedState[Y]=yn;for(var ir=0,rn=Object.keys(yn||{});ir<rn.length;ir++){var Dr=rn[ir];this.$__.savedState[Y+"."+Dr]=yn[Dr]}}if(Ye)return this.$set(he,Y,Ge,xe);this.$__setValue(Y,null),z(this,Y);var Or=me(this.$__schema,he,Y);this.$__setValue(Y,{});var zr,tn=g(Or);try{for(tn.s();!(zr=tn.n()).done;){var jn=zr.value;this.$set(Y+"."+jn,he[jn],Ge,_(_({},xe),{},{_skipMarkModified:!0}))}}catch($e){tn.e($e)}finally{tn.f()}return Wt==null||un&&!dn||!De.deepEqual(dn?this.$__.savedState[Y]:Wt,he)?this.markModified(Y):this.unmarkModified(Y),this}return this.invalidate(Y,new I.CastError("Object",he,Y)),this}if(Ut==null&&(Ut=Y.indexOf(".")===-1?[Y]:Y.split(".")),typeof this.$__schema.aliases[Ut[0]]=="string"&&(Ut[0]=this.$__schema.aliases[Ut[0]]),In==="adhocOrUndefined"&&vt){var Wn;for(ct=0;ct<Ut.length;++ct){var xn=Ut.slice(0,ct+1).join(".");if(ct+1<Ut.length&&this.$__schema.pathType(xn)==="virtual")return ye.set(Y,he,this),this;if((ft=this.$__schema.path(xn))!=null){if(ft instanceof B){Wn=!0;break}if(ft.$isSchemaMap&&ft.$__schemaType instanceof B&&ct<Ut.length-1){Wn=!0,ft=ft.$__schemaType;break}}}if(ft==null&&(ft=we(this,Y)),!Wn&&!ft){if(vt==="throw")throw new ge(Y);return this}}else{if(In==="virtual")return(ft=this.$__schema.virtualpath(Y)).applySetters(he,this),this;ft=this.$__path(Y)}var pr,Dn=this._doc,Zn="";for(ct=0;ct<Ut.length-1;++ct)Dn=Dn instanceof Map?Dn.get(Ut[ct]):Dn[Ut[ct]],Zn+=(Zn.length!==0?".":"")+Ut[ct],Dn||(this.$set(Zn,{}),this.$__isSelected(Zn)||this.unmarkModified(Zn),Dn=this.$__getValue(Zn));if(Ut.length<=1)pr=Y;else{var _r=Ut.length;for(ct=0;ct<_r;++ct){var Pt=Ut.slice(0,ct+1).join(".");if(this.$get(Pt,null,{getters:!1})===null){pr=Pt;break}}pr||(pr=Y)}if(!ft)return this.$__set(pr,Y,xe,Ge,Ut,ft,he,Wt),In==="nested"&&he==null&&z(this,Y),this;if((ft.$isSingleNested||ft.$isMongooseArray)&&function($e,Ie){if($e.$__.validationError){for(var ot=0,it=Object.keys($e.$__.validationError.errors);ot<it.length;ot++){var Me=it[ot];Me.startsWith(Ie+".")&&delete $e.$__.validationError.errors[Me]}Object.keys($e.$__.validationError.errors).length===0&&($e.$__.validationError=null)}}(this,Y),he!=null&&Ye&&ft.$isSingleNested){he instanceof Xe&&(he=he.toObject({virtuals:!1,transform:!1}));for(var er=0,Sn=Object.keys(he);er<Sn.length;er++){var on=Sn[er];this.$set(Y+"."+on,he[on],Ge,xe)}return this}var ln=!0;try{var Gt,Xn=function(){if(ft.options==null||!(he instanceof Xe))return!1;var $e=he.constructor,Ie=typeof ft.options.ref!="function"||ft.options.ref[gn]?ft.options.ref:ft.options.ref.call(Pe,Pe),ot=(Ie==null?void 0:Ie.modelName)||Ie;if(ot!=null&&(ot===$e.modelName||ot===$e.baseModelName))return!0;var it=ft.options.refPath;if(it==null)return!1;var Me=he.get(it);return Me===$e.modelName||Me===$e.baseModelName}(),Bn=!1;if(Xn&&he instanceof Xe&&(!he.$__.wasPopulated||De.deepEqual(he.$__.wasPopulated.value,he._doc._id))){var Jr=ft&&ft.$isSingleNested?ft.cast(he,this):he._doc._id;this.$populated(Y,Jr,$({},Qt,he.constructor)),he.$__.wasPopulated={value:Jr},Bn=!0}var Vr=this.$__schema.options.typeKey;if(ft.options&&Array.isArray(ft.options[Vr])&&ft.options[Vr].length&&ft.options[Vr][0]&&ft.options[Vr][0].ref&&function($e,Ie){if(!Array.isArray($e)||$e.length===0)return!1;var ot,it=g($e);try{for(it.s();!(ot=it.n()).done;){var Me=ot.value;if(!(Me instanceof Xe)||Me.constructor.modelName==null||Me.constructor.modelName!=Ie&&Me.constructor.baseModelName!=Ie)return!1}}catch(jt){it.e(jt)}finally{it.f()}return!0}(he,ft.options[Vr][0].ref)){Gt=$({},Qt,he[0].constructor),this.$populated(Y,he.map(function($e){return $e._doc._id}),Gt);var Ar,or=g(he);try{for(or.s();!(Ar=or.n()).done;){var sr=Ar.value;sr.$__.wasPopulated={value:sr._doc._id}}}catch($e){or.e($e)}finally{or.f()}Bn=!0}if(!Xn||!ft.$isSingleNested||!he.$__){var wr=this;this.$__schema.singleNestedPaths[Y]!=null&&Ut.length>1&&(wr=_n(this,Ut,this.schema)),he=xe!=null&&xe.overwriteImmutable?ft.applySetters(he,wr,!1,Wt,{path:Y,overwriteImmutable:!0}):ft.applySetters(he,wr,!1,Wt,{path:Y})}if(Array.isArray(he)&&!Array.isArray(ft)&&ft.$isMongooseDocumentArray&&he.length!==0&&he[0]!=null&&he[0].$__!=null&&he[0].$__.populated!=null){for(var pi=Object.keys(he[0].$__.populated),Ci=function(){var $e=Ei[Gi];Pe.$populated(Y+"."+$e,he.map(function(Ie){return Ie.$populated($e)}),he[0].$__.populated[$e].options)},Gi=0,Ei=pi;Gi<Ei.length;Gi++)Ci();Bn=!0}if(!Bn&&this.$__.populated){if(Array.isArray(he)&&this.$__.populated[Y])for(var Zr=0;Zr<he.length;++Zr)he[Zr]instanceof Xe&&he.set(Zr,he[Zr]._doc._id,!0);delete this.$__.populated[Y]}he!=null&&ft.$isSingleNested&&function($e,Ie,ot){var it=Ie.schema;if(it!=null)for(var Me=0,jt=Object.keys(it.paths);Me<jt.length;Me++){var gt=jt[Me],et=it.paths[gt];if(et.$immutableSetter!=null){var lt=ot==null?void 0:ot.$__getValue(gt);et.$immutableSetter.call($e,lt)}}}(he,ft,Wt),this.$markValid(Y)}catch($e){$e instanceof I.StrictModeError&&$e.isImmutableError?this.invalidate(Y,$e):$e instanceof I.CastError?(this.invalidate($e.path,$e),$e.$originalErrorPath&&this.invalidate(Y,new I.CastError(ft.instance,he,Y,$e.$originalErrorPath))):this.invalidate(Y,new I.CastError(ft.instance,he,Y,$e)),ln=!1}if(ln){var ao,dr=null,k=null;if(!Ge){var y=this.$isSubdocument?this.ownerDocument():this;dr=y.$__.savedState,k=this.$isSubdocument?this.$__.fullPath+"."+Y:Y,y.$__saveInitialState(k)}this.$__set(pr,Y,xe,Ge,Ut,ft,he,Wt);var J=!((ao=this.$__.session)===null||ao===void 0||!ao.transaction),Q=this.$__.session&&this.$__.session[Jt]&&this.$__.session[Jt].has(this)&&this.$__.session[Jt].get(this).modifiedPaths&&!this.$__.session[Jt].get(this).modifiedPaths.has(k);dr!=null&&dr.hasOwnProperty(k)&&(!J||Q)&&De.deepEqual(he,dr[k])&&this.unmarkModified(Y)}return(ft.$isSingleNested&&(this.isDirectModified(Y)||he==null)||ft.$isSchemaMap&&he==null)&&z(this,Y),this},Xe.prototype.set=Xe.prototype.$set,Xe.prototype.$__shouldModify=function(Y,he,Se,xe,Pe,Ne,Fe,Le){return!(Se&&Se._skipMarkModified||!this.$isNew&&!(he in this.$__.activePaths.getStatePaths("modify"))&&(Fe!==void 0||this.$__isSelected(he))&&(Fe===void 0&&he in this.$__.activePaths.getStatePaths("default")||this.$populated(he)&&Fe instanceof Xe&&Ve(Fe._doc._id,Le)||Ve(Fe,Le!==void 0?Le:De.getValue(he,this))&&(xe||Fe==null||!(he in this.$__.activePaths.getStatePaths("default"))||!Ve(Fe,Ne.getDefault(this,xe)))))},Xe.prototype.$__set=function(Y,he,Se,xe,Pe,Ne,Fe,Le){w=w||s(6547);var st=this.$__shouldModify(Y,he,Se,xe,Pe,Ne,Fe,Le);st?(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[he]&&(delete this.$__.primitiveAtomics[he],Object.keys(this.$__.primitiveAtomics).length===0&&delete this.$__.primitiveAtomics),this.markModified(Y),C||(C=s(7557)),Fe&&De.isMongooseArray(Fe)&&(Fe._registerAtomic("$set",Fe),De.isMongooseDocumentArray(Fe)&&Fe.forEach(function(Ot){Ot&&Ot.__parentArray&&(Ot.__parentArray=Fe)}))):Array.isArray(Fe)&&Array.isArray(Le)&&De.isMongooseArray(Fe)&&De.isMongooseArray(Le)&&(Fe[Ue]=Le[Ue],Fe[Je]=Le[Je],De.isMongooseDocumentArray(Fe)&&Fe.forEach(function(Ot){Ot!=null&&(Ot.$isNew=!1)}));for(var Ye=this._doc,nt=0,Ge=Pe.length,ct="";nt<Ge;nt++){var pt=nt+1===Ge;if(ct+=ct?"."+Pe[nt]:Pe[nt],!nr.has(Pe[nt]))if(pt)Ye instanceof Map?Ye.set(Pe[nt],Fe):Ye.$isSingleNested?(Pe[nt]in Ye||(Ye[Pe[nt]]=Fe),Ye._doc[Pe[nt]]=Fe,st&&Ye.markModified(Pe[nt])):Ye[Pe[nt]]=Fe;else{var vt=Ye instanceof Map,mt=vt?Ye.get(Pe[nt]):Ye[Pe[nt]];De.isPOJO(mt)||mt&&mt instanceof w||mt&&!Array.isArray(mt)&&mt.$isSingleNested||mt&&Array.isArray(mt)||mt==null&&(mt={},vt?Ye.set(Pe[nt],mt):Ye[Pe[nt]]=mt),Ye=mt}}},Xe.prototype.$__getValue=function(Y){if(typeof Y!="string"&&!Array.isArray(Y))throw new TypeError('Invalid `path`. Must be either string or array. Got "'.concat(Y,'" (type ').concat(A(Y),")"));return De.getValue(Y,this._doc)},Xe.prototype.$inc=function(Y,he){var Se=this;if(he==null&&(he=1),Array.isArray(Y))return Y.forEach(function(st){return Se.$inc(st,he)}),this;var xe=this.$__path(Y);if(xe==null){if(this.$__.strictMode==="throw")throw new ge(Y);if(this.$__.strictMode===!0)return this}else if(xe.instance!=="Number")return this.invalidate(Y,new I.CastError(xe.instance,he,Y)),this;var Pe=this.$__getValue(Y)||0,Ne=!1,Fe=null,Le=he;try{he=xe.cast(he),Le=(Fe=xe.applySetters(Pe+he,this))-Pe,Ne=!0}catch(st){this.invalidate(Y,new I.CastError("number",he,Y,st))}return Ne&&(this.$__.primitiveAtomics=this.$__.primitiveAtomics||{},this.$__.primitiveAtomics[Y]==null?this.$__.primitiveAtomics[Y]={$inc:Le}:this.$__.primitiveAtomics[Y].$inc+=Le,this.markModified(Y),this.$__setValue(Y,Fe)),this},Xe.prototype.$__setValue=function(Y,he){return De.setValue(Y,he,this._doc),this},Xe.prototype.get=function(Y,he,Se){var xe;Se==null&&(Se={}),he&&(xe=this.$__schema.interpretAsType(Y,he,this.$__schema.options));var Pe=Se.noDottedPath,Ne=Pe?this.$__schema.paths[Y]:this.$__path(Y);if(Ne==null&&(Ne=this.$__schema.virtualpath(Y))!=null)return Ne.applyGetters(void 0,this);if(Pe){var Fe=this._doc[Y];return xe&&(Fe=xe.cast(Fe)),Ne!=null&&Se.getters!==!1?Ne.applyGetters(Fe,this):Fe}if(Ne!=null&&Ne.instance==="Mixed"){var Le=this.$__schema.virtualpath(Y);Le!=null&&(Ne=Le)}var st=Y.indexOf(".")!==-1,Ye=this._doc,nt=st?Y.split("."):[Y];typeof this.$__schema.aliases[nt[0]]=="string"&&(nt[0]=this.$__schema.aliases[nt[0]]);for(var Ge=0,ct=nt.length;Ge<ct;Ge++)Ye&&Ye._doc&&(Ye=Ye._doc),Ye=Ye==null?void 0:Ye instanceof Map?Ye.get(nt[Ge],{getters:!1}):Ge===ct-1?De.getValue(nt[Ge],Ye):Ye[nt[Ge]];if(xe&&(Ye=xe.cast(Ye)),Ne!=null&&Se.getters!==!1)Ye=Ne.applyGetters(Ye,this);else if(this.$__schema.nested[Y]&&Se.virtuals)return Jn(this,M(Ye)||{},{path:Y});return Ye},Xe.prototype[_t]=Xe.prototype.get,Xe.prototype.$get=Xe.prototype.get,Xe.prototype.$__path=function(Y){var he=this.$__.adhocPaths;return(he&&he.hasOwnProperty(Y)?he[Y]:null)||this.$__schema.path(Y)},Xe.prototype.markModified=function(Y,he){this.$__saveInitialState(Y),this.$__.activePaths.modify(Y),he==null||this.$isSubdocument||(this.$__.pathsToScopes=this.$__pathsToScopes||{},this.$__.pathsToScopes[Y]=he)},Xe.prototype.$__saveInitialState=function(Y){var he=this.$__.savedState,Se=Y;if(he!=null){var xe=Se.indexOf("."),Pe=xe===-1?Se:Se.slice(0,xe);he.hasOwnProperty(Pe)||(he[Pe]=M(this.$__getValue(Pe)))}},Xe.prototype.unmarkModified=function(Y){this.$__.activePaths.init(Y),this.$__.pathsToScopes!=null&&delete this.$__.pathsToScopes[Y]},Xe.prototype.$ignore=function(Y){this.$__.activePaths.ignore(Y)},Xe.prototype.directModifiedPaths=function(){return Object.keys(this.$__.activePaths.getStatePaths("modify"))},Xe.prototype.$isEmpty=function(Y){var he={minimize:!0,virtuals:!1,getters:!1,transform:!1};if(arguments.length!==0){var Se=this.$get(Y);return Se==null||A(Se)==="object"&&(De.isPOJO(Se)?fr(Se):Object.keys(Se.toObject(he)).length===0)}return Object.keys(this.toObject(he)).length===0},Xe.prototype.modifiedPaths=function(Y){Y=Y||{};var he=Object.keys(this.$__.activePaths.getStatePaths("modify")),Se=new Set,xe=0,Pe=0,Ne=he.length;for(xe=0;xe<Ne;++xe){var Fe=he[xe],Le=je(Fe),st=Le.length;for(Pe=0;Pe<st;++Pe)Se.add(Le[Pe]);if(Y.includeChildren){var Ye=0,nt=this.$get(Fe);if(A(nt)==="object"&&nt!==null){nt._doc&&(nt=nt._doc);var Ge=nt.length;if(Array.isArray(nt))for(Ye=0;Ye<Ge;++Ye){var ct=Fe+"."+Ye;if(!Se.has(ct)&&(Se.add(ct),nt[Ye]!=null&&nt[Ye].$__)){var pt=nt[Ye].modifiedPaths(),vt=0,mt=pt.length;for(vt=0;vt<mt;++vt)Se.add(ct+"."+pt[vt])}}else{var Ot=Object.keys(nt),At=0,zt=Ot.length;for(At=0;At<zt;++At)Se.add(Fe+"."+Ot[At])}}}}return Array.from(Se)},Xe.prototype[Tt]=Xe.prototype.modifiedPaths,Xe.prototype.isModified=function(Y,he,Se){var xe=this;if(Y){var Pe=he&&he.ignoreAtomics,Ne=this.$__.activePaths.states.modify;if(Ne==null)return!1;typeof Y=="string"&&(Y=Y.indexOf(" ")===-1?[Y]:Y.split(" "));var Fe,Le=g(Y);try{for(Le.s();!(Fe=Le.n()).done;)if(Ne[Fe.value]!=null)return!0}catch(Ge){Le.e(Ge)}finally{Le.f()}var st=Se||this[Tt](),Ye=Y.some(function(Ge){return!!~st.indexOf(Ge)}),nt=Object.keys(Ne);return Pe&&(nt=nt.filter(function(Ge){var ct=xe.$__getValue(Ge);return ct==null||ct[Ue]==null||ct[Ue].$set!==void 0})),Ye||Y.some(function(Ge){return nt.some(function(ct){return ct===Ge||Ge.startsWith(ct+".")})})}return this.$__.activePaths.some("modify")},Xe.prototype.$isModified=Xe.prototype.isModified,Xe.prototype[xt]=Xe.prototype.isModified,Xe.prototype.$isDefault=function(Y){var he=this;if(Y==null)return this.$__.activePaths.some("default");if(typeof Y=="string"&&Y.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("default").hasOwnProperty(Y);var Se=Y;return Array.isArray(Se)||(Se=Se.split(" ")),Se.some(function(xe){return he.$__.activePaths.getStatePaths("default").hasOwnProperty(xe)})},Xe.prototype.$isDeleted=function(Y){return arguments.length===0?!!this.$__.isDeleted:(this.$__.isDeleted=!!Y,this)},Xe.prototype.isDirectModified=function(Y){var he=this;if(Y==null)return this.$__.activePaths.some("modify");if(typeof Y=="string"&&Y.indexOf(" ")===-1){var Se=this.$__.activePaths.getStatePaths("modify").hasOwnProperty(Y);if(Se||Y.indexOf(".")===-1)return Se;for(var xe=Y.split("."),Pe=0;Pe<xe.length-1;++Pe){var Ne=xe.slice(0,Pe+1).join("."),Fe=this.$get(Ne);if(Fe!=null&&Fe.$__!=null&&Fe.isDirectModified(xe.slice(Pe+1).join(".")))return!0}return!1}var Le=Y;return typeof Le=="string"&&(Le=Le.split(" ")),Le.some(function(st){return he.isDirectModified(st)})},Xe.prototype.isInit=function(Y){var he=this;if(Y==null)return this.$__.activePaths.some("init");if(typeof Y=="string"&&Y.indexOf(" ")===-1)return this.$__.activePaths.getStatePaths("init").hasOwnProperty(Y);var Se=Y;return Array.isArray(Se)||(Se=Se.split(" ")),Se.some(function(xe){return he.$__.activePaths.getStatePaths("init").hasOwnProperty(xe)})},Xe.prototype.isSelected=function(Y){var he=this;if(this.$__.selected==null)return!0;if(!Y)return!1;if(Y==="_id")return this.$__.selected._id!==0;if(Y.indexOf(" ")!==-1&&(Y=Y.split(" ")),Array.isArray(Y))return Y.some(function(Ge){return he.$__isSelected(Ge)});var Se=Object.keys(this.$__.selected),xe=null;if(Se.length===1&&Se[0]==="_id")return this.$__.selected._id===0;for(var Pe=0,Ne=Se;Pe<Ne.length;Pe++){var Fe=Ne[Pe];if(Fe!=="_id"&&oe(this.$__.selected[Fe])){xe=!!this.$__.selected[Fe];break}}if(xe===null)return!0;if(Y in this.$__.selected)return xe;for(var Le=Y+".",st=0,Ye=Se;st<Ye.length;st++){var nt=Ye[st];if(nt!=="_id"){if(nt.startsWith(Le))return xe||nt!==Le;if(Le.startsWith(nt+"."))return xe}}return!xe},Xe.prototype.$__isSelected=Xe.prototype.isSelected,Xe.prototype.isDirectSelected=function(Y){var he=this;if(this.$__.selected==null)return!0;if(Y==="_id")return this.$__.selected._id!==0;if(Y.indexOf(" ")!==-1&&(Y=Y.split(" ")),Array.isArray(Y))return Y.some(function(Le){return he.isDirectSelected(Le)});var Se=Object.keys(this.$__.selected),xe=null;if(Se.length===1&&Se[0]==="_id")return this.$__.selected._id===0;for(var Pe=0,Ne=Se;Pe<Ne.length;Pe++){var Fe=Ne[Pe];if(Fe!=="_id"&&oe(this.$__.selected[Fe])){xe=!!this.$__.selected[Fe];break}}return xe===null||(this.$__.selected.hasOwnProperty(Y)?xe:!xe)},Xe.prototype.validate=function(){var Y=R(m().m(function he(Se,xe){var Pe,Ne,Fe=this,Le=arguments;return m().w(function(st){for(;;)switch(st.n){case 0:if(typeof Se!="function"&&typeof xe!="function"&&typeof Le[2]!="function"){st.n=1;break}throw new I("Document.prototype.validate() no longer accepts a callback");case 1:if(this.$op="validate",Le.length===1&&(A(Le[0])!=="object"||Array.isArray(Le[0])||(xe=Le[0],Se=null)),xe&&typeof xe.pathsToSkip=="string"&&(Pe=xe.pathsToSkip.indexOf(" ")===-1,xe.pathsToSkip=Pe?[xe.pathsToSkip]:xe.pathsToSkip.split(" ")),Ne=xe&&xe._skipParallelValidateCheck,this.$isSubdocument==null){st.n=2;break}st.n=4;break;case 2:if(!this.$__.validating||Ne){st.n=3;break}throw new re(this);case 3:Ne||(this.$__.validating=!0);case 4:return st.a(2,new Promise(function(Ye,nt){Fe.$__validate(Se,xe,function(Ge){if(Fe.$op=null,Fe.$__.validating=null,Ge!=null)return nt(Ge);Ye()})}))}},he,this)}));return function(he,Se){return Y.apply(this,arguments)}}(),Xe.prototype.$validate=Xe.prototype.validate,Xe.prototype.$__validate=function(Y,he,Se){var xe,Pe=this;this.$__.saveOptions&&this.$__.saveOptions.pathsToSave&&!Y?Y=h(this.$__.saveOptions.pathsToSave):typeof Y=="function"?(Se=Y,he=null,Y=null):typeof he=="function"&&(Se=he,he=null);var Ne,Fe=he&&A(he)==="object"&&"validateModifiedOnly"in he,Le=he&&he.pathsToSkip||null;Ne=Fe?!!he.validateModifiedOnly:this.$__schema.options.validateModifiedOnly;var st=he&&he.validateAllPaths;if(st){if(Le)throw new TypeError("Cannot set both `validateAllPaths` and `pathsToSkip`");if(Y)throw new TypeError("Cannot set both `validateAllPaths` and `pathsToValidate`");if(Fe&&Ne)throw new TypeError("Cannot set both `validateAllPaths` and `validateModifiedOnly`")}var Ye,nt,Ge=this,ct=function(){var ft=Pe.$__.validationError;if(Pe.$__.validationError=null,Pe.$__.validating=null,Ne&&ft!=null){for(var Wt=0,un=Object.keys(ft.errors);Wt<un.length;Wt++){var dn=un[Wt];Pe.$isModified(dn)||delete ft.errors[dn]}Object.keys(ft.errors).length===0&&(ft=void 0)}if(Pe.$__.cachedRequired={},Pe.$emit("validate",Ge),Pe.constructor.emit("validate",Ge),ft){for(var yn in ft.errors)!Pe[tt]&&ft.errors[yn]instanceof I.CastError&&Pe.invalidate(yn,ft.errors[yn]);return ft}};if(st){var pt,vt=g(Ye=new Set(Object.keys(this.$__schema.paths)));try{for(vt.s();!(pt=vt.n()).done;){var mt=pt.value,Ot=this.$__schema.path(mt);if(Ot&&Ot.$isMongooseArray){var At=this.$__getValue(mt);At&&Tn(At,Ye,mt)}}}catch(ft){vt.e(ft)}finally{vt.f()}Ye=h(Ye),nt={}}else{var zt=Si(this,Y,Le,he&&he._nestedValidate);Ye=Ne?zt[0].filter(function(ft){return Pe.$isModified(ft)}):zt[0],nt=zt[1]}if(typeof Y=="string"&&(Y=Y.split(" ")),Ye.length===0)return L(function(){var ft=ct();if(ft)return Ge.$__schema.s.hooks.execPost("validate:error",Ge,[Ge],{error:ft},function(Wt){Se(Wt)});Se(null,Ge)});var sn={},Bt=0,Pn=(xe=this.$__.saveOptions)===null||xe===void 0?void 0:xe.pathsToSave;if(Array.isArray(Pn)){Pn=new Set(Pn);var pn,Kt=g(Ye);try{for(Kt.s();!(pn=Kt.n()).done;){var Zt=pn.value;Pn.has(Zt)&&Ut(Zt)}}catch(ft){Kt.e(ft)}finally{Kt.f()}}else{var Gn,In=g(Ye);try{for(In.s();!(Gn=In.n()).done;)Ut(Gn.value)}catch(ft){In.e(ft)}finally{In.f()}}function Ut(ft){ft==null||sn[ft]||(sn[ft]=!0,Bt++,L(function(){var Wt=Ge.$__schema.path(ft);if(!Wt)return--Bt||Yt();if(Ge.$isValid(ft)){if(Wt[vn]!=null&&ft!==Wt.path)return--Bt||Yt();var un,dn=Ge.$__getValue(ft);(un=Ge.$populated(ft))?dn=un:dn!=null&&dn.$__!=null&&dn.$__.wasPopulated&&(dn=dn._doc._id);var yn=Ge.$__.pathsToScopes!=null&&ft in Ge.$__.pathsToScopes?Ge.$__.pathsToScopes[ft]:Ge,ir=_(_({},nt[ft]),{},{path:ft,validateAllPaths:st,_nestedValidate:!0});Wt.doValidate(dn,function(rn){if(rn){if((Wt.$isSingleNested||Wt.$isArraySubdocument||Wt.$isMongooseDocumentArray)&&rn instanceof F)return--Bt||Yt();Ge.invalidate(ft,rn,void 0,!0)}--Bt||Yt()},yn,ir)}else--Bt||Yt()}))}function Yt(){var ft=ct();if(ft)return Ge.$__schema.s.hooks.execPost("validate:error",Ge,[Ge],{error:ft},function(Wt){Se(Wt)});Se(null,Ge)}},Xe.prototype.validateSync=function(Y,he){var Se,xe=this,Pe=this;arguments.length!==1||A(arguments[0])!=="object"||Array.isArray(arguments[0])||(he=arguments[0],Y=null),Se=he&&A(he)==="object"&&"validateModifiedOnly"in he?!!he.validateModifiedOnly:this.$__schema.options.validateModifiedOnly;var Ne,Fe,Le=he&&he.pathsToSkip,st=he&&he.validateAllPaths;if(st){if(Le)throw new TypeError("Cannot set both `validateAllPaths` and `pathsToSkip`");if(Y)throw new TypeError("Cannot set both `validateAllPaths` and `pathsToValidate`")}if(typeof Y=="string"){var Ye=Y.indexOf(" ")===-1;Y=Ye?[Y]:Y.split(" ")}else typeof Le=="string"&&Le.indexOf(" ")!==-1&&(Le=Le.split(" "));if(st){var nt,Ge=g(Ne=new Set(Object.keys(this.$__schema.paths)));try{for(Ge.s();!(nt=Ge.n()).done;){var ct=nt.value,pt=this.$__schema.path(ct);if(pt&&pt.$isMongooseArray){var vt=this.$__getValue(ct);vt&&Tn(vt,Ne,ct)}}}catch(Gn){Ge.e(Gn)}finally{Ge.f()}Ne=h(Ne),Fe={}}else{var mt=Si(this,Y,Le);Ne=Se?mt[0].filter(function(Gn){return xe.$isModified(Gn)}):mt[0],Fe=mt[1]}for(var Ot={},At=0,zt=Ne.length;At<zt;++At){var sn=Ne[At];if(!Ot[sn]){Ot[sn]=!0;var Bt=Pe.$__schema.path(sn);if(Bt&&Pe.$isValid(sn)){var Pn=Pe.$__getValue(sn),pn=Bt.doValidateSync(Pn,Pe,{skipSchemaValidators:Fe[sn],path:sn,validateModifiedOnly:Se,validateAllPaths:st});if(pn){if((Bt.$isSingleNested||Bt.$isArraySubdocument||Bt.$isMongooseDocumentArray)&&pn instanceof F)continue;Pe.invalidate(sn,pn,void 0,!0)}}}}var Kt=Pe.$__.validationError;if(Pe.$__.validationError=void 0,Pe.$emit("validate",Pe),Pe.constructor.emit("validate",Pe),Kt)for(var Zt in Kt.errors)Kt.errors[Zt]instanceof I.CastError&&Pe.invalidate(Zt,Kt.errors[Zt]);return Kt},Xe.prototype.invalidate=function(Y,he,Se,xe){if(this.$__.validationError||(this.$__.validationError=new F(this)),!this.$__.validationError.errors[Y])return he&&typeof he!="string"||(he=new V({path:Y,message:he,type:xe||"user defined",value:Se})),this.$__.validationError===he||this.$__.validationError.addError(Y,he),this.$__.validationError},Xe.prototype.$markValid=function(Y){this.$__.validationError&&this.$__.validationError.errors[Y]&&(delete this.$__.validationError.errors[Y],Object.keys(this.$__.validationError.errors).length===0&&(this.$__.validationError=null))},Xe.prototype.$isValid=function(Y){var he=this;return this.$__.validationError==null||Object.keys(this.$__.validationError.errors).length===0||Y!=null&&(Y.indexOf(" ")!==-1&&(Y=Y.split(" ")),Array.isArray(Y)?Y.some(function(Se){return he.$__.validationError.errors[Se]==null}):this.$__.validationError.errors[Y]==null)},Xe.prototype.$__reset=function(){var Y,he=this.$isSubdocument?null:this.$getAllSubdocs({useCache:!0});if(he&&he.length>0){var Se,xe=g(he);try{for(xe.s();!(Se=xe.n()).done;)Se.value.$__reset()}catch(Pe){xe.e(Pe)}finally{xe.f()}}return this.$__dirty().forEach(function(Pe){var Ne=Pe.value;Ne&&Ne[Ue]&&(Ne[Je]=Ne[Ue],Ne[Ue]={})}),this.$__.backup={},this.$__.backup.activePaths={modify:Object.assign({},this.$__.activePaths.getStatePaths("modify")),default:Object.assign({},this.$__.activePaths.getStatePaths("default"))},this.$__.backup.validationError=this.$__.validationError,this.$__.backup.errors=this.$errors,this.$__.activePaths.clear("modify"),this.$__.activePaths.clear("default"),this.$__.validationError=void 0,this.$errors=void 0,Y=this,this.$__schema.requiredPaths().forEach(function(Pe){Y.$__.activePaths.require(Pe)}),this},Xe.prototype.$__undoReset=function(){if(this.$__.backup!=null&&this.$__.backup.activePaths!=null){this.$__.activePaths.states.modify=this.$__.backup.activePaths.modify,this.$__.activePaths.states.default=this.$__.backup.activePaths.default,this.$__.validationError=this.$__.backup.validationError,this.$errors=this.$__.backup.errors;var Y,he=g(this.$__dirty());try{for(he.s();!(Y=he.n()).done;){var Se=Y.value.value;Se&&Se[Ue]&&Se[Je]&&(Se[Ue]=Se[Je])}}catch(Ne){he.e(Ne)}finally{he.f()}if(!this.$isSubdocument){var xe,Pe=g(this.$getAllSubdocs());try{for(Pe.s();!(xe=Pe.n()).done;)xe.value.$__undoReset()}catch(Ne){Pe.e(Ne)}finally{Pe.f()}}}},Xe.prototype.$__dirty=function(){var Y=this,he=this.$__.activePaths.map("modify",function(Pe){return{path:Pe,value:Y.$__getValue(Pe),schema:Y.$__path(Pe)}});he=he.concat(this.$__.activePaths.map("default",function(Pe){if(Pe!=="_id"&&Y.$__getValue(Pe)!=null)return{path:Pe,value:Y.$__getValue(Pe),schema:Y.$__path(Pe)}}));var Se=new Map(he.filter(function(Pe){return Pe!=null}).map(function(Pe){return[Pe.path,Pe.value]})),xe=[];return he.forEach(function(Pe){if(Pe){for(var Ne=null,Fe=je(Pe.path),Le=0;Le<Fe.length-1;Le++)if(Se.has(Fe[Le])){Ne=Se.get(Fe[Le]);break}Ne==null?xe.push(Pe):Ne!=null&&Ne[Ue]!=null&&Ne.hasAtomics()&&(Ne[Ue]={},Ne[Ue].$set=Ne)}}),xe},Xe.prototype.$__setSchema=function(Y){q(Y.tree,this,void 0,Y.options);for(var he=0,Se=Object.keys(Y.virtuals);he<Se.length;he++){var xe=Se[he];Y.virtuals[xe]._applyDefaultGetters()}Y.path("schema")==null&&(this.schema=Y),this.$__schema=Y,this[It]=Y},Xe.prototype.$__getArrayPathsToValidate=function(){return T||(T=s(4878)),this.$__.activePaths.map("init","modify",(function(Y){return this.$__getValue(Y)}).bind(this)).filter(function(Y){return Y&&Array.isArray(Y)&&De.isMongooseDocumentArray(Y)&&Y.length}).reduce(function(Y,he){return Y.concat(he)},[]).filter(function(Y){return Y})},Xe.prototype.$getAllSubdocs=function(Y){var he;if(Y!=null&&Y.useCache&&(he=this.$__.saveOptions)!==null&&he!==void 0&&he.__subdocs)return this.$__.saveOptions.__subdocs;T||(T=s(4878)),w=w||s(6547);var Se=[];return function xe(Pe){var Ne,Fe=[],Le=g(Pe.$__schema.childSchemas);try{for(Le.s();!(Ne=Le.n()).done;){var st=Ne.value.model,Ye=Pe.$__getValue(st.path);if(Ye!=null){if(Ye.$__&&Fe.push(Ye),Array.isArray(Ye)){var nt,Ge=g(Ye);try{for(Ge.s();!(nt=Ge.n()).done;){var ct=nt.value;ct!=null&&ct.$__&&Fe.push(ct)}}catch(zt){Ge.e(zt)}finally{Ge.f()}}if(Ye instanceof Map){var pt,vt=g(Ye.values());try{for(vt.s();!(pt=vt.n()).done;){var mt=pt.value;mt!=null&&mt.$__&&Fe.push(mt)}}catch(zt){vt.e(zt)}finally{vt.f()}}}}}catch(zt){Le.e(zt)}finally{Le.f()}for(var Ot=0,At=Fe;Ot<At.length;Ot++)xe(At[Ot]);Se.push.apply(Se,Fe)}(this),this.$__.saveOptions&&(this.$__.saveOptions.__subdocs=Se),Se},Xe.prototype.$__handleReject=function(Y){this.$listeners("error").length?this.$emit("error",Y):this.constructor.listeners&&this.constructor.listeners("error").length&&this.constructor.emit("error",Y)},Xe.prototype.$toObject=function(Y,he){var Se,xe,Pe,Ne,Fe,Le,st,Ye,nt,Ge,ct,pt,vt,mt,Ot,At=this.$__schema._defaultToObjectOptions(he),zt=this.$__hasOnlyPrimitiveValues();(Y=De.isPOJO(Y)?_({},Y):{})._calledWithOptions=Y._calledWithOptions||_({},Y),Ot=Y._calledWithOptions.minimize!=null?Y.minimize:((Se=this.$__schemaTypeOptions)===null||Se===void 0?void 0:Se.minimize)!=null?this.$__schemaTypeOptions.minimize:At!=null&&At.minimize!=null?At.minimize:this.$__schema.options.minimize,Y.minimize=Ot,zt||(Y._seen=Y._seen||new Map);var sn=(xe=(Pe=(Ne=Y._calledWithOptions.depopulate)!==null&&Ne!==void 0?Ne:At==null?void 0:At.depopulate)!==null&&Pe!==void 0?Pe:Y.depopulate)!==null&&xe!==void 0&&xe;if(sn&&Y._isNested&&this.$__.wasPopulated)return M(this.$__.wasPopulated.value||this._doc._id,Y);if(sn&&(Y.depopulate=!0),At!=null)for(var Bt=0,Pn=Object.keys(At);Bt<Pn.length;Bt++){var pn=Pn[Bt];Y[pn]==null&&(Y[pn]=At[pn])}Y._isNested=!0,Y.json=he,Y.minimize=Ot;var Kt=Y._parentOptions;Y._parentOptions=this.$isSubdocument?Y:null;var Zt,Gn=(Fe=(Le=(st=Y._calledWithOptions.schemaFieldsOnly)!==null&&st!==void 0?st:Y.schemaFieldsOnly)!==null&&Le!==void 0?Le:At.schemaFieldsOnly)!==null&&Fe!==void 0&&Fe;if(zt&&!Y.flattenObjectIds)Zt=this.$__toObjectShallow(Gn);else if(Gn){Zt={};for(var In=0,Ut=Object.keys(this.$__schema.paths);In<Ut.length;In++){var Yt=Ut[In],ft=this.$__getValue(Yt);if(ft!==void 0){var Wt=Yt,un=Zt;if(Yt.indexOf(".")!==-1){var dn=Yt.split(".");Wt=dn[dn.length-1];for(var yn=0;yn<dn.length-1;++yn){var ir;un[dn[yn]]=(ir=un[dn[yn]])!==null&&ir!==void 0?ir:{},un=un[dn[yn]]}}un[Wt]=ft!==null?M(ft,Y):null}}}else Zt=M(this._doc,Y)||{};var rn=(Ye=(nt=(Ge=Y._calledWithOptions.getters)!==null&&Ge!==void 0?Ge:Y.getters)!==null&&nt!==void 0?nt:At.getters)!==null&&Ye!==void 0&&Ye;rn&&(function(jn,Wn){var xn,pr,Dn=jn.$__schema,Zn=Object.keys(Dn.paths),_r=Zn.length,Pt=jn._doc;if(!Pt)return Wn;for(;_r--;){var er=(xn=Zn[_r]).split("."),Sn=er.length,on=Sn-1,ln=Wn,Gt=void 0;if(Pt=jn._doc,jn.$__isSelected(xn))for(var Xn=0;Xn<Sn&&(pr=Pt[Gt=er[Xn]],ln==null||A(ln)==="object");++Xn){if(Xn===on){if(ln[Gt]=Dn.paths[xn].applyGetters(ln[Gt],jn),Array.isArray(ln[Gt])&&Dn.paths[xn].$embeddedSchemaType)for(var Bn=0;Bn<ln[Gt].length;++Bn)ln[Gt][Bn]=Dn.paths[xn].$embeddedSchemaType.applyGetters(ln[Gt][Bn],jn)}else{if(pr==null){Gt in Pt&&(ln[Gt]=pr);break}ln=ln[Gt]||(ln[Gt]={})}Pt=pr}}}(this,Zt),Y.minimize&&(Zt=ie(Zt)||{}));var Dr=(ct=(pt=(vt=Y._calledWithOptions.virtuals)!==null&&vt!==void 0?vt:At.virtuals)!==null&&pt!==void 0?pt:Kt==null?void 0:Kt.virtuals)!==null&&ct!==void 0?ct:void 0;(Dr||rn&&Dr!==!1)&&Jn(this,Zt,Y,Y),Y.versionKey===!1&&this.$__schema.options.versionKey&&delete Zt[this.$__schema.options.versionKey];var Or=(mt=Y._calledWithOptions.transform)===null||mt===void 0||mt,zr=void 0;if(Or===!0?zr=At.transform:typeof Or=="function"&&(zr=Or),Or&&function(jn,Wn){var xn=jn.$__schema,pr=Object.keys(xn.paths||{});if(!jn._doc)return Wn;for(var Dn=0,Zn=pr;Dn<Zn.length;Dn++){var _r,Pt,er,Sn,on,ln=Zn[Dn],Gt=xn.paths[ln],Xn=(_r=Gt.options.transform)!==null&&_r!==void 0?_r:(Pt=Gt.constructor)===null||Pt===void 0||(Pt=Pt.defaultOptions)===null||Pt===void 0?void 0:Pt.transform,Bn=(er=(Sn=Gt.$embeddedSchemaType)===null||Sn===void 0||(Sn=Sn.options)===null||Sn===void 0?void 0:Sn.transform)!==null&&er!==void 0?er:(on=Gt.$embeddedSchemaType)===null||on===void 0||(on=on.constructor)===null||on===void 0||(on=on.defaultOptions)===null||on===void 0?void 0:on.transform;if(typeof Xn=="function"){var Jr=jn.$get(ln);if(Jr===void 0)continue;var Vr=Xn.call(jn,Jr);br(ln,Vr),De.setValue(ln,Vr,Wn)}else if(typeof Bn=="function"){var Ar=jn.$get(ln);if(Ar===void 0)continue;for(var or=[].concat(Ar),sr=0;sr<or.length;++sr){var wr=Bn.call(jn,or[sr]);or[sr]=wr,br(ln,wr)}Wn[ln]=or}}}(this,Zt),Y.useProjection&&function(jn,Wn){var xn=jn.$__schema,pr=Object.keys(xn.paths||{});if(!jn._doc)return Wn;var Dn=jn.$__.selected;if(Dn===void 0&&(Dn={},de.applyPaths(Dn,xn)),Dn==null||Object.keys(Dn).length===0)return Wn;for(var Zn=0,_r=pr;Zn<_r.length;Zn++){var Pt=_r[Zn];Dn[Pt]==null||Dn[Pt]||delete Wn[Pt]}}(this,Zt),typeof zr=="function"){var tn=zr(this,Zt,Y);tn!==void 0&&(Zt=tn)}return Zt},Xe.prototype.$__toObjectShallow=function(Y){var he={};if(this._doc!=null){var Se,xe=g(Object.keys(Y?this.$__schema.paths:this._doc));try{for(xe.s();!(Se=xe.n()).done;){var Pe=Se.value,Ne=this._doc[Pe];Ne instanceof Date?he[Pe]=new Date(Ne):Ne!==void 0&&(he[Pe]=Ne)}}catch(Fe){xe.e(Fe)}finally{xe.f()}}return he},Xe.prototype.toObject=function(Y){return this.$toObject(Y)},Xe.prototype.toJSON=function(Y){return this.$toObject(Y,!0)},Xe.prototype.ownerDocument=function(){return this},Xe.prototype.parent=function(){return this.$isSubdocument||this.$__.wasPopulated?this.$__.parent:this},Xe.prototype.$parent=Xe.prototype.parent,Xe.prototype.inspect=function(Y){var he;De.isPOJO(Y)&&((he=Y).minimize=!1);var Se=arguments.length>0?this.toObject(he):this.toObject();return Se??"MongooseDocument { "+Se+" }"},pe.custom&&(Xe.prototype[pe.custom]=Xe.prototype.inspect),Xe.prototype.toString=function(){var Y=this.inspect();return typeof Y=="string"?Y:pe(Y)},Xe.prototype.equals=function(Y){if(!Y)return!1;var he=this.$__getValue("_id"),Se=Y.$__!=null?Y.$__getValue("_id"):Y;return he||Se?he&&he.equals?he.equals(Se):he===Se:Ve(this,Y)},Xe.prototype.populate=function(){var Y=R(m().m(function he(){var Se,xe,Pe,Ne,Fe,Le,st,Ye,nt,Ge,ct=arguments;return m().w(function(pt){for(;;)switch(pt.n){case 0:if(Se={},typeof(xe=Array.prototype.slice.call(ct))[xe.length-1]!="function"){pt.n=1;break}throw new I("Document.prototype.populate() no longer accepts a callback");case 1:if(xe.length!==0){Pe=De.populate.apply(null,xe),Ne=g(Pe);try{for(Ne.s();!(Fe=Ne.n()).done;)Le=Fe.value,Se[Le.path]=Le}catch(vt){Ne.e(vt)}finally{Ne.f()}}return st=De.object.vals(Se),Ye=this.constructor,this.$__isNested&&(Ye=this.$__[nn].constructor,nt=this.$__.nestedPath,st.forEach(function(vt){vt.path=nt+"."+vt.path})),this.$session()!=null&&(Ge=this.$session(),st.forEach(function(vt){vt.options!=null?"session"in vt.options||(vt.options.session=Ge):vt.options={session:Ge}})),st.forEach(function(vt){vt._localModel=Ye}),pt.a(2,Ye.populate(this,st))}},he,this)}));return function(){return Y.apply(this,arguments)}}(),Xe.prototype.$getPopulatedDocs=function(){var Y=[];this.$__.populated!=null&&(Y=Y.concat(Object.keys(this.$__.populated)));var he,Se=[],xe=g(Y);try{for(xe.s();!(he=xe.n()).done;){var Pe=he.value,Ne=this.$get(Pe);Array.isArray(Ne)?Se=Se.concat(Ne):Ne instanceof Xe&&Se.push(Ne)}}catch(Fe){xe.e(Fe)}finally{xe.f()}return Se},Xe.prototype.populated=function(Y,he,Se){if(he==null||he===!0){if(!this.$__.populated||typeof Y!="string")return;var xe=Y.endsWith(".$*")?Y.replace(/\.\$\*$/,""):Y,Pe=this.$__.populated[xe];return Pe?he===!0?Pe:Pe.value:void 0}this.$__.populated||(this.$__.populated={}),this.$__.populated[Y]={value:he,options:Se};for(var Ne=Y.split("."),Fe=0;Fe<Ne.length-1;++Fe){var Le=Ne.slice(0,Fe+1).join("."),st=this.$get(Le);if(st!=null&&st.$__!=null&&this.$populated(Le)){var Ye=Ne.slice(Fe+1).join(".");st.$populated(Ye,he,Se);break}}return he},Xe.prototype.$populated=Xe.prototype.populated,Xe.prototype.$assertPopulated=function(Y,he){var Se=this;if(Array.isArray(Y))return Y.forEach(function(xe){return Se.$assertPopulated(xe,he)}),this;if(arguments.length>1&&this.$set(he),!this.$populated(Y))throw new I('Expected path "'.concat(Y,'" to be populated'));return this},Xe.prototype.depopulate=function(Y){var he;typeof Y=="string"&&(Y=Y.indexOf(" ")===-1?[Y]:Y.split(" "));var Se=this.$$populatedVirtuals?Object.keys(this.$$populatedVirtuals):[],xe=this.$__&&this.$__.populated||{};if(arguments.length===0){var Pe,Ne=g(Se);try{for(Ne.s();!(Pe=Ne.n()).done;){var Fe=Pe.value;delete this.$$populatedVirtuals[Fe],delete this._doc[Fe],delete xe[Fe]}}catch(Pn){Ne.e(Pn)}finally{Ne.f()}for(var Le=0,st=Object.keys(xe);Le<st.length;Le++){var Ye=st[Le];if(he=this.$populated(Ye))if(delete xe[Ye],Array.isArray(he)){var nt=De.getValue(Ye,this._doc);if(nt.isMongooseArray)for(var Ge=nt.__array,ct=0;ct<Ge.length;++ct){var pt=Ge[ct];pt!=null&&(Ge[ct]=pt instanceof Xe?pt._doc._id:pt._id)}else De.setValue(Ye,he,this._doc)}else De.setValue(Ye,he,this._doc)}return this}var vt,mt=g(Y);try{for(mt.s();!(vt=mt.n()).done;){var Ot=vt.value;if(he=this.$populated(Ot),delete xe[Ot],Se.indexOf(Ot)!==-1)delete this.$$populatedVirtuals[Ot],delete this._doc[Ot];else if(he)if(Array.isArray(he)){var At=De.getValue(Ot,this._doc);if(At.isMongooseArray)for(var zt=At.__array,sn=0;sn<zt.length;++sn){var Bt=zt[sn];Bt!=null&&(zt[sn]=Bt instanceof Xe?Bt._doc._id:Bt._id)}else De.setValue(Ot,he,this._doc)}else De.setValue(Ot,he,this._doc)}}catch(Pn){mt.e(Pn)}finally{mt.f()}return this},Xe.prototype.$__fullPath=function(Y){return Y||""},Xe.prototype.getChanges=function(){var Y=this.$__delta();return Y?Y[1]:{}},Xe.prototype.$__delta=function(){var Y=this,he=this.$__dirty(),Se=this.$__schema.options.optimisticConcurrency;if(Se)if(Array.isArray(Se)){var xe=new Set(Se);this.modifiedPaths().find(function(Ot){return xe.has(Ot)})&&(this.$__.version=he.length?3:1)}else this.$__.version=he.length?3:1;if(he.length||this.$__.version===3){var Pe={},Ne={},Fe=he.length,Le=[],st=0;for(Pe._id=this._doc._id,(Pe&&Pe._id&&Pe._id.$__||null)!=null&&(Pe._id=Pe._id.toObject({transform:!1,depopulate:!0}));st<Fe;++st){var Ye=he[st],nt=Ye.value,Ge=hi(this,Ye.path,nt);if(Ge)Le.push(Ge);else{if(!this.$populated(Ye.path,!0)&&this.$__.selected){var ct=Ye.path.split("."),pt=ct[0];if(this.$__.selected[pt]&&this.$__.selected[pt].$elemMatch){if(!(ct.length>1&&ct[1]==0&&Pe[pt]===void 0)){Le.push(Ye.path);continue}Pe[pt]=this.$__.selected[pt],ct[1]="$",Ye.path=ct.join(".")}}if(this.$isDefault(Ye.path)&&this.$__.selected&&(Ye.path.indexOf(".")===-1&&le(this.$__.selected,Ye.path)||je(Ye.path).find(function(Ot){return le(Y.$__.isSelected,Ot)})))continue;if(!Le.length)if(nt===void 0)Xr(this,0,Ne,Ye,1,"$unset");else if(nt===null)Xr(this,0,Ne,Ye,null);else if(De.isMongooseArray(nt)&&nt.$path()&&nt[Ue])Bi(this,0,Ne,Ye,nt);else if(nt[P.pathSymbol]&&f.isBuffer(nt))Xr(this,0,Ne,Ye,nt=nt.toObject());else if(this.$__.primitiveAtomics&&this.$__.primitiveAtomics[Ye.path]!=null){var vt=this.$__.primitiveAtomics[Ye.path],mt=fe(vt);Xr(this,0,Ne,Ye,vt[mt],mt)}else Xr(this,0,Ne,Ye,nt=M(nt,{depopulate:!0,transform:!1,virtuals:!1,getters:!1,omitUndefined:!0,_isNested:!0}))}}return Le.length?new v(Le):(this.$__.version&&this.$__version(Pe,Ne),Object.keys(Ne).length===0?[Pe,null]:[Pe,Ne])}},Xe.prototype.$clone=function(){var Y=new this.constructor;if(Y.$isNew=this.$isNew,this._doc&&(Y._doc=M(this._doc,{retainDocuments:!0})),this.$__){var he,Se=new this.$__.constructor,xe=g(Object.getOwnPropertyNames(this.$__));try{for(xe.s();!(he=xe.n()).done;){var Pe=he.value;Pe!=="activePaths"&&(Se[Pe]=M(this.$__[Pe]))}}catch(Ne){xe.e(Ne)}finally{xe.f()}Object.assign(Se.activePaths,M(_({},this.$__.activePaths))),Y.$__=Se}return Y},Xe.prototype.$createModifiedPathsSnapshot=function(){var Y=new WeakMap;if(!this.$isSubdocument){var he,Se=g(this.$getAllSubdocs());try{for(Se.s();!(he=Se.n()).done;){var xe=he.value;Y.set(xe,xe.$__.activePaths.clone())}}catch(Pe){Se.e(Pe)}finally{Se.f()}}return new ee(Y,this.$__.activePaths.clone(),this.$__.version)},Xe.prototype.$restoreModifiedPathsSnapshot=function(Y){if(this.$__.activePaths=Y.activePaths.clone(),this.$__.version=Y.version,!this.$isSubdocument){var he,Se=g(this.$getAllSubdocs());try{for(Se.s();!(he=Se.n()).done;){var xe=he.value;Y.subdocSnapshot.has(xe)&&(xe.$__.activePaths=Y.subdocSnapshot.get(xe))}}catch(Pe){Se.e(Pe)}finally{Se.f()}}return this},Xe.prototype.$clearModifiedPaths=function(){if(this.$__.activePaths.clear("modify"),this.$__.activePaths.clear("init"),this.$__.version=0,!this.$isSubdocument){var Y,he=g(this.$getAllSubdocs());try{for(he.s();!(Y=he.n()).done;)Y.value.$clearModifiedPaths()}catch(Se){he.e(Se)}finally{he.f()}}return this},Xe.prototype.$__hasOnlyPrimitiveValues=function(){return!this.$__.populated&&!this.$__.wasPopulated&&(this._doc==null||Object.values(this._doc).every(function(Y){return Y==null||A(Y)!=="object"||De.isNativeObject(Y)&&!Array.isArray(Y)||X(Y,"ObjectId")||X(Y,"Decimal128")}))},Xe.VERSION_WHERE=1,Xe.VERSION_INC=2,Xe.VERSION_ALL=3,Xe.ValidationError=F,u.exports=Xe},2401:u=>{u.exports=Math.floor},2402:(u,c,s)=>{function f(z){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},f(z)}function h(z){return h=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(M){return f(M)}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":f(M)},h(z)}var m,j,b=s(3743).codes,R=b.ERR_AMBIGUOUS_ARGUMENT,d=b.ERR_INVALID_ARG_TYPE,_=b.ERR_INVALID_ARG_VALUE,$=b.ERR_INVALID_RETURN_VALUE,g=b.ERR_MISSING_ARGS,S=s(9068),x=s(7352).inspect,A=s(7352).types,T=A.isPromise,C=A.isRegExp,w=Object.assign?Object.assign:s(6182).assign,v=Object.is?Object.is:s(2064);function E(){var z=s(6193);m=z.isDeepEqual,j=z.isDeepStrictEqual}var N=!1,P=u.exports=Z,I={};function B(z){throw z.message instanceof Error?z.message:new S(z)}function ee(z,M,q,ne){if(!q){var fe=!1;if(M===0)fe=!0,ne="No value argument passed to `assert.ok()`";else if(ne instanceof Error)throw ne;var ve=new S({actual:q,expected:!0,message:ne,operator:"==",stackStartFn:z});throw ve.generatedMessage=fe,ve}}function Z(){for(var z=arguments.length,M=new Array(z),q=0;q<z;q++)M[q]=arguments[q];ee.apply(void 0,[Z,M.length].concat(M))}P.fail=function z(M,q,ne,fe,ve){var we,me=arguments.length;if(me===0?we="Failed":me===1?(ne=M,M=void 0):(N===!1&&(N=!0,({}.emitWarning?{}.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),me===2&&(fe="!=")),ne instanceof Error)throw ne;var ue={actual:M,expected:q,operator:fe===void 0?"fail":fe,stackStartFn:ve||z};ne!==void 0&&(ue.message=ne);var _e=new S(ue);throw we&&(_e.message=we,_e.generatedMessage=!0),_e},P.AssertionError=S,P.ok=Z,P.equal=function z(M,q,ne){if(arguments.length<2)throw new g("actual","expected");M!=q&&B({actual:M,expected:q,message:ne,operator:"==",stackStartFn:z})},P.notEqual=function z(M,q,ne){if(arguments.length<2)throw new g("actual","expected");M==q&&B({actual:M,expected:q,message:ne,operator:"!=",stackStartFn:z})},P.deepEqual=function z(M,q,ne){if(arguments.length<2)throw new g("actual","expected");m===void 0&&E(),m(M,q)||B({actual:M,expected:q,message:ne,operator:"deepEqual",stackStartFn:z})},P.notDeepEqual=function z(M,q,ne){if(arguments.length<2)throw new g("actual","expected");m===void 0&&E(),m(M,q)&&B({actual:M,expected:q,message:ne,operator:"notDeepEqual",stackStartFn:z})},P.deepStrictEqual=function z(M,q,ne){if(arguments.length<2)throw new g("actual","expected");m===void 0&&E(),j(M,q)||B({actual:M,expected:q,message:ne,operator:"deepStrictEqual",stackStartFn:z})},P.notDeepStrictEqual=function z(M,q,ne){if(arguments.length<2)throw new g("actual","expected");m===void 0&&E(),j(M,q)&&B({actual:M,expected:q,message:ne,operator:"notDeepStrictEqual",stackStartFn:z})},P.strictEqual=function z(M,q,ne){if(arguments.length<2)throw new g("actual","expected");v(M,q)||B({actual:M,expected:q,message:ne,operator:"strictEqual",stackStartFn:z})},P.notStrictEqual=function z(M,q,ne){if(arguments.length<2)throw new g("actual","expected");v(M,q)&&B({actual:M,expected:q,message:ne,operator:"notStrictEqual",stackStartFn:z})};var te=function z(M,q,ne){var fe=this;(function(ve,we){if(!(ve instanceof we))throw new TypeError("Cannot call a class as a function")})(this,z),q.forEach(function(ve){ve in M&&(ne!==void 0&&typeof ne[ve]=="string"&&C(M[ve])&&M[ve].test(ne[ve])?fe[ve]=ne[ve]:fe[ve]=M[ve])})};function re(z,M,q,ne){if(typeof M!="function"){if(C(M))return M.test(z);if(arguments.length===2)throw new d("expected",["Function","RegExp"],M);if(h(z)!=="object"||z===null){var fe=new S({actual:z,expected:M,message:q,operator:"deepStrictEqual",stackStartFn:ne});throw fe.operator=ne.name,fe}var ve=Object.keys(M);if(M instanceof Error)ve.push("name","message");else if(ve.length===0)throw new _("error",M,"may not be an empty object");return m===void 0&&E(),ve.forEach(function(we){typeof z[we]=="string"&&C(M[we])&&M[we].test(z[we])||function(me,ue,_e,L,X,oe){if(!(_e in me)||!j(me[_e],ue[_e])){if(!L){var Oe=new te(me,X),le=new te(ue,X,me),pe=new S({actual:Oe,expected:le,operator:"deepStrictEqual",stackStartFn:oe});throw pe.actual=me,pe.expected=ue,pe.operator=oe.name,pe}B({actual:me,expected:ue,message:L,operator:oe.name,stackStartFn:oe})}}(z,M,we,q,ve,ne)}),!0}return M.prototype!==void 0&&z instanceof M||!Error.isPrototypeOf(M)&&M.call({},z)===!0}function ce(z){if(typeof z!="function")throw new d("fn","Function",z);try{z()}catch(M){return M}return I}function ge(z){return T(z)||z!==null&&h(z)==="object"&&typeof z.then=="function"&&typeof z.catch=="function"}function F(z){return Promise.resolve().then(function(){var M;if(typeof z=="function"){if(!ge(M=z()))throw new $("instance of Promise","promiseFn",M)}else{if(!ge(z))throw new d("promiseFn",["Function","Promise"],z);M=z}return Promise.resolve().then(function(){return M}).then(function(){return I}).catch(function(q){return q})})}function V(z,M,q,ne){if(typeof q=="string"){if(arguments.length===4)throw new d("error",["Object","Error","Function","RegExp"],q);if(h(M)==="object"&&M!==null){if(M.message===q)throw new R("error/message",'The error message "'.concat(M.message,'" is identical to the message.'))}else if(M===q)throw new R("error/message",'The error "'.concat(M,'" is identical to the message.'));ne=q,q=void 0}else if(q!=null&&h(q)!=="object"&&typeof q!="function")throw new d("error",["Object","Error","Function","RegExp"],q);if(M===I){var fe="";q&&q.name&&(fe+=" (".concat(q.name,")")),fe+=ne?": ".concat(ne):".";var ve=z.name==="rejects"?"rejection":"exception";B({actual:void 0,expected:q,operator:z.name,message:"Missing expected ".concat(ve).concat(fe),stackStartFn:z})}if(q&&!re(M,q,ne,z))throw M}function H(z,M,q,ne){if(M!==I){if(typeof q=="string"&&(ne=q,q=void 0),!q||re(M,q)){var fe=ne?": ".concat(ne):".",ve=z.name==="doesNotReject"?"rejection":"exception";B({actual:M,expected:q,operator:z.name,message:"Got unwanted ".concat(ve).concat(fe,`
`)+'Actual message: "'.concat(M&&M.message,'"'),stackStartFn:z})}throw M}}function W(){for(var z=arguments.length,M=new Array(z),q=0;q<z;q++)M[q]=arguments[q];ee.apply(void 0,[W,M.length].concat(M))}P.throws=function z(M){for(var q=arguments.length,ne=new Array(q>1?q-1:0),fe=1;fe<q;fe++)ne[fe-1]=arguments[fe];V.apply(void 0,[z,ce(M)].concat(ne))},P.rejects=function z(M){for(var q=arguments.length,ne=new Array(q>1?q-1:0),fe=1;fe<q;fe++)ne[fe-1]=arguments[fe];return F(M).then(function(ve){return V.apply(void 0,[z,ve].concat(ne))})},P.doesNotThrow=function z(M){for(var q=arguments.length,ne=new Array(q>1?q-1:0),fe=1;fe<q;fe++)ne[fe-1]=arguments[fe];H.apply(void 0,[z,ce(M)].concat(ne))},P.doesNotReject=function z(M){for(var q=arguments.length,ne=new Array(q>1?q-1:0),fe=1;fe<q;fe++)ne[fe-1]=arguments[fe];return F(M).then(function(ve){return H.apply(void 0,[z,ve].concat(ne))})},P.ifError=function z(M){if(M!=null){var q="ifError got unwanted exception: ";h(M)==="object"&&typeof M.message=="string"?M.message.length===0&&M.constructor?q+=M.constructor.name:q+=M.message:q+=x(M);var ne=new S({actual:M,expected:null,operator:"ifError",message:q,stackStartFn:z}),fe=M.stack;if(typeof fe=="string"){var ve=fe.split(`
`);ve.shift();for(var we=ne.stack.split(`
`),me=0;me<ve.length;me++){var ue=we.indexOf(ve[me]);if(ue!==-1){we=we.slice(0,ue);break}}ne.stack="".concat(we.join(`
`),`
`).concat(ve.join(`
`))}throw ne}},P.strict=w(W,P,{equal:P.strictEqual,deepEqual:P.deepStrictEqual,notEqual:P.notStrictEqual,notDeepEqual:P.notDeepStrictEqual}),P.strict.strict=P.strict},2403:u=>{u.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null},2423:u=>{u.exports=function(c,s){var f=c.discriminatorMapping&&c.discriminatorMapping.value;if(f&&!("sparse"in s)){var h=c.options.discriminatorKey;s.partialFilterExpression=s.partialFilterExpression||{},s.partialFilterExpression[h]=f}return s}},2477:(u,c,s)=>{var f=s(2402);u.exports=function(h){return h==null||h===""?null:h instanceof Date?(f.ok(!isNaN(h.valueOf())),h):(f.ok(typeof h!="boolean"),m=h instanceof Number||typeof h=="number"?new Date(h):typeof h=="string"&&!isNaN(Number(h))&&(Number(h)>=275761||Number(h)<-271820)?new Date(Number(h)):typeof h.valueOf=="function"?new Date(h.valueOf()):new Date(h),isNaN(m.valueOf())?void f.ok(!1):m);var m}},2481:(u,c,s)=>{var f=s(4756);u.exports=function(){return typeof Object.is=="function"?Object.is:f}},2486:(u,c)=>{c.read=function(s,f,h,m,j){var b,R,d=8*j-m-1,_=(1<<d)-1,$=_>>1,g=-7,S=h?j-1:0,x=h?-1:1,A=s[f+S];for(S+=x,b=A&(1<<-g)-1,A>>=-g,g+=d;g>0;b=256*b+s[f+S],S+=x,g-=8);for(R=b&(1<<-g)-1,b>>=-g,g+=m;g>0;R=256*R+s[f+S],S+=x,g-=8);if(b===0)b=1-$;else{if(b===_)return R?NaN:1/0*(A?-1:1);R+=Math.pow(2,m),b-=$}return(A?-1:1)*R*Math.pow(2,b-m)},c.write=function(s,f,h,m,j,b){var R,d,_,$=8*b-j-1,g=(1<<$)-1,S=g>>1,x=j===23?Math.pow(2,-24)-Math.pow(2,-77):0,A=m?0:b-1,T=m?1:-1,C=f<0||f===0&&1/f<0?1:0;for(f=Math.abs(f),isNaN(f)||f===1/0?(d=isNaN(f)?1:0,R=g):(R=Math.floor(Math.log(f)/Math.LN2),f*(_=Math.pow(2,-R))<1&&(R--,_*=2),(f+=R+S>=1?x/_:x*Math.pow(2,1-S))*_>=2&&(R++,_/=2),R+S>=g?(d=0,R=g):R+S>=1?(d=(f*_-1)*Math.pow(2,j),R+=S):(d=f*Math.pow(2,S-1)*Math.pow(2,j),R=0));j>=8;s[h+A]=255&d,A+=T,d/=256,j-=8);for(R=R<<j|d,$+=j;$>0;s[h+A]=255&R,A+=T,R/=256,$-=8);s[h+A-T]|=128*C}},2497:(u,c,s)=>{var f=s(1243).isMongooseArray;u.exports=function(h){return h!=null&&(f(h)||h.$__!=null||h.isMongooseBuffer||h.$isMongooseMap)}},2555:u=>{u.exports=function(c){if(Array.isArray(c)){if(!c.every(function(s){return typeof s=="number"||typeof s=="string"}))throw new Error("$type array values must be strings or numbers");return c}if(typeof c!="number"&&typeof c!="string")throw new Error("$type parameter must be number, string, or array of numbers and strings");return c}},2580:(u,c,s)=>{var f=s(2400),h=s(3550).EventEmitter,m=s(3672),j=s(7058),b=s(5549),R=m.ValidationError,d=s(4957),_=s(608);function $(g,S,x,A,T){if(!(this instanceof $))return new $(g,S,x,A,T);if(_(S)&&!S.instanceOfSchema&&(S=new j(S)),S=this.schema||S,!this.schema&&S.options._id&&(g=g||{})._id===void 0&&(g._id=new b),!S)throw new m.MissingSchemaError;for(var C in this.$__setSchema(S),f.call(this,g,x,A,T),d(this,S,{decorateDoc:!0}),S.methods)this[C]=S.methods[C];for(var w in S.statics)this[w]=S.statics[w]}$.prototype=Object.create(f.prototype),$.prototype.constructor=$,$.events=new h,$.$emitter=new h,["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"].forEach(function(g){$[g]=function(){return $.$emitter[g].apply($.$emitter,arguments)}}),$.ValidationError=R,u.exports=$},2653:u=>{u.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},2692:u=>{u.exports=function(c,s){if(s.length!==1){for(var f=s[0],h=void 0,m=0;m<s.length-1;++m){var j=c.path(f);j&&j.schema?(h=j.schema.options.strict,c=j.schema,f=j.$isMongooseDocumentArray&&!isNaN(s[m+1])?"":s[m+1]):f+=f.length?"."+s[m+1]:s[m+1]}return h}}},2696:(u,c,s)=>{var f=s(3305);u.exports=function(h,m){return typeof h=="string"&&typeof m=="string"||typeof h=="number"&&typeof m=="number"?h===m:!(!f(h,"ObjectId")||!f(m,"ObjectId"))&&h.toString()===m.toString()}},2724:(u,c,s)=>{var f=s(3071),h=s(9344),m=f("RegExp.prototype.exec"),j=s(2268);u.exports=function(b){if(!h(b))throw new j("`regex` must be a RegExp");return function(R){return m(b,R)!==null}}},2746:u=>{var c=typeof{}.nextTick=="function"?{}.nextTick.bind({env:{}}):function(s){return setTimeout(s,0)};u.exports=function(s){return c(s)}},2789:u=>{function c(s){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},c(s)}u.exports=function(s){if(s==null||c(s)!=="object")return!1;var f=Object.getPrototypeOf(s);return!f||f.constructor.name==="Object"}},2793:u=>{u.exports=new Set(["__proto__","constructor","prototype"])},2822:(u,c,s)=>{u.exports=s(6353).Double},2824:(u,c,s)=>{var f=s(7930).objectIdSymbol,h=s(8768);function m(){var b,R;if(this.$__.shardval){R=(b=Object.keys(this.$__.shardval)).length,this.$where=this.$where||{};for(var d=0;d<R;++d)this.$where[b[d]]=this.$__.shardval[b[d]]}}function j(){var b=this.$__schema.options.shardKey||this.$__schema.options.shardkey;if(h.isPOJO(b))for(var R,d=this.$__.shardval={},_=Object.keys(b),$=_.length,g=0;g<$;++g)(R=this.$__getValue(_[g]))==null?d[_[g]]=R:h.isMongooseObject(R)?d[_[g]]=R.toObject({depopulate:!0,_isNested:!0}):R instanceof Date||R[f]?d[_[g]]=R:typeof R.valueOf=="function"?d[_[g]]=R.valueOf():d[_[g]]=R}u.exports=function(b){b.post("init",function(){return j.call(this),this}),b.pre("save",function(R){m.call(this),R()}),b.pre("remove",function(R){m.call(this),R()}),b.post("save",function(){j.call(this)})},u.exports.storeShard=j},2900:(u,c,s)=>{var f=s(8260);u.exports=function(h){if(f(h)!=="TopologyDescription")return!1;var m=Array.from(h.servers.values());return m.length>0&&m.every(function(j){return j.type==="Unknown"})}},2914:(u,c,s)=>{function f(R){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},f(R)}var h=s(7860),m=["__proto__","constructor","prototype"];function j(R,d,_,$,g,S){for(var x,A=0;A<R.length&&A<d.length;++A)x=R[A],Array.isArray(x)&&Array.isArray(d[A])?j(x,d[A],_,$,g,S):x&&($?$(x,_,S(d[A])):(x[g]&&(x=x[g]),x[_]=S(d[A])))}function b(R){return R}c.get=function(R,d,_,$){var g;typeof _=="function"&&(_.length<2?($=_,_=void 0):(g=_,_=void 0)),$||($=b);var S=typeof R=="string"?h(R):R;if(!Array.isArray(S))throw new TypeError("Invalid `path`. Must be either string or array");for(var x,A=d,T=0;T<S.length;++T){if(x=S[T],typeof S[T]!="string"&&typeof S[T]!="number")throw new TypeError("Each segment of path to `get()` must be a string or number, got "+f(S[T]));if(Array.isArray(A)&&!/^\d+$/.test(x)){var C=S.slice(T);return[].concat(A).map(function(v){return v?c.get(C,v,_||g,$):$(void 0)})}if(g)A=g(A,x);else{var w=_&&A[_]?A[_]:A;A=w instanceof Map?w.get(x):w[x]}if(!A)return $(A)}return $(A)},c.has=function(R,d){var _=typeof R=="string"?h(R):R;if(!Array.isArray(_))throw new TypeError("Invalid `path`. Must be either string or array");for(var $=_.length,g=d,S=0;S<$;++S){if(typeof _[S]!="string"&&typeof _[S]!="number")throw new TypeError("Each segment of path to `has()` must be a string or number, got "+f(_[S]));if(g==null||f(g)!=="object"||!(_[S]in g))return!1;g=g[_[S]]}return!0},c.unset=function(R,d){var _=typeof R=="string"?h(R):R;if(!Array.isArray(_))throw new TypeError("Invalid `path`. Must be either string or array");for(var $=_.length,g=d,S=0;S<$;++S){if(g==null||f(g)!=="object"||!(_[S]in g))return!1;if(typeof _[S]!="string"&&typeof _[S]!="number")throw new TypeError("Each segment of path to `unset()` must be a string or number, got "+f(_[S]));if(m.indexOf(_[S])!==-1)return!1;if(S===$-1)return delete g[_[S]],!0;g=g instanceof Map?g.get(_[S]):g[_[S]]}return!0},c.set=function(R,d,_,$,g,S){var x;typeof $=="function"&&($.length<2?(g=$,$=void 0):(x=$,$=void 0)),g||(g=b);var A=typeof R=="string"?h(R):R;if(!Array.isArray(A))throw new TypeError("Invalid `path`. Must be either string or array");if(_!=null){for(var T=0;T<A.length;++T){if(typeof A[T]!="string"&&typeof A[T]!="number")throw new TypeError("Each segment of path to `set()` must be a string or number, got "+f(A[T]));if(m.indexOf(A[T])!==-1)return}for(var C,w=S||/\$/.test(R)&&S!==!1,v=_,E=(T=0,A.length-1);T<E;++T)if((C=A[T])!="$"){if(Array.isArray(v)&&!/^\d+$/.test(C)){var N=A.slice(T);if(!w&&Array.isArray(d))for(var P=0;P<v.length&&P<d.length;++P)c.set(N,d[P],v[P],$||x,g,w);else for(P=0;P<v.length;++P)c.set(N,d,v[P],$||x,g,w);return}if(x)v=x(v,C);else{var I=$&&v[$]?v[$]:v;v=I instanceof Map?I.get(C):I[C]}if(!v)return}else if(T==E-1)break;if(C=A[E],$&&v[$]&&(v=v[$]),Array.isArray(v)&&!/^\d+$/.test(C))if(!w&&Array.isArray(d))j(v,d,C,x,$,g);else for(P=0;P<v.length;++P){var B=v[P];B&&(x?x(B,C,g(d)):(B[$]&&(B=B[$]),B[C]=g(d)))}else x?x(v,C,g(d)):v instanceof Map?v.set(C,g(d)):v[C]=g(d)}},c.stringToParts=h},2945:(u,c,s)=>{function f(d){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},f(d)}function h(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!d})()}function m(d){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},m(d)}function j(d,_){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,g){return $.__proto__=g,$},j(d,_)}var b=function(d){function _(){return function(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,_),function(g,S,x){return S=m(S),function(A,T){if(T&&(f(T)=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(A)}(g,h()?Reflect.construct(S,x||[],m(g).constructor):S.apply(g,x))}(this,_,arguments)}return function(g,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(S&&S.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),S&&j(g,S)}(_,d),$=_,Object.defineProperty($,"prototype",{writable:!1}),$;var $}(s(8879)),R=s(5761);Object.defineProperty(b.prototype,"subtype",R),u.exports=b},3071:(u,c,s)=>{var f=s(6400),h=s(8863),m=h([f("%String.prototype.indexOf%")]);u.exports=function(j,b){var R=f(j,!!b);return typeof R=="function"&&m(j,".prototype.")>-1?h([R]):R}},3091:(u,c,s)=>{function f(P){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},f(P)}function h(P,I){var B=Object.keys(P);if(Object.getOwnPropertySymbols){var ee=Object.getOwnPropertySymbols(P);I&&(ee=ee.filter(function(Z){return Object.getOwnPropertyDescriptor(P,Z).enumerable})),B.push.apply(B,ee)}return B}function m(P){for(var I=1;I<arguments.length;I++){var B=arguments[I]!=null?arguments[I]:{};I%2?h(Object(B),!0).forEach(function(ee){j(P,ee,B[ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(B)):h(Object(B)).forEach(function(ee){Object.defineProperty(P,ee,Object.getOwnPropertyDescriptor(B,ee))})}return P}function j(P,I,B){return(I=function(ee){var Z=function(te){if(f(te)!="object"||!te)return te;var re=te[Symbol.toPrimitive];if(re!==void 0){var ce=re.call(te,"string");if(f(ce)!="object")return ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(te)}(ee);return f(Z)=="symbol"?Z:Z+""}(I))in P?Object.defineProperty(P,I,{value:B,enumerable:!0,configurable:!0,writable:!0}):P[I]=B,P}var b,R=s(4625),d=s(6426),_=s(863),$=s(4327),g=s(8260),S=s(5549),x=s(3305),A=s(8768),T=d.CastError;function C(P,I){var B=typeof P=="string"&&P.length===24&&/^[a-f0-9]+$/i.test(P),ee=I&&I.suppressWarning;!B&&P!==void 0||ee||A.warn("mongoose: To create a new ObjectId please try `Mongoose.Types.ObjectId` instead of using `Mongoose.Schema.ObjectId`. Set the `suppressWarning` option if you're trying to create a hex char path in your schema."),d.call(this,P,I,"ObjectId")}function w(P){return this.cast(P)}C.schemaName="ObjectId",C.defaultOptions={},C.prototype=Object.create(d.prototype),C.prototype.constructor=C,C.prototype.OptionsConstructor=R,C.get=d.get,C.set=d.set,C.setters=[],C.prototype.auto=function(P){return P&&(this.default(E),this.set(N)),this},C._checkRequired=function(P){return x(P,"ObjectId")},C._cast=_,C.cast=function(P){return arguments.length===0||(P===!1&&(P=this._defaultCaster),this._cast=P),this._cast},C._defaultCaster=function(P){if(!x(P,"ObjectId"))throw new Error(P+" is not an instance of ObjectId");return P},C.checkRequired=d.checkRequired,C.prototype.checkRequired=function(P,I){return d._isRef(this,P,I,!0)?!!P:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():C.checkRequired())(P)},C.prototype.cast=function(P,I,B,ee,Z){if(!x(P,"ObjectId")&&d._isRef(this,P,I,B)){if((g(P)||"").toLowerCase()==="objectid")return new S(P.toHexString());if(P==null||A.isNonBuiltinObject(P))return this._castRef(P,I,B,Z)}var te;te=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():C.cast();try{return te(P)}catch(re){throw new T("ObjectId",P,this.path,re,this)}};var v=m(m({},d.prototype.$conditionalHandlers),{},{$gt:w,$gte:w,$lt:w,$lte:w});function E(){return new S}function N(P){return b||(b=s(2400)),this instanceof b&&P===void 0?new S:P}Object.defineProperty(C.prototype,"$conditionalHandlers",{enumerable:!1,value:v}),E.$runBeforeSetters=!0,C.prototype.toJSONSchema=function(P){var I=this.options.required&&typeof this.options.required!="function"||this.path==="_id";return $("string","objectId",P==null?void 0:P.useBsonType,I)},C.prototype.autoEncryptionType=function(){return"objectId"},u.exports=C},3123:u=>{u.exports=Function.prototype.call},3191:(u,c,s)=>{var f=s(988),h=function(){return!!f};h.hasArrayLengthDefineBug=function(){if(!f)return null;try{return f([],"length",{value:1}).length!==1}catch{return!0}},u.exports=h},3216:(u,c,s)=>{function f(d,_){var $=Object.keys(d);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(d);_&&(g=g.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable})),$.push.apply($,g)}return $}function h(d){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?f(Object($),!0).forEach(function(g){m(d,g,$[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors($)):f(Object($)).forEach(function(g){Object.defineProperty(d,g,Object.getOwnPropertyDescriptor($,g))})}return d}function m(d,_,$){return(_=function(g){var S=function(x){if(j(x)!="object"||!x)return x;var A=x[Symbol.toPrimitive];if(A!==void 0){var T=A.call(x,"string");if(j(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(x)}(g);return j(S)=="symbol"?S:S+""}(_))in d?Object.defineProperty(d,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):d[_]=$,d}function j(d){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},j(d)}var b=s(8768),R=new Set(["__index","__parentArray","_doc"]);u.exports=function(d,_){if(b.isPOJO(d)&&d.$__!=null&&d._doc!=null){if(_){for(var $={},g=0,S=Object.keys(d);g<S.length;g++){var x=S[g];j(x)!=="symbol"&&x[0]!=="$"&&(R.has(x)||($[x]=d[x]))}return h(h({},d._doc),$)}return d._doc}return d}},3279:u=>{u.exports=Function.prototype.apply},3303:(u,c)=>{c._={transform:!1,virtuals:!1,getters:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1,useProjection:!1,versionKey:!0,flattenObjectIds:!1}},3305:u=>{u.exports=function(c,s){return c!=null&&c._bsontype===s}},3318:(u,c,s)=>{function f(x){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},f(x)}function h(x,A){var T=Object.keys(x);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(x);A&&(C=C.filter(function(w){return Object.getOwnPropertyDescriptor(x,w).enumerable})),T.push.apply(T,C)}return T}function m(x){for(var A=1;A<arguments.length;A++){var T=arguments[A]!=null?arguments[A]:{};A%2?h(Object(T),!0).forEach(function(C){j(x,C,T[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(T)):h(Object(T)).forEach(function(C){Object.defineProperty(x,C,Object.getOwnPropertyDescriptor(T,C))})}return x}function j(x,A,T){return(A=function(C){var w=function(v){if(f(v)!="object"||!v)return v;var E=v[Symbol.toPrimitive];if(E!==void 0){var N=E.call(v,"string");if(f(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}(C);return f(w)=="symbol"?w:w+""}(A))in x?Object.defineProperty(x,A,{value:T,enumerable:!0,configurable:!0,writable:!0}):x[A]=T,x}var b=s(3609),R=s(6426),d=s(4058),_=s(4327);function $(x,A){R.call(this,x,A,"BigInt")}$.schemaName="BigInt",$.defaultOptions={},$.prototype=Object.create(R.prototype),$.prototype.constructor=$,$._cast=d,$.set=R.set,$.setters=[],$.get=R.get,$.cast=function(x){return arguments.length===0||(x===!1&&(x=this._defaultCaster),this._cast=x),this._cast},$._checkRequired=function(x){return x!=null},$.checkRequired=R.checkRequired,$.prototype.checkRequired=function(x){return this.constructor._checkRequired(x)},$.prototype.cast=function(x){var A;A=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():$.cast();try{return A(x)}catch(T){throw new b("BigInt",x,this.path,T,this)}};var g=m(m({},R.prototype.$conditionalHandlers),{},{$gt:S,$gte:S,$lt:S,$lte:S});function S(x,A){return this.castForQuery(null,x,A)}Object.defineProperty($.prototype,"$conditionalHandlers",{enumerable:!1,value:g}),$.prototype.castForQuery=function(x,A,T){var C;if(x!=null)return(C=this.$conditionalHandlers[x])?C.call(this,A):this.applySetters(A,T);try{return this.applySetters(A,T)}catch(w){throw w instanceof b&&w.path===this.path&&this.$fullPath!=null&&(w.path=this.$fullPath),w}},$.prototype._castNullish=function(x){return x===void 0||(typeof this.constructor.cast=="function"?this.constructor.cast():$.cast()),x},$.prototype.toJSONSchema=function(x){var A=this.options.required&&typeof this.options.required!="function";return _("string","long",x==null?void 0:x.useBsonType,A)},$.prototype.autoEncryptionType=function(){return"long"},u.exports=$},3381:u=>{function c(){return this._id!=null?this._id.toString():null}u.exports=function(s){return!s.paths.id&&s.paths._id&&s.options.id&&(s.aliases&&s.aliases.id||s.virtual("id").get(c)),s}},3388:u=>{u.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply},3414:u=>{u.exports=Number.isNaN||function(c){return c!=c}},3426:(u,c,s)=>{var f=s(2653),h=typeof globalThis>"u"?s.g:globalThis;u.exports=function(){for(var m=[],j=0;j<f.length;j++)typeof h[f[j]]=="function"&&(m[m.length]=f[j]);return m}},3441:(u,c,s)=>{function f(R){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},f(R)}function h(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!R})()}function m(R){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},m(R)}function j(R,d){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,$){return _.__proto__=$,_},j(R,d)}var b=function(R){function d($,g){var S;(function(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")})(this,d);var x=Array.isArray(g)?"array":"primitive value";return(S=function(A,T,C){return T=m(T),function(w,v){if(v&&(f(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(w)}(A,h()?Reflect.construct(T,C||[],m(A).constructor):T.apply(A,C))}(this,d,["Tried to set nested object field `"+$+"` to ".concat(x," `")+g+"`"])).path=$,S}return function($,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(g&&g.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),g&&j($,g)}(d,R),_=d,Object.defineProperty(_,"prototype",{writable:!1}),_;var _}(s(8213));Object.defineProperty(b.prototype,"name",{value:"ObjectExpectedError"}),u.exports=b},3550:u=>{function c(C){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},c(C)}var s,f=(typeof Reflect>"u"?"undefined":c(Reflect))==="object"?Reflect:null,h=f&&typeof f.apply=="function"?f.apply:function(C,w,v){return Function.prototype.apply.call(C,w,v)};s=f&&typeof f.ownKeys=="function"?f.ownKeys:Object.getOwnPropertySymbols?function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:function(C){return Object.getOwnPropertyNames(C)};var m=Number.isNaN||function(C){return C!=C};function j(){j.init.call(this)}u.exports=j,u.exports.once=function(C,w){return new Promise(function(v,E){function N(I){C.removeListener(w,P),E(I)}function P(){typeof C.removeListener=="function"&&C.removeListener("error",N),v([].slice.call(arguments))}T(C,w,P,{once:!0}),w!=="error"&&function(I,B){typeof I.on=="function"&&T(I,"error",B,{once:!0})}(C,N)})},j.EventEmitter=j,j.prototype._events=void 0,j.prototype._eventsCount=0,j.prototype._maxListeners=void 0;var b=10;function R(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+c(C))}function d(C){return C._maxListeners===void 0?j.defaultMaxListeners:C._maxListeners}function _(C,w,v,E){var N,P,I,B;if(R(v),(P=C._events)===void 0?(P=C._events=Object.create(null),C._eventsCount=0):(P.newListener!==void 0&&(C.emit("newListener",w,v.listener?v.listener:v),P=C._events),I=P[w]),I===void 0)I=P[w]=v,++C._eventsCount;else if(typeof I=="function"?I=P[w]=E?[v,I]:[I,v]:E?I.unshift(v):I.push(v),(N=d(C))>0&&I.length>N&&!I.warned){I.warned=!0;var ee=new Error("Possible EventEmitter memory leak detected. "+I.length+" "+String(w)+" listeners added. Use emitter.setMaxListeners() to increase limit");ee.name="MaxListenersExceededWarning",ee.emitter=C,ee.type=w,ee.count=I.length,B=ee,console&&console.warn&&console.warn(B)}return C}function $(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g(C,w,v){var E={fired:!1,wrapFn:void 0,target:C,type:w,listener:v},N=$.bind(E);return N.listener=v,E.wrapFn=N,N}function S(C,w,v){var E=C._events;if(E===void 0)return[];var N=E[w];return N===void 0?[]:typeof N=="function"?v?[N.listener||N]:[N]:v?function(P){for(var I=new Array(P.length),B=0;B<I.length;++B)I[B]=P[B].listener||P[B];return I}(N):A(N,N.length)}function x(C){var w=this._events;if(w!==void 0){var v=w[C];if(typeof v=="function")return 1;if(v!==void 0)return v.length}return 0}function A(C,w){for(var v=new Array(w),E=0;E<w;++E)v[E]=C[E];return v}function T(C,w,v,E){if(typeof C.on=="function")E.once?C.once(w,v):C.on(w,v);else{if(typeof C.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+c(C));C.addEventListener(w,function N(P){E.once&&C.removeEventListener(w,N),v(P)})}}Object.defineProperty(j,"defaultMaxListeners",{enumerable:!0,get:function(){return b},set:function(C){if(typeof C!="number"||C<0||m(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");b=C}}),j.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},j.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||m(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this},j.prototype.getMaxListeners=function(){return d(this)},j.prototype.emit=function(C){for(var w=[],v=1;v<arguments.length;v++)w.push(arguments[v]);var E=C==="error",N=this._events;if(N!==void 0)E=E&&N.error===void 0;else if(!E)return!1;if(E){var P;if(w.length>0&&(P=w[0]),P instanceof Error)throw P;var I=new Error("Unhandled error."+(P?" ("+P.message+")":""));throw I.context=P,I}var B=N[C];if(B===void 0)return!1;if(typeof B=="function")h(B,this,w);else{var ee=B.length,Z=A(B,ee);for(v=0;v<ee;++v)h(Z[v],this,w)}return!0},j.prototype.addListener=function(C,w){return _(this,C,w,!1)},j.prototype.on=j.prototype.addListener,j.prototype.prependListener=function(C,w){return _(this,C,w,!0)},j.prototype.once=function(C,w){return R(w),this.on(C,g(this,C,w)),this},j.prototype.prependOnceListener=function(C,w){return R(w),this.prependListener(C,g(this,C,w)),this},j.prototype.removeListener=function(C,w){var v,E,N,P,I;if(R(w),(E=this._events)===void 0)return this;if((v=E[C])===void 0)return this;if(v===w||v.listener===w)--this._eventsCount===0?this._events=Object.create(null):(delete E[C],E.removeListener&&this.emit("removeListener",C,v.listener||w));else if(typeof v!="function"){for(N=-1,P=v.length-1;P>=0;P--)if(v[P]===w||v[P].listener===w){I=v[P].listener,N=P;break}if(N<0)return this;N===0?v.shift():function(B,ee){for(;ee+1<B.length;ee++)B[ee]=B[ee+1];B.pop()}(v,N),v.length===1&&(E[C]=v[0]),E.removeListener!==void 0&&this.emit("removeListener",C,I||w)}return this},j.prototype.off=j.prototype.removeListener,j.prototype.removeAllListeners=function(C){var w,v,E;if((v=this._events)===void 0)return this;if(v.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):v[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete v[C]),this;if(arguments.length===0){var N,P=Object.keys(v);for(E=0;E<P.length;++E)(N=P[E])!=="removeListener"&&this.removeAllListeners(N);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(w=v[C])=="function")this.removeListener(C,w);else if(w!==void 0)for(E=w.length-1;E>=0;E--)this.removeListener(C,w[E]);return this},j.prototype.listeners=function(C){return S(this,C,!0)},j.prototype.rawListeners=function(C){return S(this,C,!1)},j.listenerCount=function(C,w){return typeof C.listenerCount=="function"?C.listenerCount(w):x.call(C,w)},j.prototype.listenerCount=x,j.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]}},3609:(u,c,s)=>{function f(w){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},f(w)}function h(w,v){for(var E=0;E<v.length;E++){var N=v[E];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(w,m(N.key),N)}}function m(w){var v=function(E){if(f(E)!="object"||!E)return E;var N=E[Symbol.toPrimitive];if(N!==void 0){var P=N.call(E,"string");if(f(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(w);return f(v)=="symbol"?v:v+""}function j(w,v,E){return v=d(v),function(N,P){if(P&&(f(P)=="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b(N)}(w,R()?Reflect.construct(v,E||[],d(w).constructor):v.apply(w,E))}function b(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}function R(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(R=function(){return!!w})()}function d(w){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(v){return v.__proto__||Object.getPrototypeOf(v)},d(w)}function _(w,v){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,N){return E.__proto__=N,E},_(w,v)}var $=s(8213),g=s(7352),S=function(w){function v(P,I,B,ee,Z){var te;if(function(ce,ge){if(!(ce instanceof ge))throw new TypeError("Cannot call a class as a function")}(this,v),arguments.length>0){var re=A(I);(te=j(this,v,[C(null,P,I,B,T(Z),re,ee)])).init(P,I,B,ee,Z)}else te=j(this,v,[C()]);return b(te)}return function(P,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(I&&I.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),I&&_(P,I)}(v,w),E=v,(N=[{key:"toJSON",value:function(){return{stringValue:this.stringValue,valueType:this.valueType,kind:this.kind,value:this.value,path:this.path,reason:this.reason,name:this.name,message:this.message}}},{key:"init",value:function(P,I,B,ee,Z){this.stringValue=x(I),this.messageFormat=T(Z),this.kind=P,this.value=I,this.path=B,this.reason=ee,this.valueType=A(I)}},{key:"copy",value:function(P){this.messageFormat=P.messageFormat,this.stringValue=P.stringValue,this.kind=P.kind,this.value=P.value,this.path=P.path,this.reason=P.reason,this.message=P.message,this.valueType=P.valueType}},{key:"setModel",value:function(P){this.message=C(P,this.kind,this.value,this.path,this.messageFormat,this.valueType)}}])&&h(E.prototype,N),Object.defineProperty(E,"prototype",{writable:!1}),E;var E,N}($);function x(w){var v=g.inspect(w);return(v=v.replace(/^'|'$/g,'"')).startsWith('"')||(v='"'+v+'"'),v}function A(w){if(w==null)return""+w;var v=f(w);return v!=="object"||typeof w.constructor!="function"?v:w.constructor.name}function T(w){var v=w&&w._castErrorMessage||null;if(typeof v=="string"||typeof v=="function")return v}function C(w,v,E,N,P,I,B){if(typeof P=="string"){var ee=x(E),Z=P.replace("{KIND}",v).replace("{VALUE}",ee).replace("{PATH}",N);return w!=null&&(Z=Z.replace("{MODEL}",w.modelName)),Z}if(typeof P=="function")return P(E,N,w,v);var te="Cast to "+v+" failed for value "+x(E)+(I?" (type "+I+")":"")+' at path "'+N+'"';return w!=null&&(te+=' for model "'+w.modelName+'"'),B!=null&&typeof B.constructor=="function"&&B.constructor.name!=="AssertionError"&&B.constructor.name!=="Error"&&(te+=' because of "'+B.constructor.name+'"'),te}Object.defineProperty(S.prototype,"name",{value:"CastError"}),u.exports=S},3622:u=>{function c(s){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},c(s)}u.exports=function(s,f,h){return s==null?s:(s._doc!=null&&(s=s._doc),arguments.length>=3?c(s)!=="object"||h===void 0?void 0:(s instanceof Map?s.set(f,h):s[f]=h,h):f==="$*"?s instanceof Map?Array.from(s.values()):Object.keys(s).map(function(m){return s[m]}):s instanceof Map?s.get(f):s[f])}},3644:(u,c,s)=>{function f(R){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},f(R)}function h(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!R})()}function m(R){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},m(R)}function j(R,d){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,$){return _.__proto__=$,_},j(R,d)}var b=function(R){function d($){return function(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,d),function(g,S,x){return S=m(S),function(A,T){if(T&&(f(T)=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(A)}(g,h()?Reflect.construct(S,x||[],m(g).constructor):S.apply(g,x))}(this,d,["Cannot overwrite `"+$+"` model once compiled."])}return function($,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(g&&g.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),g&&j($,g)}(d,R),_=d,Object.defineProperty(_,"prototype",{writable:!1}),_;var _}(s(8213));Object.defineProperty(b.prototype,"name",{value:"OverwriteModelError"}),u.exports=b},3660:(u,c,s)=>{function f(w,v){var E=Object.keys(w);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(w);v&&(N=N.filter(function(P){return Object.getOwnPropertyDescriptor(w,P).enumerable})),E.push.apply(E,N)}return E}function h(w){for(var v=1;v<arguments.length;v++){var E=arguments[v]!=null?arguments[v]:{};v%2?f(Object(E),!0).forEach(function(N){m(w,N,E[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(E)):f(Object(E)).forEach(function(N){Object.defineProperty(w,N,Object.getOwnPropertyDescriptor(E,N))})}return w}function m(w,v,E){return(v=function(N){var P=function(I){if(j(I)!="object"||!I)return I;var B=I[Symbol.toPrimitive];if(B!==void 0){var ee=B.call(I,"string");if(j(ee)!="object")return ee;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}(N);return j(P)=="symbol"?P:P+""}(v))in w?Object.defineProperty(w,v,{value:E,enumerable:!0,configurable:!0,writable:!0}):w[v]=E,w}function j(w){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},j(w)}var b=s(3672),R=s(1007),d=s(6426),_=s(7768),$=s(4327),g=s(9460),S=s(8768),x=d.CastError;function A(w,v){d.call(this,w,v,"Number")}function T(w){return this.cast(w)}A.get=d.get,A.set=d.set,A.setters=[],A._cast=_,A.cast=function(w){return arguments.length===0||(w===!1&&(w=this._defaultCaster),this._cast=w),this._cast},A._defaultCaster=function(w){if(typeof w!="number")throw new Error;return w},A.schemaName="Number",A.defaultOptions={},A.prototype=Object.create(d.prototype),A.prototype.constructor=A,A.prototype.OptionsConstructor=R,A._checkRequired=function(w){return typeof w=="number"||w instanceof Number},A.checkRequired=d.checkRequired,A.prototype.checkRequired=function(w,v){return j(w)==="object"&&d._isRef(this,w,v,!0)?w!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():A.checkRequired())(w)},A.prototype.min=function(w,v){if(this.minValidator&&(this.validators=this.validators.filter(function(N){return N.validator!==this.minValidator},this)),w!=null){var E=v||b.messages.Number.min;E=E.replace(/{MIN}/,w),this.validators.push({validator:this.minValidator=function(N){return N==null||N>=w},message:E,type:"min",min:w})}return this},A.prototype.max=function(w,v){if(this.maxValidator&&(this.validators=this.validators.filter(function(N){return N.validator!==this.maxValidator},this)),w!=null){var E=v||b.messages.Number.max;E=E.replace(/{MAX}/,w),this.validators.push({validator:this.maxValidator=function(N){return N==null||N<=w},message:E,type:"max",max:w})}return this},A.prototype.enum=function(w,v){return this.enumValidator&&(this.validators=this.validators.filter(function(E){return E.validator!==this.enumValidator},this)),Array.isArray(w)||(S.isPOJO(w)&&w.values!=null?(v=w.message,w=w.values):typeof w=="number"&&(w=Array.prototype.slice.call(arguments),v=null),S.isPOJO(w)&&(w=Object.values(w)),v=v||b.messages.Number.enum),v=v??b.messages.Number.enum,this.enumValidator=function(E){return E==null||w.indexOf(E)!==-1},this.validators.push({validator:this.enumValidator,message:v,type:"enum",enumValues:w}),this},A.prototype.cast=function(w,v,E,N,P){if(typeof w!="number"&&d._isRef(this,w,v,E)&&(w==null||S.isNonBuiltinObject(w)))return this._castRef(w,v,E,P);var I,B=w&&w._id!==void 0?w._id:w;I=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():A.cast();try{return I(B)}catch(ee){throw new x("Number",B,this.path,ee,this)}};var C=h(h({},d.prototype.$conditionalHandlers),{},{$bitsAllClear:g,$bitsAnyClear:g,$bitsAllSet:g,$bitsAnySet:g,$gt:T,$gte:T,$lt:T,$lte:T,$mod:function(w){var v=this;return Array.isArray(w)?w.map(function(E){return v.cast(E)}):[this.cast(w)]}});Object.defineProperty(A.prototype,"$conditionalHandlers",{enumerable:!1,value:C}),A.prototype.castForQuery=function(w,v,E){var N;if(w!=null){if(!(N=this.$conditionalHandlers[w]))throw new x("number",v,this.path,null,this);return N.call(this,v,E)}try{v=this.applySetters(v,E)}catch(P){throw P instanceof x&&P.path===this.path&&this.$fullPath!=null&&(P.path=this.$fullPath),P}return v},A.prototype.toJSONSchema=function(w){var v=this.options.required&&typeof this.options.required!="function"||this.path==="_id";return $("number","number",w==null?void 0:w.useBsonType,v)},u.exports=A},3672:(u,c,s)=>{var f=s(8213);u.exports=f,f.messages=s(766),f.Messages=f.messages,f.CastError=s(3609),f.DocumentNotFoundError=s(1129),f.ValidationError=s(6949),f.ValidatorError=s(9538),f.VersionError=s(6996),f.ParallelSaveError=s(3940),f.OverwriteModelError=s(3644),f.MissingSchemaError=s(8063),f.MongooseBulkSaveIncompleteError=s(8517),f.MongooseServerSelectionError=s(7219),f.DivergentArrayError=s(1417),f.StrictModeError=s(8995),f.StrictPopulateError=s(6801)},3696:u=>{u.exports=function(c,s){return c==null?null:typeof c=="boolean"?s:typeof c[s]=="boolean"?c[s]?s:null:s in c?c[s]:s}},3703:u=>{function c(f,h){(h==null||h>f.length)&&(h=f.length);for(var m=0,j=Array(h);m<h;m++)j[m]=f[m];return j}function s(f,h){return f==null?f:f instanceof Map?f.get(h):f[h]}u.exports=function(f,h,m){var j,b=!1;if(typeof h=="string"){if(h.indexOf(".")===-1){var R=s(f,h);return R??m}j=h.split(".")}else if(b=!0,(j=h).length===1){var d=s(f,j[0]);return d??m}var _,$=h,g=f,S=function(A,T){var C=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(!C){if(Array.isArray(A)||(C=function(I,B){if(I){if(typeof I=="string")return c(I,B);var ee={}.toString.call(I).slice(8,-1);return ee==="Object"&&I.constructor&&(ee=I.constructor.name),ee==="Map"||ee==="Set"?Array.from(I):ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee)?c(I,B):void 0}}(A))||T){C&&(A=C);var w=0,v=function(){};return{s:v,n:function(){return w>=A.length?{done:!0}:{done:!1,value:A[w++]}},e:function(I){throw I},f:v}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var E,N=!0,P=!1;return{s:function(){C=C.call(A)},n:function(){var I=C.next();return N=I.done,I},e:function(I){P=!0,E=I},f:function(){try{N||C.return==null||C.return()}finally{if(P)throw E}}}}(j);try{for(S.s();!(_=S.n()).done;){var x=_.value;if(g==null)return m;if(!b&&g[$]!=null)return g[$];g=s(g,x),b||($=$.substr(x.length+1))}}catch(A){S.e(A)}finally{S.f()}return g??m}},3704:(u,c,s)=>{function f(b){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},f(b)}var h=s(2402),m=s(6353),j=s(3305);u.exports=function(b){if(b==null||b==="")return null;var R;if(j(b,"Long"))R=b.toNumber();else if(typeof b=="string")try{return m.Double.fromString(b)}catch{h.ok(!1)}else if(f(b)==="object"){var d,_=(d=b.valueOf())!==null&&d!==void 0?d:b.toString();if(typeof _=="string")try{return m.Double.fromString(b)}catch{h.ok(!1)}else R=Number(_)}else R=Number(b);return new m.Double(R)}},3731:(u,c,s)=>{function f(d){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},f(d)}function h(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!d})()}function m(d){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},m(d)}function j(d,_){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,g){return $.__proto__=g,$},j(d,_)}var b=function(d){function _(){return function(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,_),function(g,S,x){return S=m(S),function(A,T){if(T&&(f(T)=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(A)}(g,h()?Reflect.construct(S,x||[],m(g).constructor):S.apply(g,x))}(this,_,arguments)}return function(g,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(S&&S.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),S&&j(g,S)}(_,d),$=_,Object.defineProperty($,"prototype",{writable:!1}),$;var $}(s(8879)),R=s(5761);Object.defineProperty(b.prototype,"min",R),Object.defineProperty(b.prototype,"max",R),Object.defineProperty(b.prototype,"expires",R),u.exports=b},3743:(u,c,s)=>{function f(g){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},f(g)}function h(g){return h=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(S){return f(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":f(S)},h(g)}function m(g){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},m(g)}function j(g,S){return j=Object.setPrototypeOf||function(x,A){return x.__proto__=A,x},j(g,S)}var b,R,d={};function _(g,S,x){x||(x=Error);var A=function(T){function C(w,v,E){var N;return function(P,I){if(!(P instanceof I))throw new TypeError("Cannot call a class as a function")}(this,C),N=function(P,I){return!I||h(I)!=="object"&&typeof I!="function"?function(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(P):I}(this,m(C).call(this,function(P,I,B){return typeof S=="string"?S:S(P,I,B)}(w,v,E))),N.code=g,N}return function(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),v&&j(w,v)}(C,T),C}(x);d[g]=A}function $(g,S){if(Array.isArray(g)){var x=g.length;return g=g.map(function(A){return String(A)}),x>2?"one of ".concat(S," ").concat(g.slice(0,x-1).join(", "),", or ")+g[x-1]:x===2?"one of ".concat(S," ").concat(g[0]," or ").concat(g[1]):"of ".concat(S," ").concat(g[0])}return"of ".concat(S," ").concat(String(g))}_("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),_("ERR_INVALID_ARG_TYPE",function(g,S,x){var A,T,C,w,v;if(b===void 0&&(b=s(2402)),b(typeof g=="string","'name' must be a string"),typeof S=="string"&&(T="not ",S.substr(0,4)===T)?(A="must not be",S=S.replace(/^not /,"")):A="must be",function(N,P,I){return(I===void 0||I>N.length)&&(I=N.length),N.substring(I-9,I)===P}(g," argument"))C="The ".concat(g," ").concat(A," ").concat($(S,"type"));else{var E=(typeof v!="number"&&(v=0),v+1>(w=g).length||w.indexOf(".",v)===-1?"argument":"property");C='The "'.concat(g,'" ').concat(E," ").concat(A," ").concat($(S,"type"))}return C+". Received type ".concat(h(x))},TypeError),_("ERR_INVALID_ARG_VALUE",function(g,S){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";R===void 0&&(R=s(7352));var A=R.inspect(S);return A.length>128&&(A="".concat(A.slice(0,128),"...")),"The argument '".concat(g,"' ").concat(x,". Received ").concat(A)},TypeError),_("ERR_INVALID_RETURN_VALUE",function(g,S,x){var A;return A=x&&x.constructor&&x.constructor.name?"instance of ".concat(x.constructor.name):"type ".concat(h(x)),"Expected ".concat(g,' to be returned from the "').concat(S,'"')+" function but got ".concat(A,".")},TypeError),_("ERR_MISSING_ARGS",function(){for(var g=arguments.length,S=new Array(g),x=0;x<g;x++)S[x]=arguments[x];b===void 0&&(b=s(2402)),b(S.length>0,"At least one arg needs to be specified");var A="The ",T=S.length;switch(S=S.map(function(C){return'"'.concat(C,'"')}),T){case 1:A+="".concat(S[0]," argument");break;case 2:A+="".concat(S[0]," and ").concat(S[1]," arguments");break;default:A+=S.slice(0,T-1).join(", "),A+=", and ".concat(S[T-1]," arguments")}return"".concat(A," must be specified")},TypeError),u.exports.codes=d},3777:(u,c,s)=>{var f=s(9809),h=Object.prototype.toString,m=Object.prototype.hasOwnProperty;u.exports=function(j,b,R){if(!f(b))throw new TypeError("iterator must be a function");var d,_;arguments.length>=3&&(d=R),_=j,h.call(_)==="[object Array]"?function($,g,S){for(var x=0,A=$.length;x<A;x++)m.call($,x)&&(S==null?g($[x],x,$):g.call(S,$[x],x,$))}(j,b,d):typeof j=="string"?function($,g,S){for(var x=0,A=$.length;x<A;x++)S==null?g($.charAt(x),x,$):g.call(S,$.charAt(x),x,$)}(j,b,d):function($,g,S){for(var x in $)m.call($,x)&&(S==null?g($[x],x,$):g.call(S,$[x],x,$))}(j,b,d)}},3892:(u,c,s)=>{function f(T){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},f(T)}function h(T,C){var w=typeof Symbol<"u"&&T[Symbol.iterator]||T["@@iterator"];if(!w){if(Array.isArray(T)||(w=function(B,ee){if(B){if(typeof B=="string")return m(B,ee);var Z={}.toString.call(B).slice(8,-1);return Z==="Object"&&B.constructor&&(Z=B.constructor.name),Z==="Map"||Z==="Set"?Array.from(B):Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z)?m(B,ee):void 0}}(T))||C){w&&(T=w);var v=0,E=function(){};return{s:E,n:function(){return v>=T.length?{done:!0}:{done:!1,value:T[v++]}},e:function(B){throw B},f:E}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N,P=!0,I=!1;return{s:function(){w=w.call(T)},n:function(){var B=w.next();return P=B.done,B},e:function(B){I=!0,N=B},f:function(){try{P||w.return==null||w.return()}finally{if(I)throw N}}}}function m(T,C){(C==null||C>T.length)&&(C=T.length);for(var w=0,v=Array(C);w<C;w++)v[w]=T[w];return v}function j(T,C){var w=Object.keys(T);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(T);C&&(v=v.filter(function(E){return Object.getOwnPropertyDescriptor(T,E).enumerable})),w.push.apply(w,v)}return w}function b(T){for(var C=1;C<arguments.length;C++){var w=arguments[C]!=null?arguments[C]:{};C%2?j(Object(w),!0).forEach(function(v){R(T,v,w[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(w)):j(Object(w)).forEach(function(v){Object.defineProperty(T,v,Object.getOwnPropertyDescriptor(w,v))})}return T}function R(T,C,w){return(C=function(v){var E=function(N){if(f(N)!="object"||!N)return N;var P=N[Symbol.toPrimitive];if(P!==void 0){var I=P.call(N,"string");if(f(I)!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(N)}(v);return f(E)=="symbol"?E:E+""}(C))in T?Object.defineProperty(T,C,{value:w,enumerable:!0,configurable:!0,writable:!0}):T[C]=w,T}var d=s(6948),_=s(3916),$=s(3703),g=s(1058),S=s(7300),x=s(4450),A=s(6665);c.preparePopulationOptionsMQ=function(T,C){var w,v=T._mongooseOptions.populate,E=Object.keys(v).reduce(function(B,ee){return B.concat([v[ee]])},[]);C.lean!=null&&E.filter(function(B){return(B&&B.options&&B.options.lean)==null}).forEach((w=C.lean,function(B){B.options||(B.options={}),w!=null&&Array.isArray(w.virtuals)&&((w=Object.assign({},w)).virtuals=w.virtuals.filter(function(ee){return typeof ee=="string"&&ee.startsWith(B.path+".")}).map(function(ee){return ee.slice(B.path.length+1)})),B.options.lean=w}));var N=T&&T.options&&T.options.session||null;N!=null&&E.forEach(function(B){B.options!=null?"session"in B.options||(B.options.session=N):B.options={session:N}});for(var P=T._fieldsForExec(),I=0;I<E.length;++I)E[I]instanceof d?E[I]=new d(b(b({},E[I]),{},{_queryProjection:P,_localModel:T.model})):(E[I]._queryProjection=P,E[I]._localModel=T.model);return E},c.createModel=function(T,C,w,v,E){T.hooks.execPreSync("createModel",C);var N=T.schema?T.schema.discriminatorMapping:null,P=N&&N.isRoot?N.key:null,I=C[P];if(P&&I&&T.discriminators){var B=T.discriminators[I]||g(T.discriminators,I);if(B){var ee=x(v);return c.applyPaths(ee,B.schema),new B(void 0,ee,!0)}}var Z={skipId:!0,isNew:!1,willInit:!0};return E!=null&&"defaults"in E&&(Z.defaults=E.defaults),new T(void 0,w,Z)},c.createModelAndInit=function(T,C,w,v,E,N,P){var I=N?{populated:N}:void 0,B=c.createModel(T,C,w,v,E);try{B.$init(C,I,P)}catch(ee){P(ee,B)}},c.applyPaths=function(T,C,w){var v,E,N=new Set;if(T){E=Object.keys(T);for(var P=[],I=0;I<E.length;++I){var B=E[I];E[I][0]==="-"&&(delete T[B],B==="-_id"?T._id=0:P.push(B.slice(1)))}E=Object.keys(T);for(var ee=0;ee<E.length;++ee)if(E[ee][0]!=="+"){var Z=T[E[ee]];if(S(Z)&&!(E[ee]==="_id"&&E.length>1)&&(!(E[ee]===C.options.discriminatorKey&&E.length>1&&Z!=null)||Z)){v=!Z;break}}for(var te=0,re=P;te<re.length;te++){var ce=re[te],ge=C.path(ce);ge&&ge.selected&&v===!1?ge&&ge.selected&&v===!1&&N.add(ce):(T[ce]=0,v=!0)}}var F=[],V=[],H=[];switch(function oe(Oe,le){if(le||(le=""),H.indexOf(Oe)!==-1)return[];H.push(Oe);var pe=[];return Oe.eachPath(function(Ae,K){if(le&&(Ae=le+"."+Ae),K.$isSchemaMap||Ae.endsWith(".$*")){var ie=T&&"+"+Ae in T;K.options&&K.options.select===!1&&!ie&&V.push(Ae)}else{var ye=X(Ae,K);if(ye!=null||Array.isArray(K)||!K.$isMongooseArray||K.$isMongooseDocumentArray||(ye=X(Ae,K.caster)),ye!=null&&pe.push(ye),K.schema){var je=oe(K.schema,Ae);v===!1&&_(T,Ae,K.schema,F,je)}}}),H.pop(),pe}(C),v){case!0:var W,z=h(V);try{for(z.s();!(W=z.n()).done;){var M=W.value;T[M]=0}}catch(oe){z.e(oe)}finally{z.f()}break;case!1:C&&C.paths._id&&C.paths._id.options&&C.paths._id.options.select===!1&&(T._id=0);var q,ne=h(F);try{for(ne.s();!(q=ne.n()).done;){var fe=q.value;N.has(fe)||A(T,fe)||(T[fe]=T[fe]||1)}}catch(oe){ne.e(oe)}finally{ne.f()}break;case void 0:if(T==null)break;for(var ve=0,we=Object.keys(T||{});ve<we.length;ve++){var me=we[ve];me.startsWith("+")&&delete T[me]}var ue,_e=h(V);try{for(_e.s();!(ue=_e.n()).done;){var L=ue.value;T[L]==null&&(T[L]=0)}}catch(oe){_e.e(oe)}finally{_e.f()}}function X(oe,Oe){if(T!=null&&typeof Oe.selected=="boolean")if(Oe.selected===!1&&T[oe])w&&(T[oe]=0);else if(v||!Oe.selected||oe!==C.options.discriminatorKey||T[oe]==null||T[oe]){if(v!==!1||!Oe.selected||T[oe]==null||T[oe]){var le="+"+oe;if(T&&le in T)return delete T[le],void(v===!1&&E.length>1&&!~E.indexOf(oe)&&!w?T[oe]=1:v==null&&w&&Oe.selected===!1&&(T[oe]=0));for(var pe=oe.split("."),Ae="",K=0;K<pe.length;++K)if(Ae+=Ae.length?"."+pe[K]:pe[K],V.indexOf(Ae)!==-1)return;if(!v&&Oe&&Oe.options&&Oe.options.$skipDiscriminatorCheck)for(var ie="",ye=0;ye<pe.length;++ye){ie+=(ie.length===0?"":".")+pe[ye];var je=$(T,ie,!1)||$(T,ie+".$",!1);if(je&&f(je)!=="object")return}return(Oe.selected?F:V).push(oe),oe}delete T[oe]}else delete T[oe]}}},3900:(u,c,s)=>{var f=s(6400),h=s(6750),m=s(3191)(),j=s(1464),b=s(2268),R=f("%Math.floor%");u.exports=function(d,_){if(typeof d!="function")throw new b("`fn` is not a function");if(typeof _!="number"||_<0||_>4294967295||R(_)!==_)throw new b("`length` must be a positive 32-bit integer");var $=arguments.length>2&&!!arguments[2],g=!0,S=!0;if("length"in d&&j){var x=j(d,"length");x&&!x.configurable&&(g=!1),x&&!x.writable&&(S=!1)}return(g||S||!$)&&(m?h(d,"length",_,!0,!0):h(d,"length",_)),d}},3916:u=>{u.exports=function(c,s,f,h,m){var j=Object.keys(c).reduce(function(R,d){return R||d.startsWith(s+".")},!1),b=s+"."+f.options.discriminatorKey;j||m.length!==1||m[0]!==b||h.splice(h.indexOf(b),1)}},3940:(u,c,s)=>{function f(R){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},f(R)}function h(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!R})()}function m(R){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},m(R)}function j(R,d){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,$){return _.__proto__=$,_},j(R,d)}var b=function(R){function d($){return function(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,d),function(g,S,x){return S=m(S),function(A,T){if(T&&(f(T)=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(A)}(g,h()?Reflect.construct(S,x||[],m(g).constructor):S.apply(g,x))}(this,d,["Can't save() the same doc multiple times in parallel. Document: "+$._doc._id])}return function($,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(g&&g.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),g&&j($,g)}(d,R),_=d,Object.defineProperty(_,"prototype",{writable:!1}),_;var _}(s(8213));Object.defineProperty(b.prototype,"name",{value:"ParallelSaveError"}),u.exports=b},4009:(u,c,s)=>{var f=s(8213),h=s(5188),m=s(3622),j=s(5678),b=s(7352),R=s(8768),d=/(\.\d+$|\.\d+\.)/g;u.exports=function(_,$,g,S,x){if(_==null)return[];if(typeof _=="string"&&x!=null&&h(x,_))throw new f("refPath `"+_+"` must not be excluded in projection, got "+b.inspect(x));if(d.test(g)){var A=g.split(d);if(A[A.length-1]==="")throw new Error("Can't populate individual element in an array");for(var T="",C=_,w=0;w<A.length;w+=2){var v=A[w];if(!C.startsWith(v+".")){if(w===A.length-1){T+=C,C="";break}throw new Error("Could not normalize ref path, chunk "+v+" not in populated path")}T+=C.substring(0,v.length)+A[w+1],C=C.substring(v.length+1)}var E=j.get(T,$,m),N=Array.isArray(E)?E:[E];return R.array.flatten(N)}var P=j.get(_,$,m);return S!=null&&S.virtuals.hasOwnProperty(_)?[S.virtuals[_].applyGetters(void 0,$)]:Array.isArray(P)?P:[P]}},4026:(u,c)=>{c.Collection=function(){throw new Error("Cannot create a collection from browser library")},c.Connection=function(){throw new Error("Cannot create a connection from browser library")},c.BulkWriteResult=function(){}},4058:(u,c,s)=>{var f=s(6353).Long,h=9223372036854775807n,m=-9223372036854775808n,j="Mongoose only supports BigInts between ".concat(m," and ").concat(h," because MongoDB does not support arbitrary precision integers");u.exports=function(b){if(b==null)return b;if(b==="")return null;if(typeof b=="bigint"){if(b>h||b<m)throw new Error(j);return b}if(b instanceof f)return b.toBigInt();if(typeof b=="string"||typeof b=="number"){if((b=BigInt(b))>h||b<m)throw new Error(j);return b}throw new Error('Cannot convert value to BigInt: "'.concat(b,'"'))}},4070:(u,c,s)=>{function f(m,j){(j==null||j>m.length)&&(j=m.length);for(var b=0,R=Array(j);b<j;b++)R[b]=m[b];return R}var h=s(8260);u.exports=function(m){if(h(m)!=="TopologyDescription"||m.servers.size===0)return!1;var j,b=function(d,_){var $=typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(!$){if(Array.isArray(d)||($=function(C,w){if(C){if(typeof C=="string")return f(C,w);var v={}.toString.call(C).slice(8,-1);return v==="Object"&&C.constructor&&(v=C.constructor.name),v==="Map"||v==="Set"?Array.from(C):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?f(C,w):void 0}}(d))||_){$&&(d=$);var g=0,S=function(){};return{s:S,n:function(){return g>=d.length?{done:!0}:{done:!1,value:d[g++]}},e:function(C){throw C},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x,A=!0,T=!1;return{s:function(){$=$.call(d)},n:function(){var C=$.next();return A=C.done,C},e:function(C){T=!0,x=C},f:function(){try{A||$.return==null||$.return()}finally{if(T)throw x}}}}(m.servers.values());try{for(b.s();!(j=b.n()).done;){var R=j.value;if(R.host.endsWith(".mongodb.net")===!1||R.port!==27017)return!1}}catch(d){b.e(d)}finally{b.f()}return!0}},4183:(u,c,s)=>{var f=s(118);u.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:f}},4224:(u,c,s)=>{var f=s(6511).ctor("require","modify","init","default","ignore");function h(){this.activePaths=new f}u.exports=h,h.prototype.strictMode=!0,h.prototype.fullPath=void 0,h.prototype.selected=void 0,h.prototype.shardval=void 0,h.prototype.saveError=void 0,h.prototype.validationError=void 0,h.prototype.adhocPaths=void 0,h.prototype.removing=void 0,h.prototype.inserting=void 0,h.prototype.saving=void 0,h.prototype.version=void 0,h.prototype._id=void 0,h.prototype.ownerDocument=void 0,h.prototype.populate=void 0,h.prototype.populated=void 0,h.prototype.primitiveAtomics=void 0,h.prototype.wasPopulated=!1,h.prototype.scope=void 0,h.prototype.session=null,h.prototype.pathsToScopes=null,h.prototype.cachedRequired=null},4301:(u,c,s)=>{var f=s(9539),h=s(2793),m=s(3305),j=s(5549),b=s(608);u.exports=function R(d,_,$,g){var S,x=Object.keys(_),A=0,T=x.length;if($=$||"",!(g=g||new WeakSet).has(_)){for(g.add(_);A<T;)if(S=x[A++],($||S!=="discriminators"&&S!=="base"&&S!=="_applyDiscriminators"&&S!=="_userProvidedOptions"&&S!=="options"&&S!=="tree")&&!($==="tree"&&_!=null&&_.instanceOfSchema||h.has(S))){if(d[S]==null)d[S]=_[S];else if(b(_[S])){if(b(d[S])||(d[S]={}),_[S]!=null){if(_[S].$isSingleNested&&d[S].$isMongooseDocumentArray||_[S].$isMongooseDocumentArray&&d[S].$isSingleNested||_[S].$isMongooseDocumentArrayElement&&d[S].$isMongooseDocumentArrayElement)continue;if(_[S].instanceOfSchema){d[S].instanceOfSchema?f(d[S],_[S].clone(),!0):d[S]=_[S].clone();continue}if(m(_[S],"ObjectId")){d[S]=new j(_[S]);continue}}R(d[S],_[S],$?$+"."+S:S,g)}}_!=null&&_.instanceOfSchema&&(d.tree=Object.assign({},_.tree,d.tree))}}},4327:u=>{u.exports=function(c,s,f,h){return f?h?{bsonType:s}:{bsonType:[s,"null"]}:h?{type:c}:{type:[c,"null"]}}},4432:(u,c,s)=>{function f(g){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},f(g)}function h(g){if(g!=null){var S=g[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],x=0;if(S)return S.call(g);if(typeof g.next=="function")return g;if(!isNaN(g.length))return{next:function(){return g&&x>=g.length&&(g=void 0),{value:g&&g[x++],done:!g}}}}throw new TypeError(f(g)+" is not iterable")}function m(){var g,S,x=typeof Symbol=="function"?Symbol:{},A=x.iterator||"@@iterator",T=x.toStringTag||"@@toStringTag";function C(ee,Z,te,re){var ce=Z&&Z.prototype instanceof v?Z:v,ge=Object.create(ce.prototype);return j(ge,"_invoke",function(F,V,H){var W,z,M,q=0,ne=H||[],fe=!1,ve={p:0,n:0,v:g,a:we,f:we.bind(g,4),d:function(me,ue){return W=me,z=0,M=g,ve.n=ue,w}};function we(me,ue){for(z=me,M=ue,S=0;!fe&&q&&!_e&&S<ne.length;S++){var _e,L=ne[S],X=ve.p,oe=L[2];me>3?(_e=oe===ue)&&(M=L[(z=L[4])?5:(z=3,3)],L[4]=L[5]=g):L[0]<=X&&((_e=me<2&&X<L[1])?(z=0,ve.v=ue,ve.n=L[1]):X<oe&&(_e=me<3||L[0]>ue||ue>oe)&&(L[4]=me,L[5]=ue,ve.n=oe,z=0))}if(_e||me>1)return w;throw fe=!0,ue}return function(me,ue,_e){if(q>1)throw TypeError("Generator is already running");for(fe&&ue===1&&we(ue,_e),z=ue,M=_e;(S=z<2?g:M)||!fe;){W||(z?z<3?(z>1&&(ve.n=-1),we(z,M)):ve.n=M:ve.v=M);try{if(q=2,W){if(z||(me="next"),S=W[me]){if(!(S=S.call(W,M)))throw TypeError("iterator result is not an object");if(!S.done)return S;M=S.value,z<2&&(z=0)}else z===1&&(S=W.return)&&S.call(W),z<2&&(M=TypeError("The iterator does not provide a '"+me+"' method"),z=1);W=g}else if((S=(fe=ve.n<0)?M:F.call(V,ve))!==w)break}catch(L){W=g,z=1,M=L}finally{q=1}}return{value:S,done:fe}}}(ee,te,re),!0),ge}var w={};function v(){}function E(){}function N(){}S=Object.getPrototypeOf;var P=[][A]?S(S([][A]())):(j(S={},A,function(){return this}),S),I=N.prototype=v.prototype=Object.create(P);function B(ee){return Object.setPrototypeOf?Object.setPrototypeOf(ee,N):(ee.__proto__=N,j(ee,T,"GeneratorFunction")),ee.prototype=Object.create(I),ee}return E.prototype=N,j(I,"constructor",N),j(N,"constructor",E),E.displayName="GeneratorFunction",j(N,T,"GeneratorFunction"),j(I),j(I,T,"Generator"),j(I,A,function(){return this}),j(I,"toString",function(){return"[object Generator]"}),(m=function(){return{w:C,m:B}})()}function j(g,S,x,A){var T=Object.defineProperty;try{T({},"",{})}catch{T=0}j=function(C,w,v,E){function N(P,I){j(C,P,function(B){return this._invoke(P,I,B)})}w?T?T(C,w,{value:v,enumerable:!E,configurable:!E,writable:!E}):C[w]=v:(N("next",0),N("throw",1),N("return",2))},j(g,S,x,A)}function b(g,S){var x=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!x){if(Array.isArray(g)||(x=function(E,N){if(E){if(typeof E=="string")return R(E,N);var P={}.toString.call(E).slice(8,-1);return P==="Object"&&E.constructor&&(P=E.constructor.name),P==="Map"||P==="Set"?Array.from(E):P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P)?R(E,N):void 0}}(g))||S){x&&(g=x);var A=0,T=function(){};return{s:T,n:function(){return A>=g.length?{done:!0}:{done:!1,value:g[A++]}},e:function(E){throw E},f:T}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var C,w=!0,v=!1;return{s:function(){x=x.call(g)},n:function(){var E=x.next();return w=E.done,E},e:function(E){v=!0,C=E},f:function(){try{w||x.return==null||x.return()}finally{if(v)throw C}}}}function R(g,S){(S==null||S>g.length)&&(S=g.length);for(var x=0,A=Array(S);x<S;x++)A[x]=g[x];return A}function d(g,S,x,A,T,C,w){try{var v=g[C](w),E=v.value}catch(N){return void x(N)}v.done?S(E):Promise.resolve(E).then(A,T)}function _(g){return function(){var S=this,x=arguments;return new Promise(function(A,T){var C=g.apply(S,x);function w(E){d(C,A,T,w,v,"next",E)}function v(E){d(C,A,T,w,v,"throw",E)}w(void 0)})}}var $=s(5782);u.exports=function(g){var S=!0;g.s.hooks.pre("save",!1,function(x){if(this.$isSubdocument)x();else{var A=this,T=this.$getAllSubdocs({useCache:!0});T.length?$(T,function(C,w){C.$__schema.s.hooks.execPre("save",C,function(v){w(v)})},function(C){if(A.$__.saveOptions&&(A.$__.saveOptions.__subdocs=null),C)return A.$__schema.s.hooks.execPost("save:error",A,[A],{error:C},function(w){x(w)});x()}):x()}},null,S),g.s.hooks.post("save",function(){var x=_(m().m(function A(){var T,C,w,v,E,N;return m().w(function(P){for(;;)switch(P.p=P.n){case 0:if((T=this.$__.removedSubdocs)&&T.length){P.n=1;break}return P.a(2);case 1:C=[],w=b(T),P.p=2,E=m().m(function I(){var B;return m().w(function(ee){for(;;)switch(ee.n){case 0:B=v.value,C.push(new Promise(function(Z,te){B.$__schema.s.hooks.execPost("deleteOne",B,[B],function(re){if(re)return te(re);Z()})}));case 1:return ee.a(2)}},I)}),w.s();case 3:if((v=w.n()).done){P.n=5;break}return P.d(h(E()),4);case 4:P.n=3;break;case 5:P.n=7;break;case 6:P.p=6,N=P.v,w.e(N);case 7:return P.p=7,w.f(),P.f(7);case 8:return this.$__.removedSubdocs=null,P.n=9,Promise.all(C);case 9:return P.a(2)}},A,this,[[2,6,7,8]])}));return function(){return x.apply(this,arguments)}}()),g.s.hooks.post("save",function(){var x=_(m().m(function A(){var T,C,w,v,E,N,P,I,B=this;return m().w(function(ee){for(;;)switch(ee.p=ee.n){case 0:if(!this.$isSubdocument){ee.n=1;break}return ee.a(2);case 1:if(T=this,(C=this.$getAllSubdocs({useCache:!0})).length){ee.n=2;break}return ee.a(2);case 2:w=[],v=b(C),ee.p=3,N=m().m(function Z(){var te;return m().w(function(re){for(;;)switch(re.n){case 0:te=E.value,w.push(new Promise(function(ce,ge){te.$__schema.s.hooks.execPost("save",te,[te],function(F){if(F)return ge(F);ce()})}));case 1:return re.a(2)}},Z)}),v.s();case 4:if((E=v.n()).done){ee.n=6;break}return ee.d(h(N()),5);case 5:ee.n=4;break;case 6:ee.n=8;break;case 7:ee.p=7,P=ee.v,v.e(P);case 8:return ee.p=8,v.f(),ee.f(8);case 9:return ee.p=9,ee.n=10,Promise.all(w);case 10:ee.n=12;break;case 11:return ee.p=11,I=ee.v,ee.n=12,new Promise(function(Z,te){B.$__schema.s.hooks.execPost("save:error",T,[T],{error:I},function(re){if(re)return te(re);Z()})});case 12:return ee.a(2)}},A,this,[[9,11],[3,7,8,9]])}));return function(){return x.apply(this,arguments)}}(),null,S)}},4450:(u,c,s)=>{function f(w){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},f(w)}var h=s(9639),m=s(5549),j=s(2793),b=s(2497),R=s(9696),d=s(3305),_=s(1243).isMongooseArray,$=s(608),g=s(2789),S=s(7930),x=s(7291).trustedSymbol,A=s(6353);function T(w,v,E){if(w==null)return w;if(d(w,"Double"))return new A.Double(w.value);if(typeof w=="number"||typeof w=="string"||typeof w=="boolean"||typeof w=="bigint")return w;if(Array.isArray(w))return function(ee,Z){var te=0,re=ee.length,ce=new Array(re);for(te=0;te<re;++te)ce[te]=T(ee[te],Z,!0);return ce}(_(w)?w.__array:w,v);if(b(w)){if(v&&v.retainDocuments&&w.$__!=null){var N=w.$clone();return w.__index!=null&&(N.__index=w.__index),w.__parentArray!=null&&(N.__parentArray=w.__parentArray),N.$__parent=w.$__parent,N}return g(w)&&w.$__!=null&&w._doc!=null?w._doc:v&&v.json&&typeof w.toJSON=="function"?w.toJSON(v):w.toObject(v)}var P,I,B=w.constructor;if(B)switch(R(B)){case"Object":return C(w,v,E);case"Date":return new B(+w);case"RegExp":return P=w,(I=new RegExp(P.source,P.flags)).lastIndex!==P.lastIndex&&(I.lastIndex=P.lastIndex),I}return d(w,"ObjectId")?v&&v.flattenObjectIds?w.toJSON():new m(w.id):d(w,"Decimal128")?v&&v.flattenDecimals?w.toJSON():h.fromString(w.toString()):!B&&$(w)?C(w,v,E):f(w)==="object"&&w[S.schemaTypeSymbol]?w.clone():v&&v.bson&&typeof w.toBSON=="function"?w:typeof w.valueOf=="function"?w.valueOf():C(w,v,E)}function C(w,v,E){var N,P=v&&v.minimize,I=v&&v.omitUndefined,B=v&&v._seen,ee={};if(B&&B.has(w))return B.get(w);B&&B.set(w,ee),x in w&&(v==null?void 0:v.copyTrustedSymbol)!==!1&&(ee[x]=w[x]);for(var Z=Object.keys(w),te=Z.length,re=0;re<te;++re){var ce=Z[re];if(!j.has(ce)){var ge=T(w[ce],v,!1);P!==!1&&!I||ge!==void 0?P===!0&&ge===void 0||(N||(N=!0),ee[ce]=ge):delete ee[ce]}}return P&&!E?N&&ee:ee}u.exports=T},4473:u=>{function c(s,f){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(h.has(s))throw new Error("Infinite subdocument loop: subdoc with _id "+s._id+" is a parent of itself");var m=s.$parent(),j=s.$__pathRelativeToParent(void 0,!1)+"."+f;m.$__.activePaths.clearPath(j),m.$isSubdocument&&c(m,j,h)}u.exports=function(s,f,h){var m=(h=h||{}).skipDocArrays,j=0;if(!s)return j;for(var b=0,R=Object.keys(s.$__.activePaths.getStatePaths("modify"));b<R.length;b++){var d=R[b];if(m){var _=s.$__schema.path(d);if(_&&_.$isMongooseDocumentArray)continue}d.startsWith(f+".")&&(s.$__.activePaths.clearPath(d),++j,s.$isSubdocument&&c(s,d))}return j}},4561:(u,c,s)=>{function f(d){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},f(d)}function h(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!d})()}function m(d){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},m(d)}function j(d,_){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,g){return $.__proto__=g,$},j(d,_)}var b=function(d){function _(){return function(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,_),function(g,S,x){return S=m(S),function(A,T){if(T&&(f(T)=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(A)}(g,h()?Reflect.construct(S,x||[],m(g).constructor):S.apply(g,x))}(this,_,arguments)}return function(g,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(S&&S.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),S&&j(g,S)}(_,d),$=_,Object.defineProperty($,"prototype",{writable:!1}),$;var $}(s(8879)),R=s(5761);Object.defineProperty(b.prototype,"excludeIndexes",R),Object.defineProperty(b.prototype,"_id",R),u.exports=b},4592:(u,c,s)=>{function f(d){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},f(d)}function h(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!d})()}function m(d){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},m(d)}function j(d,_){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,g){return $.__proto__=g,$},j(d,_)}var b=function(d){function _(){return function(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,_),function(g,S,x){return S=m(S),function(A,T){if(T&&(f(T)=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(A)}(g,h()?Reflect.construct(S,x||[],m(g).constructor):S.apply(g,x))}(this,_,arguments)}return function(g,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(S&&S.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),S&&j(g,S)}(_,d),$=_,Object.defineProperty($,"prototype",{writable:!1}),$;var $}(s(8879)),R=s(5761);Object.defineProperty(b.prototype,"enum",R),Object.defineProperty(b.prototype,"of",R),Object.defineProperty(b.prototype,"castNonArrays",R),u.exports=b},4625:(u,c,s)=>{function f(d){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},f(d)}function h(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!d})()}function m(d){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},m(d)}function j(d,_){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,g){return $.__proto__=g,$},j(d,_)}var b=function(d){function _(){return function(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,_),function(g,S,x){return S=m(S),function(A,T){if(T&&(f(T)=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(A)}(g,h()?Reflect.construct(S,x||[],m(g).constructor):S.apply(g,x))}(this,_,arguments)}return function(g,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(S&&S.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),S&&j(g,S)}(_,d),$=_,Object.defineProperty($,"prototype",{writable:!1}),$;var $}(s(8879)),R=s(5761);Object.defineProperty(b.prototype,"auto",R),Object.defineProperty(b.prototype,"populate",R),u.exports=b},4756:u=>{var c=function(s){return s!=s};u.exports=function(s,f){return s===0&&f===0?1/s==1/f:s===f||!(!c(s)||!c(f))}},4829:(u,c,s)=>{u.exports=s(8533)},4859:(u,c,s)=>{var f=s(5832).hp;function h(E,N){var P=typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(!P){if(Array.isArray(E)||(P=function(re,ce){if(re){if(typeof re=="string")return m(re,ce);var ge={}.toString.call(re).slice(8,-1);return ge==="Object"&&re.constructor&&(ge=re.constructor.name),ge==="Map"||ge==="Set"?Array.from(re):ge==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ge)?m(re,ce):void 0}}(E))||N){P&&(E=P);var I=0,B=function(){};return{s:B,n:function(){return I>=E.length?{done:!0}:{done:!1,value:E[I++]}},e:function(re){throw re},f:B}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ee,Z=!0,te=!1;return{s:function(){P=P.call(E)},n:function(){var re=P.next();return Z=re.done,re},e:function(re){te=!0,ee=re},f:function(){try{Z||P.return==null||P.return()}finally{if(te)throw ee}}}}function m(E,N){(N==null||N>E.length)&&(N=E.length);for(var P=0,I=Array(N);P<N;P++)I[P]=E[P];return I}var j=s(8920),b=s(2400),R=s(863),d=s(1058),_=s(3303)._,$=s(8768),g=s(3305),S=s(7930).arrayParentSymbol,x=s(7930).arrayPathSymbol,A=s(7930).arraySchemaSymbol,T=s(7930).documentArrayParent,C=Array.prototype.toString,w={toBSON:function(){return this.toObject(_)},toString:function(){return C.call(this.__array.map(function(E){return E!=null&&E.$__!=null?E.toString():E}))},getArrayParent:function(){return this[S]},_cast:function(E,N,P){if(this[A]==null)return E;var I=this[A].casterConstructor;if((I.$isMongooseDocumentArray?$.isMongooseDocumentArray(E):E instanceof I)||E&&E.constructor&&E.constructor.baseCasterConstructor===I)return E[T]&&E.__parentArray||(E[T]=this[S],E.__parentArray=this),E.$setIndex(N),E;if(E==null)return null;if((f.isBuffer(E)||g(E,"ObjectId")||!$.isObject(E))&&(E={_id:E}),E&&I.discriminators&&I.schema&&I.schema.options&&I.schema.options.discriminatorKey)if(typeof E[I.schema.options.discriminatorKey]=="string"&&I.discriminators[E[I.schema.options.discriminatorKey]])I=I.discriminators[E[I.schema.options.discriminatorKey]];else{var B=d(I.discriminators,E[I.schema.options.discriminatorKey]);B&&(I=B)}if(I.$isMongooseDocumentArray)return I.cast(E,this,void 0,void 0,N);var ee=new I(E,this,P,void 0,N);return ee.isNew=!0,ee},id:function(E){var N,P,I;try{N=R(E).toString()}catch{N=null}var B,ee=h(this);try{for(ee.s();!(B=ee.n()).done;){var Z=B.value;if(Z&&(I=Z.get("_id"))!=null){if(I instanceof b){if(P||(P=String(E)),P==I._id)return Z}else if(g(E,"ObjectId")||g(I,"ObjectId")){if(N==I)return Z}else if(E==I||$.deepEqual(E,I))return Z}}}catch(te){ee.e(te)}finally{ee.f()}return null},toObject:function(E){return[].concat(this.map(function(N){return N==null?null:typeof N.toObject!="function"?N:N.toObject(E)}))},$toObject:function(){return this.constructor.prototype.toObject.apply(this,arguments)},push:function(){var E=j.push.apply(this,arguments);return v(this),E},pull:function(){var E=j.pull.apply(this,arguments);return v(this),E},shift:function(){var E=j.shift.apply(this,arguments);return v(this),E},splice:function(){var E=j.splice.apply(this,arguments);return v(this),E},inspect:function(){return this.toObject()},create:function(E){var N=this[A].casterConstructor;if(E&&N.discriminators&&N.schema&&N.schema.options&&N.schema.options.discriminatorKey)if(typeof E[N.schema.options.discriminatorKey]=="string"&&N.discriminators[E[N.schema.options.discriminatorKey]])N=N.discriminators[E[N.schema.options.discriminatorKey]];else{var P=d(N.discriminators,E[N.schema.options.discriminatorKey]);P&&(N=P)}return new N(E,this)},notify:function(E){var N=this;return function P(I,B){for(var ee=(B=B||N).length;ee--;)B[ee]!=null&&(E==="save"&&(I=N[ee]),$.isMongooseArray(B[ee])?P(I,B[ee]):B[ee]&&B[ee].emit(E,I))}},set:function(E,N,P){var I=this.__array;if(P)return I[E]=N,this;var B=w._cast.call(this,N,E);return w._markModified.call(this,E),I[E]=B,this},_markModified:function(E,N){var P,I=this[S];if(I){if(P=this[x],arguments.length&&(P=N!=null?P+"."+E.__index+"."+N:P+"."+E),P!=null&&P.endsWith(".$"))return this;I.markModified(P,arguments.length!==0?E:I)}return this}};function v(E){var N=E[S];if(N&&N.$__.populated!=null){var P,I=h(Object.keys(N.$__.populated).filter(function(ee){return ee.startsWith(E[x]+".")}));try{var B=function(){var ee=P.value,Z=ee.slice((E[x]+".").length);if(!Array.isArray(N.$__.populated[ee].value))return 1;N.$__.populated[ee].value=E.map(function(te){return te.$populated(Z)})};for(I.s();!(P=I.n()).done;)B()}catch(ee){I.e(ee)}finally{I.f()}}}u.exports=w},4878:(u,c,s)=>{function f(x){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},f(x)}function h(x,A,T){return(A=function(C){var w=function(v){if(f(v)!="object"||!v)return v;var E=v[Symbol.toPrimitive];if(E!==void 0){var N=E.call(v,"string");if(f(N)!="object")return N;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}(C);return f(w)=="symbol"?w:w+""}(A))in x?Object.defineProperty(x,A,{value:T,enumerable:!0,configurable:!0,writable:!0}):x[A]=T,x}var m=s(8920),j=s(4859),b=s(7930).arrayAtomicsSymbol,R=s(7930).arrayAtomicsBackupSymbol,d=s(7930).arrayParentSymbol,_=s(7930).arrayPathSymbol,$=s(7930).arraySchemaSymbol,g=Array.prototype.push,S=/^\d+$/;u.exports=function(x,A,T,C){var w=[],v=h(h(h(h(h({},b,{}),R,void 0),_,A),$,void 0),d,void 0);if(Array.isArray(x)&&(x[_]===A&&x[d]===T&&(v[b]=Object.assign({},x[b])),x.forEach(function(N){g.call(w,N)})),v[_]=A,v.__array=w,T&&T.$__)for(v[d]=T,v[$]=T.$__schema.path(A);v[$]!=null&&v[$].$isMongooseArray&&!v[$].$isMongooseDocumentArray;)v[$]=v[$].casterConstructor;var E=new Proxy(w,{get:function(N,P){return P==="isMongooseArray"||P==="isMongooseArrayProxy"||P==="isMongooseDocumentArray"||P==="isMongooseDocumentArrayProxy"||(v.hasOwnProperty(P)?v[P]:j.hasOwnProperty(P)?j[P]:C&&C.virtuals&&C.virtuals.hasOwnProperty(P)?C.virtuals[P].applyGetters(void 0,N):m.hasOwnProperty(P)?m[P]:w[P])},set:function(N,P,I){return typeof P=="string"&&S.test(P)?j.set.call(E,P,I,!1):v.hasOwnProperty(P)?v[P]=I:C&&C.virtuals&&C.virtuals.hasOwnProperty(P)?C.virtuals[P].applySetters(I,N):w[P]=I,!0}});return E}},4957:(u,c,s)=>{function f($){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},f($)}function h($,g){var S=Object.keys($);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols($);g&&(x=x.filter(function(A){return Object.getOwnPropertyDescriptor($,A).enumerable})),S.push.apply(S,x)}return S}function m($){for(var g=1;g<arguments.length;g++){var S=arguments[g]!=null?arguments[g]:{};g%2?h(Object(S),!0).forEach(function(x){j($,x,S[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(S)):h(Object(S)).forEach(function(x){Object.defineProperty($,x,Object.getOwnPropertyDescriptor(S,x))})}return $}function j($,g,S){return(g=function(x){var A=function(T){if(f(T)!="object"||!T)return T;var C=T[Symbol.toPrimitive];if(C!==void 0){var w=C.call(T,"string");if(f(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(x);return f(A)=="symbol"?A:A+""}(g))in $?Object.defineProperty($,g,{value:S,enumerable:!0,configurable:!0,writable:!0}):$[g]=S,$}var b=s(7160),R=s(5268);u.exports=_,_.middlewareFunctions=["deleteOne","save","validate","remove","updateOne","init"];var d=new Set(_.middlewareFunctions.flatMap(function($){return[$,"$__".concat($)]}));function _($,g,S){var x={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0,contextParameter:!0},A=(S=S||{}).decorateDoc?$:$.prototype;$.$appliedHooks=!0;for(var T=0,C=Object.keys(g.paths);T<C.length;T++){var w=C[T],v=g.paths[w],E=null;if(v.$isSingleNested)E=v.caster;else{if(!v.$isMongooseDocumentArray)continue;E=v.Constructor}if(!E.$appliedHooks&&(_(E,v.schema,m(m({},S),{},{isChildSchema:!0})),E.discriminators!=null))for(var N=0,P=Object.keys(E.discriminators);N<P.length;N++){var I=P[N];_(E.discriminators[I],E.discriminators[I].schema,S)}}var B=g.s.hooks.filter(function(z){return z.name==="updateOne"||z.name==="deleteOne"?!!z.document:z.name==="remove"||z.name==="init"?z.document==null||!!z.document:z.query==null&&z.document==null||z.document!==!1}).filter(function(z){return!g.methods[z.name]||!z.fn[b.builtInMiddleware]});$._middleware=B,A.$__originalValidate=A.$__originalValidate||A.$__validate;for(var ee=0,Z=S&&S.isChildSchema?["save","validate","deleteOne"]:["save","validate"];ee<Z.length;ee++){var te=Z[ee],re=te==="validate"?"$__originalValidate":"$__".concat(te),ce=B.createWrapper(te,A[re],null,x);A["$__".concat(te)]=ce}A.$__init=B.createWrapperSync("init",A.$__init,null,x);for(var ge=Object.keys(g.methods),F=Object.assign({},x,{checkForPromise:!0}),V=function(){var z=W[H];if(d.has(z)||!B.hasHooks(z))return 0;var M=A[z];A[z]=function(){var q=this,ne=Array.prototype.slice.call(arguments),fe=ne.slice(-1).pop(),ve=typeof fe=="function"?ne.slice(0,ne.length-1):ne;return R(fe,function(we){return q["$__".concat(z)].apply(q,ve.concat([we]))},$.events)},A["$__".concat(z)]=B.createWrapper(z,M,null,F)},H=0,W=ge;H<W.length;H++)V()}},5022:(u,c,s)=>{var f=s(6426),h=s(7160),m=s(608),j=s(8768);function b(R,d){if(d&&d.default){var _=d.default;Array.isArray(_)&&_.length===0?d.default=Array:!d.shared&&m(_)&&Object.keys(_).length===0&&(d.default=function(){return{}})}f.call(this,R,d,"Mixed"),this[h.schemaMixedSymbol]=!0}b.schemaName="Mixed",b.defaultOptions={},b.prototype=Object.create(f.prototype),b.prototype.constructor=b,b.get=f.get,b.set=f.set,b.setters=[],b.prototype.cast=function(R){return R instanceof Error?j.errorToPOJO(R):R},b.prototype.castForQuery=function(R,d){return d},b.prototype.toJSONSchema=function(R){return{}},u.exports=b},5098:(u,c,s)=>{function f(re){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ce){return typeof ce}:function(ce){return ce&&typeof Symbol=="function"&&ce.constructor===Symbol&&ce!==Symbol.prototype?"symbol":typeof ce},f(re)}function h(re,ce){var ge=Object.keys(re);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(re);ce&&(F=F.filter(function(V){return Object.getOwnPropertyDescriptor(re,V).enumerable})),ge.push.apply(ge,F)}return ge}function m(re){for(var ce=1;ce<arguments.length;ce++){var ge=arguments[ce]!=null?arguments[ce]:{};ce%2?h(Object(ge),!0).forEach(function(F){j(re,F,ge[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(re,Object.getOwnPropertyDescriptors(ge)):h(Object(ge)).forEach(function(F){Object.defineProperty(re,F,Object.getOwnPropertyDescriptor(ge,F))})}return re}function j(re,ce,ge){return(ce=function(F){var V=function(H){if(f(H)!="object"||!H)return H;var W=H[Symbol.toPrimitive];if(W!==void 0){var z=W.call(H,"string");if(f(z)!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(H)}(F);return f(V)=="symbol"?V:V+""}(ce))in re?Object.defineProperty(re,ce,{value:ge,enumerable:!0,configurable:!0,writable:!0}):re[ce]=ge,re}var b,R=s(3609),d=s(3550).EventEmitter,_=s(3441),$=s(7494),g=s(6426),S=s(5335),x=s(8499),A=s(5558).G,T=s(4327),C=s(1469),w=s(9604),v=s(7910),E=s(1313),N=s(3303)._,P=s(1793),I=s(8768),B=s(5537);function ee(re,ce,ge){if(re.options.timeseries)throw new B(ce,"timeseries");var F=ee.defaultOptions&&ee.defaultOptions._id;F!=null&&((ge=ge||{})._id=F),re=E(re,ge),this.caster=Z(re,null,ge),this.caster.path=ce,this.caster.prototype.$basePath=ce,this.schema=re,this.$isSingleNested=!0,this.base=re.base,g.call(this,ce,ge,"Embedded")}function Z(re,ce,ge){b||(b=s(9380));var F=function(M,q,ne){this.$__parent=ne,b.apply(this,arguments),ne!=null&&this.$session(ne.$session())};re._preCompile();var V=ce!=null?ce.prototype:b.prototype;for(var H in(F.prototype=Object.create(V)).$__setSchema(re),F.prototype.constructor=F,F.prototype.$__schemaTypeOptions=ge,F.$__required=ge==null?void 0:ge.required,F.base=re.base,F.schema=re,F.$isSingleNested=!0,F.events=new d,F.prototype.toBSON=function(){return this.toObject(N)},re.methods)F.prototype[H]=re.methods[H];for(var W in re.statics)F[W]=re.statics[W];for(var z in d.prototype)F[z]=d.prototype[z];return F}u.exports=ee,ee.prototype=Object.create(g.prototype),ee.prototype.constructor=ee,ee.prototype.OptionsConstructor=$;var te=m({},g.prototype.$conditionalHandlers);te.$geoWithin=function(re,ce){return{$geometry:this.castForQuery(null,re.$geometry,ce)}},te.$near=te.$nearSphere=w.cast$near,te.$within=te.$geoWithin=w.cast$within,te.$geoIntersects=w.cast$geoIntersects,te.$minDistance=A,te.$maxDistance=A,te.$exists=x,Object.defineProperty(ee.prototype,"$conditionalHandlers",{enumerable:!1,value:te}),ee.prototype.cast=function(re,ce,ge,F,V){if(re&&re.$isSingleNested&&re.parent===ce)return re;if(re!=null&&(f(re)!=="object"||Array.isArray(re)))throw new _(this.path,re);var H,W=this.schema.path(this.schema.options.discriminatorKey),z=W==null?null:W.getDefault(ce),M=v(this.caster,re,z),q=ce&&ce.$__&&ce.$__.selected,ne=this.path,fe=q==null?null:Object.keys(q).reduce(function(we,me){return me.startsWith(ne+".")&&((we=we||{})[me.substring(ne.length+1)]=q[me]),we},null);if(!ge)return V=Object.assign({},V,{priorDoc:F}),Object.keys(re).length===0?new M({},fe,ce,void 0,V):new M(re,fe,ce,void 0,V);delete(H=new M(void 0,fe,ce,!1,{defaults:!1})).$__.defaults,H.$init(re);var ve=P(fe);return S(H,fe,ve),H},ee.prototype.castForQuery=function(re,ce,ge,F){var V;if(re!=null){if(!(V=this.$conditionalHandlers[re]))throw new Error("Can't use "+re);return V.call(this,ce)}if(ce==null)return ce;var H=v(this.caster,ce);if(ce instanceof H)return ce;this.options.runSetters&&(ce=this._applySetters(ce,ge));var W=F!=null&&F.strict!=null?F.strict:void 0;try{ce=new H(ce,W)}catch(z){throw z instanceof R?z:new R("Embedded",ce,this.path,z,this)}return ce},ee.prototype.doValidate=function(re,ce,ge,F){var V=v(this.caster,re);if(!re||re instanceof V||(re=new V(re,null,ge!=null&&ge.$__!=null?ge:null)),F&&F.skipSchemaValidators)return re?re.validate().then(function(){return ce(null)},function(H){return ce(H)}):ce(null);g.prototype.doValidate.call(this,re,function(H){return H?ce(H):re?void re.validate().then(function(){return ce(null)},function(W){return ce(W)}):ce(null)},ge,F)},ee.prototype.doValidateSync=function(re,ce,ge){if(!ge||!ge.skipSchemaValidators){var F=g.prototype.doValidateSync.call(this,re,ce);if(F)return F}if(re)return re.validateSync()},ee.prototype.discriminator=function(re,ce,ge){ge=ge||{};var F=I.isPOJO(ge)?ge.value:ge,V=typeof ge.clone!="boolean"||ge.clone;return ce.instanceOfSchema&&V&&(ce=ce.clone()),ce=C(this.caster,re,ce,F,null,null,ge.overwriteExisting),this.caster.discriminators[re]=Z(ce,this.caster),this.caster.discriminators[re]},ee.defaultOptions={},ee.set=g.set,ee.setters=[],ee.get=g.get,ee.prototype.toJSON=function(){return{path:this.path,options:this.options}},ee.prototype.clone=function(){var re=new this.constructor(this.schema,this.path,m(m({},this.options),{},{_skipApplyDiscriminators:!0}));return re.validators=this.validators.slice(),this.requiredValidator!==void 0&&(re.requiredValidator=this.requiredValidator),re.caster.discriminators=Object.assign({},this.caster.discriminators),re._appliedDiscriminators=this._appliedDiscriminators,re},ee.prototype.toJSONSchema=function(re){var ce=this.options.required&&typeof this.options.required!="function";return m(m({},this.schema.toJSONSchema(re)),T("object","object",re==null?void 0:re.useBsonType,ce))}},5110:u=>{var c=new Set(["$ref","$id","$db"]);u.exports=function(s){return s[0]==="$"&&!c.has(s)}},5152:(u,c,s)=>{var f=s(3703),h=s(7425);u.exports=function m(j,b,R){for(var d=(R=R||{}).typeOnly,_=Array.isArray(b)?b:b.indexOf(".")===-1?[b]:b.split("."),$=null,g="adhocOrUndefined",S=h(j.schema,j.get(j.schema.options.discriminatorKey))||j.schema,x=0;x<_.length;++x){var A=_.slice(0,x+1).join(".");if(($=S.path(A))!=null){if($.instance==="Mixed")return d?"real":$;if(g=S.pathType(A),($.$isSingleNested||$.$isMongooseDocumentArrayElement)&&$.schema.discriminators!=null){var T=$.schema.discriminators,C=j.get(A+"."+f($,"schema.options.discriminatorKey"));if(C==null||T[C]==null)continue;var w=_.slice(x+1).join(".");return m(j.get(A),w,R)}}else g="adhocOrUndefined"}return d?g:$}},5188:(u,c,s)=>{var f=s(7300);u.exports=function(h,m){if(h==null)return!1;if(m==="_id")return h._id===0;for(var j=null,b=0,R=Object.keys(h);b<R.length;b++){var d=R[b];if(f(h[d])){j=h[m]===1?"inclusive":"exclusive";break}}return j==="inclusive"?h[m]!==1:j==="exclusive"&&h[m]===0}},5268:(u,c,s)=>{var f=s(2746),h=Symbol("mongoose#emitted");u.exports=function(m,j,b,R){if(typeof m=="function")try{return j(function(d){if(d==null)m.apply(this,arguments);else{b!=null&&b.listeners!=null&&b.listeners("error").length>0&&!d[h]&&(d[h]=!0,b.emit("error",d));try{m(d)}catch(_){return f(function(){throw _})}}})}catch(d){return b!=null&&b.listeners!=null&&b.listeners("error").length>0&&!d[h]&&(d[h]=!0,b.emit("error",d)),m(d)}return new(R=R||s.g.Promise)(function(d,_){j(function($,g){return $!=null?(b!=null&&b.listeners!=null&&b.listeners("error").length>0&&!$[h]&&($[h]=!0,b.emit("error",$)),_($)):arguments.length>2?d(Array.prototype.slice.call(arguments,1)):void d(g)})})}},5289:u=>{u.exports=function(c){switch(c){case"p":c="primary";break;case"pp":c="primaryPreferred";break;case"s":c="secondary";break;case"sp":c="secondaryPreferred";break;case"n":c="nearest"}return c}},5335:(u,c,s)=>{var f=s(1091);function h(m,j,b){m.$__.activePaths.default(j),!b&&m.$isSubdocument&&m.$isSingleNested&&m.$parent()!=null&&m.$parent().$__.activePaths.default(m.$__pathRelativeToParent(j))}u.exports=function(m,j,b,R,d,_,$){for(var g=Object.keys(m.$__schema.paths),S=g.length,x=$&&$.skipParentChangeTracking,A=0;A<S;++A){var T=void 0,C="",w=g[A];if(w!=="_id"||!m.$__.skipId){var v=m.$__schema.paths[w],E=v.splitPath(),N=E.length;if(E[N-1]!=="$*")for(var P=!1,I=m._doc,B=0;B<N&&I!=null;++B){var ee=E[B];if(C+=(C.length?".":"")+ee,b===!0){if(C in j)break}else if(b===!1&&j&&!P){var Z=v.$isSingleNested||v.$isMongooseDocumentArray;if(C in j&&!f(j[C])||B===N-1&&Z&&R!=null&&R[C])P=!0;else if(R!=null&&!R[C])break}if(B===N-1){if(I[ee]!==void 0)break;if(d!=null){if(typeof v.defaultValue=="function"){if(!v.defaultValue.$runBeforeSetters&&d||v.defaultValue.$runBeforeSetters&&!d)break}else if(!d)continue}if(_&&_[C])break;if(j&&b!==null){if(b===!0){if(w in j)continue;try{T=v.getDefault(m,!1)}catch(te){m.invalidate(w,te);break}T!==void 0&&(I[ee]=T,h(m,w,x))}else if(P){try{T=v.getDefault(m,!1)}catch(te){m.invalidate(w,te);break}T!==void 0&&(I[ee]=T,h(m,w,x))}}else{try{T=v.getDefault(m,!1)}catch(te){m.invalidate(w,te);break}T!==void 0&&(I[ee]=T,h(m,w,x))}}else I=I[ee]}}}}},5346:u=>{u.exports=function(c,s,f){for(var h=s[0],m=f,j=c,b=0;b<s.length-1;++b){var R=m.path(h);if(R&&R.schema){var d=j.get(h);if(m=R.schema,h=s[b+1],Array.isArray(d)&&!isNaN(h)&&(d=d[h],h=""),d==null)break;j=d}else h+=h.length?"."+s[b+1]:s[b+1]}return j}},5413:(u,c,s)=>{var f=s(3305),h=s(2402);u.exports=function(m){if(m==null)return m;if(m==="")return null;var j=f(m,"Long")?m.toNumber():Number(m);if(j===(0|j)&&j>=-2147483648&&j<=2147483647)return j;h.ok(!1)}},5477:(u,c,s)=>{var f=s(2354),h=s(3279),m=s(3123),j=s(3388);u.exports=j||f.call(m,h)},5484:u=>{function c(s){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},c(s)}u.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(c(Symbol.iterator)==="symbol")return!0;var s={},f=Symbol("test"),h=Object(f);if(typeof f=="string"||Object.prototype.toString.call(f)!=="[object Symbol]"||Object.prototype.toString.call(h)!=="[object Symbol]")return!1;for(var m in s[f]=42,s)return!1;if(typeof Object.keys=="function"&&Object.keys(s).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(s).length!==0)return!1;var j=Object.getOwnPropertySymbols(s);if(j.length!==1||j[0]!==f||!Object.prototype.propertyIsEnumerable.call(s,f))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var b=Object.getOwnPropertyDescriptor(s,f);if(b.value!==42||b.enumerable!==!0)return!1}return!0}},5497:(u,c,s)=>{var f=s(8260);u.exports=function(h){if(f(h)!=="TopologyDescription")return!1;var m=Array.from(h.servers.values());return m.length>0&&m.every(function(j){return j.error&&j.error.message.indexOf("Client network socket disconnected before secure TLS connection was established")!==-1})}},5510:(u,c,s)=>{function f(j){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},f(j)}var h=typeof Symbol<"u"&&Symbol,m=s(5484);u.exports=function(){return typeof h=="function"&&typeof Symbol=="function"&&f(h("foo"))==="symbol"&&f(Symbol("bar"))==="symbol"&&m()}},5537:(u,c,s)=>{function f(R){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},f(R)}function h(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!R})()}function m(R){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},m(R)}function j(R,d){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,$){return _.__proto__=$,_},j(R,d)}var b=function(R){function d($,g){return function(S,x){if(!(S instanceof x))throw new TypeError("Cannot call a class as a function")}(this,d),function(S,x,A){return x=m(x),function(T,C){if(C&&(f(C)=="object"||typeof C=="function"))return C;if(C!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(w){if(w===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w}(T)}(S,h()?Reflect.construct(x,A||[],m(S).constructor):x.apply(S,A))}(this,d,['Cannot create use schema for property "'.concat($,'" because the schema has the ').concat(g," option enabled.")])}return function($,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(g&&g.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),g&&j($,g)}(d,R),_=d,Object.defineProperty(_,"prototype",{writable:!1}),_;var _}(s(8213));Object.defineProperty(b.prototype,"name",{value:"InvalidSchemaOptionError"}),u.exports=b},5549:(u,c,s)=>{var f=s(6353).ObjectId,h=s(7930).objectIdSymbol;Object.defineProperty(f.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}}),f.prototype.hasOwnProperty("valueOf")||(f.prototype.valueOf=function(){return this.toString()}),f.prototype[h]=!0,u.exports=f},5558:(u,c,s)=>{var f=s(3660);function h(m){return f.cast()(m)}c.G=h,c.p=function m(j,b){j.forEach(function(R,d){Array.isArray(R)?m(R,b):j[d]=h.call(b,R)})}},5678:(u,c,s)=>{u.exports=s(2914)},5761:u=>{u.exports=Object.freeze({enumerable:!0,configurable:!0,writable:!0,value:void 0})},5782:u=>{function c(s,f){(f==null||f>s.length)&&(f=s.length);for(var h=0,m=Array(f);h<f;h++)m[h]=s[h];return m}u.exports=function(s,f,h){if(s.length===0)return h();var m,j=s.length,b=null,R=function(d,_){var $=typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(!$){if(Array.isArray(d)||($=function(C,w){if(C){if(typeof C=="string")return c(C,w);var v={}.toString.call(C).slice(8,-1);return v==="Object"&&C.constructor&&(v=C.constructor.name),v==="Map"||v==="Set"?Array.from(C):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?c(C,w):void 0}}(d))||_){$&&(d=$);var g=0,S=function(){};return{s:S,n:function(){return g>=d.length?{done:!0}:{done:!1,value:d[g++]}},e:function(C){throw C},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x,A=!0,T=!1;return{s:function(){$=$.call(d)},n:function(){var C=$.next();return A=C.done,C},e:function(C){T=!0,x=C},f:function(){try{A||$.return==null||$.return()}finally{if(T)throw x}}}}(s);try{for(R.s();!(m=R.n()).done;)f(m.value,function(d){if(b==null)return d!=null?h(b=d):--j<=0?h():void 0})}catch(d){R.e(d)}finally{R.f()}}},5804:(u,c,s)=>{var f=s(2354),h=s(3279),m=s(5477);u.exports=function(){return m(f,h,arguments)}},5807:u=>{u.exports=Object.getOwnPropertyDescriptor},5825:(u,c,s)=>{var f=s(8093);u.exports=f.getPrototypeOf||null},5832:(u,c,s)=>{function f(L){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},f(L)}var h=s(6775),m=s(2486),j=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;c.hp=d,c.IS=50;var b=2147483647;function R(L){if(L>b)throw new RangeError('The value "'+L+'" is invalid for option "size"');var X=new Uint8Array(L);return Object.setPrototypeOf(X,d.prototype),X}function d(L,X,oe){if(typeof L=="number"){if(typeof X=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(L)}return _(L,X,oe)}function _(L,X,oe){if(typeof L=="string")return function(pe,Ae){if(typeof Ae=="string"&&Ae!==""||(Ae="utf8"),!d.isEncoding(Ae))throw new TypeError("Unknown encoding: "+Ae);var K=0|T(pe,Ae),ie=R(K),ye=ie.write(pe,Ae);return ye!==K&&(ie=ie.slice(0,ye)),ie}(L,X);if(ArrayBuffer.isView(L))return function(pe){if(me(pe,Uint8Array)){var Ae=new Uint8Array(pe);return x(Ae.buffer,Ae.byteOffset,Ae.byteLength)}return S(pe)}(L);if(L==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(L));if(me(L,ArrayBuffer)||L&&me(L.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(L,SharedArrayBuffer)||L&&me(L.buffer,SharedArrayBuffer)))return x(L,X,oe);if(typeof L=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Oe=L.valueOf&&L.valueOf();if(Oe!=null&&Oe!==L)return d.from(Oe,X,oe);var le=function(pe){if(d.isBuffer(pe)){var Ae=0|A(pe.length),K=R(Ae);return K.length===0||pe.copy(K,0,0,Ae),K}return pe.length!==void 0?typeof pe.length!="number"||ue(pe.length)?R(0):S(pe):pe.type==="Buffer"&&Array.isArray(pe.data)?S(pe.data):void 0}(L);if(le)return le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof L[Symbol.toPrimitive]=="function")return d.from(L[Symbol.toPrimitive]("string"),X,oe);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+f(L))}function $(L){if(typeof L!="number")throw new TypeError('"size" argument must be of type number');if(L<0)throw new RangeError('The value "'+L+'" is invalid for option "size"')}function g(L){return $(L),R(L<0?0:0|A(L))}function S(L){for(var X=L.length<0?0:0|A(L.length),oe=R(X),Oe=0;Oe<X;Oe+=1)oe[Oe]=255&L[Oe];return oe}function x(L,X,oe){if(X<0||L.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(L.byteLength<X+(oe||0))throw new RangeError('"length" is outside of buffer bounds');var Oe;return Oe=X===void 0&&oe===void 0?new Uint8Array(L):oe===void 0?new Uint8Array(L,X):new Uint8Array(L,X,oe),Object.setPrototypeOf(Oe,d.prototype),Oe}function A(L){if(L>=b)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+b.toString(16)+" bytes");return 0|L}function T(L,X){if(d.isBuffer(L))return L.length;if(ArrayBuffer.isView(L)||me(L,ArrayBuffer))return L.byteLength;if(typeof L!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+f(L));var oe=L.length,Oe=arguments.length>2&&arguments[2]===!0;if(!Oe&&oe===0)return 0;for(var le=!1;;)switch(X){case"ascii":case"latin1":case"binary":return oe;case"utf8":case"utf-8":return fe(L).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*oe;case"hex":return oe>>>1;case"base64":return ve(L).length;default:if(le)return Oe?-1:fe(L).length;X=(""+X).toLowerCase(),le=!0}}function C(L,X,oe){var Oe=!1;if((X===void 0||X<0)&&(X=0),X>this.length||((oe===void 0||oe>this.length)&&(oe=this.length),oe<=0)||(oe>>>=0)<=(X>>>=0))return"";for(L||(L="utf8");;)switch(L){case"hex":return F(this,X,oe);case"utf8":case"utf-8":return te(this,X,oe);case"ascii":return ce(this,X,oe);case"latin1":case"binary":return ge(this,X,oe);case"base64":return Z(this,X,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,X,oe);default:if(Oe)throw new TypeError("Unknown encoding: "+L);L=(L+"").toLowerCase(),Oe=!0}}function w(L,X,oe){var Oe=L[X];L[X]=L[oe],L[oe]=Oe}function v(L,X,oe,Oe,le){if(L.length===0)return-1;if(typeof oe=="string"?(Oe=oe,oe=0):oe>2147483647?oe=2147483647:oe<-2147483648&&(oe=-2147483648),ue(oe=+oe)&&(oe=le?0:L.length-1),oe<0&&(oe=L.length+oe),oe>=L.length){if(le)return-1;oe=L.length-1}else if(oe<0){if(!le)return-1;oe=0}if(typeof X=="string"&&(X=d.from(X,Oe)),d.isBuffer(X))return X.length===0?-1:E(L,X,oe,Oe,le);if(typeof X=="number")return X&=255,typeof Uint8Array.prototype.indexOf=="function"?le?Uint8Array.prototype.indexOf.call(L,X,oe):Uint8Array.prototype.lastIndexOf.call(L,X,oe):E(L,[X],oe,Oe,le);throw new TypeError("val must be string, number or Buffer")}function E(L,X,oe,Oe,le){var pe,Ae=1,K=L.length,ie=X.length;if(Oe!==void 0&&((Oe=String(Oe).toLowerCase())==="ucs2"||Oe==="ucs-2"||Oe==="utf16le"||Oe==="utf-16le")){if(L.length<2||X.length<2)return-1;Ae=2,K/=2,ie/=2,oe/=2}function ye(He,Ve){return Ae===1?He[Ve]:He.readUInt16BE(Ve*Ae)}if(le){var je=-1;for(pe=oe;pe<K;pe++)if(ye(L,pe)===ye(X,je===-1?0:pe-je)){if(je===-1&&(je=pe),pe-je+1===ie)return je*Ae}else je!==-1&&(pe-=pe-je),je=-1}else for(oe+ie>K&&(oe=K-ie),pe=oe;pe>=0;pe--){for(var de=!0,De=0;De<ie;De++)if(ye(L,pe+De)!==ye(X,De)){de=!1;break}if(de)return pe}return-1}function N(L,X,oe,Oe){oe=Number(oe)||0;var le=L.length-oe;Oe?(Oe=Number(Oe))>le&&(Oe=le):Oe=le;var pe=X.length;Oe>pe/2&&(Oe=pe/2);for(var Ae=0;Ae<Oe;++Ae){var K=parseInt(X.substr(2*Ae,2),16);if(ue(K))return Ae;L[oe+Ae]=K}return Ae}function P(L,X,oe,Oe){return we(fe(X,L.length-oe),L,oe,Oe)}function I(L,X,oe,Oe){return we(function(le){for(var pe=[],Ae=0;Ae<le.length;++Ae)pe.push(255&le.charCodeAt(Ae));return pe}(X),L,oe,Oe)}function B(L,X,oe,Oe){return we(ve(X),L,oe,Oe)}function ee(L,X,oe,Oe){return we(function(le,pe){for(var Ae,K,ie,ye=[],je=0;je<le.length&&!((pe-=2)<0);++je)K=(Ae=le.charCodeAt(je))>>8,ie=Ae%256,ye.push(ie),ye.push(K);return ye}(X,L.length-oe),L,oe,Oe)}function Z(L,X,oe){return X===0&&oe===L.length?h.fromByteArray(L):h.fromByteArray(L.slice(X,oe))}function te(L,X,oe){oe=Math.min(L.length,oe);for(var Oe=[],le=X;le<oe;){var pe,Ae,K,ie,ye=L[le],je=null,de=ye>239?4:ye>223?3:ye>191?2:1;if(le+de<=oe)switch(de){case 1:ye<128&&(je=ye);break;case 2:(192&(pe=L[le+1]))==128&&(ie=(31&ye)<<6|63&pe)>127&&(je=ie);break;case 3:pe=L[le+1],Ae=L[le+2],(192&pe)==128&&(192&Ae)==128&&(ie=(15&ye)<<12|(63&pe)<<6|63&Ae)>2047&&(ie<55296||ie>57343)&&(je=ie);break;case 4:pe=L[le+1],Ae=L[le+2],K=L[le+3],(192&pe)==128&&(192&Ae)==128&&(192&K)==128&&(ie=(15&ye)<<18|(63&pe)<<12|(63&Ae)<<6|63&K)>65535&&ie<1114112&&(je=ie)}je===null?(je=65533,de=1):je>65535&&(je-=65536,Oe.push(je>>>10&1023|55296),je=56320|1023&je),Oe.push(je),le+=de}return function(De){var He=De.length;if(He<=re)return String.fromCharCode.apply(String,De);for(var Ve="",ke=0;ke<He;)Ve+=String.fromCharCode.apply(String,De.slice(ke,ke+=re));return Ve}(Oe)}d.TYPED_ARRAY_SUPPORT=function(){try{var L=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(L,X),L.foo()===42}catch{return!1}}(),d.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}}),d.poolSize=8192,d.from=function(L,X,oe){return _(L,X,oe)},Object.setPrototypeOf(d.prototype,Uint8Array.prototype),Object.setPrototypeOf(d,Uint8Array),d.alloc=function(L,X,oe){return function(Oe,le,pe){return $(Oe),Oe<=0?R(Oe):le!==void 0?typeof pe=="string"?R(Oe).fill(le,pe):R(Oe).fill(le):R(Oe)}(L,X,oe)},d.allocUnsafe=function(L){return g(L)},d.allocUnsafeSlow=function(L){return g(L)},d.isBuffer=function(L){return L!=null&&L._isBuffer===!0&&L!==d.prototype},d.compare=function(L,X){if(me(L,Uint8Array)&&(L=d.from(L,L.offset,L.byteLength)),me(X,Uint8Array)&&(X=d.from(X,X.offset,X.byteLength)),!d.isBuffer(L)||!d.isBuffer(X))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===X)return 0;for(var oe=L.length,Oe=X.length,le=0,pe=Math.min(oe,Oe);le<pe;++le)if(L[le]!==X[le]){oe=L[le],Oe=X[le];break}return oe<Oe?-1:Oe<oe?1:0},d.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(L,X){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(L.length===0)return d.alloc(0);var oe;if(X===void 0)for(X=0,oe=0;oe<L.length;++oe)X+=L[oe].length;var Oe=d.allocUnsafe(X),le=0;for(oe=0;oe<L.length;++oe){var pe=L[oe];if(me(pe,Uint8Array))le+pe.length>Oe.length?d.from(pe).copy(Oe,le):Uint8Array.prototype.set.call(Oe,pe,le);else{if(!d.isBuffer(pe))throw new TypeError('"list" argument must be an Array of Buffers');pe.copy(Oe,le)}le+=pe.length}return Oe},d.byteLength=T,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var L=this.length;if(L%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var X=0;X<L;X+=2)w(this,X,X+1);return this},d.prototype.swap32=function(){var L=this.length;if(L%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var X=0;X<L;X+=4)w(this,X,X+3),w(this,X+1,X+2);return this},d.prototype.swap64=function(){var L=this.length;if(L%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var X=0;X<L;X+=8)w(this,X,X+7),w(this,X+1,X+6),w(this,X+2,X+5),w(this,X+3,X+4);return this},d.prototype.toString=function(){var L=this.length;return L===0?"":arguments.length===0?te(this,0,L):C.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(L){if(!d.isBuffer(L))throw new TypeError("Argument must be a Buffer");return this===L||d.compare(this,L)===0},d.prototype.inspect=function(){var L="",X=c.IS;return L=this.toString("hex",0,X).replace(/(.{2})/g,"$1 ").trim(),this.length>X&&(L+=" ... "),"<Buffer "+L+">"},j&&(d.prototype[j]=d.prototype.inspect),d.prototype.compare=function(L,X,oe,Oe,le){if(me(L,Uint8Array)&&(L=d.from(L,L.offset,L.byteLength)),!d.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+f(L));if(X===void 0&&(X=0),oe===void 0&&(oe=L?L.length:0),Oe===void 0&&(Oe=0),le===void 0&&(le=this.length),X<0||oe>L.length||Oe<0||le>this.length)throw new RangeError("out of range index");if(Oe>=le&&X>=oe)return 0;if(Oe>=le)return-1;if(X>=oe)return 1;if(this===L)return 0;for(var pe=(le>>>=0)-(Oe>>>=0),Ae=(oe>>>=0)-(X>>>=0),K=Math.min(pe,Ae),ie=this.slice(Oe,le),ye=L.slice(X,oe),je=0;je<K;++je)if(ie[je]!==ye[je]){pe=ie[je],Ae=ye[je];break}return pe<Ae?-1:Ae<pe?1:0},d.prototype.includes=function(L,X,oe){return this.indexOf(L,X,oe)!==-1},d.prototype.indexOf=function(L,X,oe){return v(this,L,X,oe,!0)},d.prototype.lastIndexOf=function(L,X,oe){return v(this,L,X,oe,!1)},d.prototype.write=function(L,X,oe,Oe){if(X===void 0)Oe="utf8",oe=this.length,X=0;else if(oe===void 0&&typeof X=="string")Oe=X,oe=this.length,X=0;else{if(!isFinite(X))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");X>>>=0,isFinite(oe)?(oe>>>=0,Oe===void 0&&(Oe="utf8")):(Oe=oe,oe=void 0)}var le=this.length-X;if((oe===void 0||oe>le)&&(oe=le),L.length>0&&(oe<0||X<0)||X>this.length)throw new RangeError("Attempt to write outside buffer bounds");Oe||(Oe="utf8");for(var pe=!1;;)switch(Oe){case"hex":return N(this,L,X,oe);case"utf8":case"utf-8":return P(this,L,X,oe);case"ascii":case"latin1":case"binary":return I(this,L,X,oe);case"base64":return B(this,L,X,oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ee(this,L,X,oe);default:if(pe)throw new TypeError("Unknown encoding: "+Oe);Oe=(""+Oe).toLowerCase(),pe=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var re=4096;function ce(L,X,oe){var Oe="";oe=Math.min(L.length,oe);for(var le=X;le<oe;++le)Oe+=String.fromCharCode(127&L[le]);return Oe}function ge(L,X,oe){var Oe="";oe=Math.min(L.length,oe);for(var le=X;le<oe;++le)Oe+=String.fromCharCode(L[le]);return Oe}function F(L,X,oe){var Oe=L.length;(!X||X<0)&&(X=0),(!oe||oe<0||oe>Oe)&&(oe=Oe);for(var le="",pe=X;pe<oe;++pe)le+=_e[L[pe]];return le}function V(L,X,oe){for(var Oe=L.slice(X,oe),le="",pe=0;pe<Oe.length-1;pe+=2)le+=String.fromCharCode(Oe[pe]+256*Oe[pe+1]);return le}function H(L,X,oe){if(L%1!=0||L<0)throw new RangeError("offset is not uint");if(L+X>oe)throw new RangeError("Trying to access beyond buffer length")}function W(L,X,oe,Oe,le,pe){if(!d.isBuffer(L))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>le||X<pe)throw new RangeError('"value" argument is out of bounds');if(oe+Oe>L.length)throw new RangeError("Index out of range")}function z(L,X,oe,Oe,le,pe){if(oe+Oe>L.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("Index out of range")}function M(L,X,oe,Oe,le){return X=+X,oe>>>=0,le||z(L,0,oe,4),m.write(L,X,oe,Oe,23,4),oe+4}function q(L,X,oe,Oe,le){return X=+X,oe>>>=0,le||z(L,0,oe,8),m.write(L,X,oe,Oe,52,8),oe+8}d.prototype.slice=function(L,X){var oe=this.length;(L=~~L)<0?(L+=oe)<0&&(L=0):L>oe&&(L=oe),(X=X===void 0?oe:~~X)<0?(X+=oe)<0&&(X=0):X>oe&&(X=oe),X<L&&(X=L);var Oe=this.subarray(L,X);return Object.setPrototypeOf(Oe,d.prototype),Oe},d.prototype.readUintLE=d.prototype.readUIntLE=function(L,X,oe){L>>>=0,X>>>=0,oe||H(L,X,this.length);for(var Oe=this[L],le=1,pe=0;++pe<X&&(le*=256);)Oe+=this[L+pe]*le;return Oe},d.prototype.readUintBE=d.prototype.readUIntBE=function(L,X,oe){L>>>=0,X>>>=0,oe||H(L,X,this.length);for(var Oe=this[L+--X],le=1;X>0&&(le*=256);)Oe+=this[L+--X]*le;return Oe},d.prototype.readUint8=d.prototype.readUInt8=function(L,X){return L>>>=0,X||H(L,1,this.length),this[L]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(L,X){return L>>>=0,X||H(L,2,this.length),this[L]|this[L+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(L,X){return L>>>=0,X||H(L,2,this.length),this[L]<<8|this[L+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(L,X){return L>>>=0,X||H(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+16777216*this[L+3]},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(L,X){return L>>>=0,X||H(L,4,this.length),16777216*this[L]+(this[L+1]<<16|this[L+2]<<8|this[L+3])},d.prototype.readIntLE=function(L,X,oe){L>>>=0,X>>>=0,oe||H(L,X,this.length);for(var Oe=this[L],le=1,pe=0;++pe<X&&(le*=256);)Oe+=this[L+pe]*le;return Oe>=(le*=128)&&(Oe-=Math.pow(2,8*X)),Oe},d.prototype.readIntBE=function(L,X,oe){L>>>=0,X>>>=0,oe||H(L,X,this.length);for(var Oe=X,le=1,pe=this[L+--Oe];Oe>0&&(le*=256);)pe+=this[L+--Oe]*le;return pe>=(le*=128)&&(pe-=Math.pow(2,8*X)),pe},d.prototype.readInt8=function(L,X){return L>>>=0,X||H(L,1,this.length),128&this[L]?-1*(255-this[L]+1):this[L]},d.prototype.readInt16LE=function(L,X){L>>>=0,X||H(L,2,this.length);var oe=this[L]|this[L+1]<<8;return 32768&oe?4294901760|oe:oe},d.prototype.readInt16BE=function(L,X){L>>>=0,X||H(L,2,this.length);var oe=this[L+1]|this[L]<<8;return 32768&oe?4294901760|oe:oe},d.prototype.readInt32LE=function(L,X){return L>>>=0,X||H(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},d.prototype.readInt32BE=function(L,X){return L>>>=0,X||H(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},d.prototype.readFloatLE=function(L,X){return L>>>=0,X||H(L,4,this.length),m.read(this,L,!0,23,4)},d.prototype.readFloatBE=function(L,X){return L>>>=0,X||H(L,4,this.length),m.read(this,L,!1,23,4)},d.prototype.readDoubleLE=function(L,X){return L>>>=0,X||H(L,8,this.length),m.read(this,L,!0,52,8)},d.prototype.readDoubleBE=function(L,X){return L>>>=0,X||H(L,8,this.length),m.read(this,L,!1,52,8)},d.prototype.writeUintLE=d.prototype.writeUIntLE=function(L,X,oe,Oe){L=+L,X>>>=0,oe>>>=0,Oe||W(this,L,X,oe,Math.pow(2,8*oe)-1,0);var le=1,pe=0;for(this[X]=255&L;++pe<oe&&(le*=256);)this[X+pe]=L/le&255;return X+oe},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(L,X,oe,Oe){L=+L,X>>>=0,oe>>>=0,Oe||W(this,L,X,oe,Math.pow(2,8*oe)-1,0);var le=oe-1,pe=1;for(this[X+le]=255&L;--le>=0&&(pe*=256);)this[X+le]=L/pe&255;return X+oe},d.prototype.writeUint8=d.prototype.writeUInt8=function(L,X,oe){return L=+L,X>>>=0,oe||W(this,L,X,1,255,0),this[X]=255&L,X+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(L,X,oe){return L=+L,X>>>=0,oe||W(this,L,X,2,65535,0),this[X]=255&L,this[X+1]=L>>>8,X+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(L,X,oe){return L=+L,X>>>=0,oe||W(this,L,X,2,65535,0),this[X]=L>>>8,this[X+1]=255&L,X+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(L,X,oe){return L=+L,X>>>=0,oe||W(this,L,X,4,4294967295,0),this[X+3]=L>>>24,this[X+2]=L>>>16,this[X+1]=L>>>8,this[X]=255&L,X+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(L,X,oe){return L=+L,X>>>=0,oe||W(this,L,X,4,4294967295,0),this[X]=L>>>24,this[X+1]=L>>>16,this[X+2]=L>>>8,this[X+3]=255&L,X+4},d.prototype.writeIntLE=function(L,X,oe,Oe){if(L=+L,X>>>=0,!Oe){var le=Math.pow(2,8*oe-1);W(this,L,X,oe,le-1,-le)}var pe=0,Ae=1,K=0;for(this[X]=255&L;++pe<oe&&(Ae*=256);)L<0&&K===0&&this[X+pe-1]!==0&&(K=1),this[X+pe]=(L/Ae|0)-K&255;return X+oe},d.prototype.writeIntBE=function(L,X,oe,Oe){if(L=+L,X>>>=0,!Oe){var le=Math.pow(2,8*oe-1);W(this,L,X,oe,le-1,-le)}var pe=oe-1,Ae=1,K=0;for(this[X+pe]=255&L;--pe>=0&&(Ae*=256);)L<0&&K===0&&this[X+pe+1]!==0&&(K=1),this[X+pe]=(L/Ae|0)-K&255;return X+oe},d.prototype.writeInt8=function(L,X,oe){return L=+L,X>>>=0,oe||W(this,L,X,1,127,-128),L<0&&(L=255+L+1),this[X]=255&L,X+1},d.prototype.writeInt16LE=function(L,X,oe){return L=+L,X>>>=0,oe||W(this,L,X,2,32767,-32768),this[X]=255&L,this[X+1]=L>>>8,X+2},d.prototype.writeInt16BE=function(L,X,oe){return L=+L,X>>>=0,oe||W(this,L,X,2,32767,-32768),this[X]=L>>>8,this[X+1]=255&L,X+2},d.prototype.writeInt32LE=function(L,X,oe){return L=+L,X>>>=0,oe||W(this,L,X,4,2147483647,-2147483648),this[X]=255&L,this[X+1]=L>>>8,this[X+2]=L>>>16,this[X+3]=L>>>24,X+4},d.prototype.writeInt32BE=function(L,X,oe){return L=+L,X>>>=0,oe||W(this,L,X,4,2147483647,-2147483648),L<0&&(L=4294967295+L+1),this[X]=L>>>24,this[X+1]=L>>>16,this[X+2]=L>>>8,this[X+3]=255&L,X+4},d.prototype.writeFloatLE=function(L,X,oe){return M(this,L,X,!0,oe)},d.prototype.writeFloatBE=function(L,X,oe){return M(this,L,X,!1,oe)},d.prototype.writeDoubleLE=function(L,X,oe){return q(this,L,X,!0,oe)},d.prototype.writeDoubleBE=function(L,X,oe){return q(this,L,X,!1,oe)},d.prototype.copy=function(L,X,oe,Oe){if(!d.isBuffer(L))throw new TypeError("argument should be a Buffer");if(oe||(oe=0),Oe||Oe===0||(Oe=this.length),X>=L.length&&(X=L.length),X||(X=0),Oe>0&&Oe<oe&&(Oe=oe),Oe===oe||L.length===0||this.length===0)return 0;if(X<0)throw new RangeError("targetStart out of bounds");if(oe<0||oe>=this.length)throw new RangeError("Index out of range");if(Oe<0)throw new RangeError("sourceEnd out of bounds");Oe>this.length&&(Oe=this.length),L.length-X<Oe-oe&&(Oe=L.length-X+oe);var le=Oe-oe;return this===L&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(X,oe,Oe):Uint8Array.prototype.set.call(L,this.subarray(oe,Oe),X),le},d.prototype.fill=function(L,X,oe,Oe){if(typeof L=="string"){if(typeof X=="string"?(Oe=X,X=0,oe=this.length):typeof oe=="string"&&(Oe=oe,oe=this.length),Oe!==void 0&&typeof Oe!="string")throw new TypeError("encoding must be a string");if(typeof Oe=="string"&&!d.isEncoding(Oe))throw new TypeError("Unknown encoding: "+Oe);if(L.length===1){var le=L.charCodeAt(0);(Oe==="utf8"&&le<128||Oe==="latin1")&&(L=le)}}else typeof L=="number"?L&=255:typeof L=="boolean"&&(L=Number(L));if(X<0||this.length<X||this.length<oe)throw new RangeError("Out of range index");if(oe<=X)return this;var pe;if(X>>>=0,oe=oe===void 0?this.length:oe>>>0,L||(L=0),typeof L=="number")for(pe=X;pe<oe;++pe)this[pe]=L;else{var Ae=d.isBuffer(L)?L:d.from(L,Oe),K=Ae.length;if(K===0)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(pe=0;pe<oe-X;++pe)this[pe+X]=Ae[pe%K]}return this};var ne=/[^+/0-9A-Za-z-_]/g;function fe(L,X){var oe;X=X||1/0;for(var Oe=L.length,le=null,pe=[],Ae=0;Ae<Oe;++Ae){if((oe=L.charCodeAt(Ae))>55295&&oe<57344){if(!le){if(oe>56319){(X-=3)>-1&&pe.push(239,191,189);continue}if(Ae+1===Oe){(X-=3)>-1&&pe.push(239,191,189);continue}le=oe;continue}if(oe<56320){(X-=3)>-1&&pe.push(239,191,189),le=oe;continue}oe=65536+(le-55296<<10|oe-56320)}else le&&(X-=3)>-1&&pe.push(239,191,189);if(le=null,oe<128){if((X-=1)<0)break;pe.push(oe)}else if(oe<2048){if((X-=2)<0)break;pe.push(oe>>6|192,63&oe|128)}else if(oe<65536){if((X-=3)<0)break;pe.push(oe>>12|224,oe>>6&63|128,63&oe|128)}else{if(!(oe<1114112))throw new Error("Invalid code point");if((X-=4)<0)break;pe.push(oe>>18|240,oe>>12&63|128,oe>>6&63|128,63&oe|128)}}return pe}function ve(L){return h.toByteArray(function(X){if((X=(X=X.split("=")[0]).trim().replace(ne,"")).length<2)return"";for(;X.length%4!=0;)X+="=";return X}(L))}function we(L,X,oe,Oe){for(var le=0;le<Oe&&!(le+oe>=X.length||le>=L.length);++le)X[le+oe]=L[le];return le}function me(L,X){return L instanceof X||L!=null&&L.constructor!=null&&L.constructor.name!=null&&L.constructor.name===X.name}function ue(L){return L!=L}var _e=function(){for(var L="0123456789abcdef",X=new Array(256),oe=0;oe<16;++oe)for(var Oe=16*oe,le=0;le<16;++le)X[Oe+le]=L[oe]+L[le];return X}()},5889:(u,c,s)=>{function f(_,$){var g=typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(!g){if(Array.isArray(_)||(g=h(_))||$){g&&(_=g);var S=0,x=function(){};return{s:x,n:function(){return S>=_.length?{done:!0}:{done:!1,value:_[S++]}},e:function(w){throw w},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var A,T=!0,C=!1;return{s:function(){g=g.call(_)},n:function(){var w=g.next();return T=w.done,w},e:function(w){C=!0,A=w},f:function(){try{T||g.return==null||g.return()}finally{if(C)throw A}}}}function h(_,$){if(_){if(typeof _=="string")return m(_,$);var g={}.toString.call(_).slice(8,-1);return g==="Object"&&_.constructor&&(g=_.constructor.name),g==="Map"||g==="Set"?Array.from(_):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?m(_,$):void 0}}function m(_,$){($==null||$>_.length)&&($=_.length);for(var g=0,S=Array($);g<$;g++)S[g]=_[g];return S}var j=s(7930).arrayAtomicsSymbol,b=s(7930).sessionNewDocuments,R=s(8768);function d(_,$){return _=_||{},$.$pullAll!=null&&(_.$pullAll=(_.$pullAll||[]).concat($.$pullAll)),$.$push!=null&&(_.$push=_.$push||{},_.$push.$each=(_.$push.$each||[]).concat($.$push.$each)),$.$addToSet!=null&&(_.$addToSet=(_.$addToSet||[]).concat($.$addToSet)),$.$set!=null&&(_.$set=Array.isArray($.$set)?function(S){if(Array.isArray(S))return m(S)}(g=$.$set)||function(S){if(typeof Symbol<"u"&&S[Symbol.iterator]!=null||S["@@iterator"]!=null)return Array.from(S)}(g)||h(g)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}():Object.assign({},$.$set)),_;var g}u.exports=function(_){_.pre("save",function(){var $=this.$session();if($!=null&&$.transaction!=null&&$[b]!=null&&!$[b].has(this)){var g={};this.isNew&&(g.isNew=!0),this.$__schema.options.versionKey&&(g.versionKey=this.get(this.$__schema.options.versionKey)),g.modifiedPaths=new Set(Object.keys(this.$__.activePaths.getStatePaths("modify"))),g.atomics=function(S,x){var A=new Map;x=x||new Map;var T,C=f(Object.keys(S.$__.activePaths.init).concat(Object.keys(S.$__.activePaths.modify)));try{for(C.s();!(T=C.n()).done;){var w=T.value,v=S.$__getValue(w);if(v!=null&&Array.isArray(v)&&R.isMongooseDocumentArray(v)&&v.length&&v[j]!=null&&Object.keys(v[j]).length!==0){var E=x.get(w)||{};A.set(w,d(E,v[j]))}}}catch(te){C.e(te)}finally{C.f()}var N,P=f(S.$__dirty());try{for(P.s();!(N=P.n()).done;){var I=N.value,B=I.path,ee=I.value;if(ee!=null&&ee[j]!=null&&Object.keys(ee[j]).length!==0){var Z=x.get(B)||{};A.set(B,d(Z,ee[j]))}}}catch(te){P.e(te)}finally{P.f()}return A}(this),$[b].set(this,g)}})}},5899:(u,c,s)=>{function f(d){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},f(d)}var h=s(953)(),m=s(3071)("Object.prototype.toString"),j=function(d){return!(h&&d&&f(d)==="object"&&Symbol.toStringTag in d)&&m(d)==="[object Arguments]"},b=function(d){return!!j(d)||d!==null&&f(d)==="object"&&"length"in d&&typeof d.length=="number"&&d.length>=0&&m(d)!=="[object Array]"&&"callee"in d&&m(d.callee)==="[object Function]"},R=function(){return j(arguments)}();j.isLegacyArguments=b,u.exports=R?j:b},5994:(u,c,s)=>{var f=Function.prototype.call,h=Object.prototype.hasOwnProperty,m=s(2354);u.exports=m.call(f,h)},6062:(u,c,s)=>{var f=s(9122),h=s(2273),m=s(118),j=s(4183),b=s(7878),R=f(j(),Number);h(R,{getPolyfill:j,implementation:m,shim:b}),u.exports=R},6140:u=>{function c(s,f,h){return Object.defineProperty(s,"prototype",{writable:!1}),s}u.exports=c(function s(f,h,m){(function(j,b){if(!(j instanceof b))throw new TypeError("Cannot call a class as a function")})(this,s),this.subdocSnapshot=f,this.activePaths=h,this.version=m})},6155:u=>{function c(s){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},c(s)}u.exports=function(s){for(var f=Object.keys(s),h=!0,m=0,j=f.length;m<j;++m)if(c(s[f[m]])==="object"&&s[f[m]]!==null){h=!1;break}return h}},6182:u=>{function c(s,f){if(s==null)throw new TypeError("Cannot convert first argument to object");for(var h=Object(s),m=1;m<arguments.length;m++){var j=arguments[m];if(j!=null)for(var b=Object.keys(Object(j)),R=0,d=b.length;R<d;R++){var _=b[R],$=Object.getOwnPropertyDescriptor(j,_);$!==void 0&&$.enumerable&&(h[_]=j[_])}}return h}u.exports={assign:c,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:c})}}},6193:(u,c,s)=>{function f(ue){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_e){return typeof _e}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":typeof _e},f(ue)}function h(ue,_e){return function(L){if(Array.isArray(L))return L}(ue)||function(L,X){var oe=[],Oe=!0,le=!1,pe=void 0;try{for(var Ae,K=L[Symbol.iterator]();!(Oe=(Ae=K.next()).done)&&(oe.push(Ae.value),!X||oe.length!==X);Oe=!0);}catch(ie){le=!0,pe=ie}finally{try{Oe||K.return==null||K.return()}finally{if(le)throw pe}}return oe}(ue,_e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(ue){return m=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(_e){return f(_e)}:function(_e){return _e&&typeof Symbol=="function"&&_e.constructor===Symbol&&_e!==Symbol.prototype?"symbol":f(_e)},m(ue)}var j=/a/g.flags!==void 0,b=function(ue){var _e=[];return ue.forEach(function(L){return _e.push(L)}),_e},R=function(ue){var _e=[];return ue.forEach(function(L,X){return _e.push([X,L])}),_e},d=Object.is?Object.is:s(2064),_=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},$=Number.isNaN?Number.isNaN:s(6062);function g(ue){return ue.call.bind(ue)}var S=g(Object.prototype.hasOwnProperty),x=g(Object.prototype.propertyIsEnumerable),A=g(Object.prototype.toString),T=s(7352).types,C=T.isAnyArrayBuffer,w=T.isArrayBufferView,v=T.isDate,E=T.isMap,N=T.isRegExp,P=T.isSet,I=T.isNativeError,B=T.isBoxedPrimitive,ee=T.isNumberObject,Z=T.isStringObject,te=T.isBooleanObject,re=T.isBigIntObject,ce=T.isSymbolObject,ge=T.isFloat32Array,F=T.isFloat64Array;function V(ue){if(ue.length===0||ue.length>10)return!0;for(var _e=0;_e<ue.length;_e++){var L=ue.charCodeAt(_e);if(L<48||L>57)return!0}return ue.length===10&&ue>=Math.pow(2,32)}function H(ue){return Object.keys(ue).filter(V).concat(_(ue).filter(Object.prototype.propertyIsEnumerable.bind(ue)))}function W(ue,_e){if(ue===_e)return 0;for(var L=ue.length,X=_e.length,oe=0,Oe=Math.min(L,X);oe<Oe;++oe)if(ue[oe]!==_e[oe]){L=ue[oe],X=_e[oe];break}return L<X?-1:X<L?1:0}function z(ue,_e,L,X){if(ue===_e)return ue!==0||!L||d(ue,_e);if(L){if(m(ue)!=="object")return typeof ue=="number"&&$(ue)&&$(_e);if(m(_e)!=="object"||ue===null||_e===null||Object.getPrototypeOf(ue)!==Object.getPrototypeOf(_e))return!1}else{if(ue===null||m(ue)!=="object")return(_e===null||m(_e)!=="object")&&ue==_e;if(_e===null||m(_e)!=="object")return!1}var oe,Oe,le,pe,Ae=A(ue);if(Ae!==A(_e))return!1;if(Array.isArray(ue)){if(ue.length!==_e.length)return!1;var K=H(ue),ie=H(_e);return K.length===ie.length&&q(ue,_e,L,X,1,K)}if(Ae==="[object Object]"&&(!E(ue)&&E(_e)||!P(ue)&&P(_e)))return!1;if(v(ue)){if(!v(_e)||Date.prototype.getTime.call(ue)!==Date.prototype.getTime.call(_e))return!1}else if(N(ue)){if(!N(_e)||(le=ue,pe=_e,!(j?le.source===pe.source&&le.flags===pe.flags:RegExp.prototype.toString.call(le)===RegExp.prototype.toString.call(pe))))return!1}else if(I(ue)||ue instanceof Error){if(ue.message!==_e.message||ue.name!==_e.name)return!1}else{if(w(ue)){if(L||!ge(ue)&&!F(ue)){if(!function(de,De){return de.byteLength===De.byteLength&&W(new Uint8Array(de.buffer,de.byteOffset,de.byteLength),new Uint8Array(De.buffer,De.byteOffset,De.byteLength))===0}(ue,_e))return!1}else if(!function(de,De){if(de.byteLength!==De.byteLength)return!1;for(var He=0;He<de.byteLength;He++)if(de[He]!==De[He])return!1;return!0}(ue,_e))return!1;var ye=H(ue),je=H(_e);return ye.length===je.length&&q(ue,_e,L,X,0,ye)}if(P(ue))return!(!P(_e)||ue.size!==_e.size)&&q(ue,_e,L,X,2);if(E(ue))return!(!E(_e)||ue.size!==_e.size)&&q(ue,_e,L,X,3);if(C(ue)){if(Oe=_e,(oe=ue).byteLength!==Oe.byteLength||W(new Uint8Array(oe),new Uint8Array(Oe))!==0)return!1}else if(B(ue)&&!function(de,De){return ee(de)?ee(De)&&d(Number.prototype.valueOf.call(de),Number.prototype.valueOf.call(De)):Z(de)?Z(De)&&String.prototype.valueOf.call(de)===String.prototype.valueOf.call(De):te(de)?te(De)&&Boolean.prototype.valueOf.call(de)===Boolean.prototype.valueOf.call(De):re(de)?re(De)&&BigInt.prototype.valueOf.call(de)===BigInt.prototype.valueOf.call(De):ce(De)&&Symbol.prototype.valueOf.call(de)===Symbol.prototype.valueOf.call(De)}(ue,_e))return!1}return q(ue,_e,L,X,0)}function M(ue,_e){return _e.filter(function(L){return x(ue,L)})}function q(ue,_e,L,X,oe,Oe){if(arguments.length===5){Oe=Object.keys(ue);var le=Object.keys(_e);if(Oe.length!==le.length)return!1}for(var pe=0;pe<Oe.length;pe++)if(!S(_e,Oe[pe]))return!1;if(L&&arguments.length===5){var Ae=_(ue);if(Ae.length!==0){var K=0;for(pe=0;pe<Ae.length;pe++){var ie=Ae[pe];if(x(ue,ie)){if(!x(_e,ie))return!1;Oe.push(ie),K++}else if(x(_e,ie))return!1}var ye=_(_e);if(Ae.length!==ye.length&&M(_e,ye).length!==K)return!1}else{var je=_(_e);if(je.length!==0&&M(_e,je).length!==0)return!1}}if(Oe.length===0&&(oe===0||oe===1&&ue.length===0||ue.size===0))return!0;if(X===void 0)X={val1:new Map,val2:new Map,position:0};else{var de=X.val1.get(ue);if(de!==void 0){var De=X.val2.get(_e);if(De!==void 0)return de===De}X.position++}X.val1.set(ue,X.position),X.val2.set(_e,X.position);var He=function(Ve,ke,Je,Ue,tt,xt){var Tt=0;if(xt===2){if(!function(Qt,nn,vn,_n){for(var Jt=null,nr=b(Qt),Xe=0;Xe<nr.length;Xe++){var rr=nr[Xe];if(m(rr)==="object"&&rr!==null)Jt===null&&(Jt=new Set),Jt.add(rr);else if(!nn.has(rr)){if(vn||!ve(Qt,nn,rr))return!1;Jt===null&&(Jt=new Set),Jt.add(rr)}}if(Jt!==null){for(var Hn=b(nn),Be=0;Be<Hn.length;Be++){var fr=Hn[Be];if(m(fr)==="object"&&fr!==null){if(!ne(Jt,fr,vn,_n))return!1}else if(!vn&&!Qt.has(fr)&&!ne(Jt,fr,vn,_n))return!1}return Jt.size===0}return!0}(Ve,ke,Je,tt))return!1}else if(xt===3){if(!function(Qt,nn,vn,_n){for(var Jt=null,nr=R(Qt),Xe=0;Xe<nr.length;Xe++){var rr=h(nr[Xe],2),Hn=rr[0],Be=rr[1];if(m(Hn)==="object"&&Hn!==null)Jt===null&&(Jt=new Set),Jt.add(Hn);else{var fr=nn.get(Hn);if(fr===void 0&&!nn.has(Hn)||!z(Be,fr,vn,_n)){if(vn||!we(Qt,nn,Hn,Be,_n))return!1;Jt===null&&(Jt=new Set),Jt.add(Hn)}}}if(Jt!==null){for(var Si=R(nn),Tn=0;Tn<Si.length;Tn++){var Jn=h(Si[Tn],2),br=(Hn=Jn[0],Jn[1]);if(m(Hn)==="object"&&Hn!==null){if(!me(Jt,Qt,Hn,br,vn,_n))return!1}else if(!(vn||Qt.has(Hn)&&z(Qt.get(Hn),br,!1,_n)||me(Jt,Qt,Hn,br,!1,_n)))return!1}return Jt.size===0}return!0}(Ve,ke,Je,tt))return!1}else if(xt===1)for(;Tt<Ve.length;Tt++){if(!S(Ve,Tt)){if(S(ke,Tt))return!1;for(var It=Object.keys(Ve);Tt<It.length;Tt++){var _t=It[Tt];if(!S(ke,_t)||!z(Ve[_t],ke[_t],Je,tt))return!1}return It.length===Object.keys(ke).length}if(!S(ke,Tt)||!z(Ve[Tt],ke[Tt],Je,tt))return!1}for(Tt=0;Tt<Ue.length;Tt++){var gn=Ue[Tt];if(!z(Ve[gn],ke[gn],Je,tt))return!1}return!0}(ue,_e,L,Oe,X,oe);return X.val1.delete(ue),X.val2.delete(_e),He}function ne(ue,_e,L,X){for(var oe=b(ue),Oe=0;Oe<oe.length;Oe++){var le=oe[Oe];if(z(_e,le,L,X))return ue.delete(le),!0}return!1}function fe(ue){switch(m(ue)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":ue=+ue;case"number":if($(ue))return!1}return!0}function ve(ue,_e,L){var X=fe(L);return X??(_e.has(X)&&!ue.has(X))}function we(ue,_e,L,X,oe){var Oe=fe(L);if(Oe!=null)return Oe;var le=_e.get(Oe);return!(le===void 0&&!_e.has(Oe)||!z(X,le,!1,oe))&&!ue.has(Oe)&&z(X,le,!1,oe)}function me(ue,_e,L,X,oe,Oe){for(var le=b(ue),pe=0;pe<le.length;pe++){var Ae=le[pe];if(z(L,Ae,oe,Oe)&&z(X,_e.get(Ae),oe,Oe))return ue.delete(Ae),!0}return!1}u.exports={isDeepEqual:function(ue,_e){return z(ue,_e,!1)},isDeepStrictEqual:function(ue,_e){return z(ue,_e,!0)}}},6223:u=>{var c=/\./g;u.exports=function(s){if(s.indexOf(".")===-1)return[s];for(var f=s.split(c),h=f.length,m=new Array(h),j="",b=0;b<h;++b)j+=j.length!==0?"."+f[b]:f[b],m[b]=j;return m}},6312:u=>{function c(f){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},c(f)}var s=Object.prototype.toString;u.exports=function(f){var h=s.call(f),m=h==="[object Arguments]";return m||(m=h!=="[object Array]"&&f!==null&&c(f)==="object"&&typeof f.length=="number"&&f.length>=0&&s.call(f.callee)==="[object Function]"),m}},6353:(u,c,s)=>{var dr;s.r(c),s.d(c,{BSON:()=>ao,BSONError:()=>ue,BSONOffsetError:()=>X,BSONRegExp:()=>vt,BSONRuntimeError:()=>L,BSONSymbol:()=>mt,BSONType:()=>me,BSONValue:()=>De,BSONVersionError:()=>_e,Binary:()=>Ue,Code:()=>_t,DBRef:()=>Qt,Decimal128:()=>Pe,Double:()=>Ne,EJSON:()=>Bn,Int32:()=>Fe,Long:()=>Be,MaxKey:()=>Le,MinKey:()=>st,ObjectId:()=>Ge,Timestamp:()=>At,UUID:()=>It,calculateObjectSize:()=>Ei,deserialize:()=>Gi,deserializeStream:()=>Zr,onDemand:()=>Ar,serialize:()=>pi,serializeWithBufferAndIndex:()=>Ci,setInternalBufferSize:()=>wr});var f=s(5832).hp;const h=(()=>{const k=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(Uint8Array.prototype),Symbol.toStringTag).get;return y=>k.call(y)})();function m(k){return h(k)==="Uint8Array"}function j(k){return typeof k=="object"&&k!=null&&Symbol.toStringTag in k&&(k[Symbol.toStringTag]==="ArrayBuffer"||k[Symbol.toStringTag]==="SharedArrayBuffer")}function b(k){return k instanceof RegExp||Object.prototype.toString.call(k)==="[object RegExp]"}function R(k){return typeof k=="object"&&k!=null&&Symbol.toStringTag in k&&k[Symbol.toStringTag]==="Map"}function d(k){return k instanceof Date||Object.prototype.toString.call(k)==="[object Date]"}function _(k,y){return JSON.stringify(k,(J,Q)=>typeof Q=="bigint"?{$numberLong:`${Q}`}:R(Q)?Object.fromEntries(Q):Q)}const $=6,g=Symbol.for("@@mdb.bson.version"),S=2147483647,x=-2147483648,A=Math.pow(2,63)-1,T=-Math.pow(2,63),C=Math.pow(2,53),w=-Math.pow(2,53),v=1,E=2,N=3,P=4,I=5,B=6,ee=7,Z=8,te=9,re=10,ce=11,ge=12,F=13,V=14,H=15,W=16,z=17,M=18,q=19,ne=255,fe=127,ve=0,we=4,me=Object.freeze({double:1,string:2,object:3,array:4,binData:5,undefined:6,objectId:7,bool:8,date:9,null:10,regex:11,dbPointer:12,javascript:13,symbol:14,javascriptWithScope:15,int:16,timestamp:17,long:18,decimal:19,minKey:-1,maxKey:127});class ue extends Error{get bsonError(){return!0}get name(){return"BSONError"}constructor(y,J){super(y,J)}static isBSONError(y){return y!=null&&typeof y=="object"&&"bsonError"in y&&y.bsonError===!0&&"name"in y&&"message"in y&&"stack"in y}}class _e extends ue{get name(){return"BSONVersionError"}constructor(){super(`Unsupported BSON version, bson types must be from bson ${$}.x.x`)}}class L extends ue{get name(){return"BSONRuntimeError"}constructor(y){super(y)}}class X extends ue{get name(){return"BSONOffsetError"}constructor(y,J,Q){super(`${y}. offset: ${J}`,Q),this.offset=J}}let oe,Oe;function le(k,y,J,Q){if(Q){oe??(oe=new TextDecoder("utf8",{fatal:!0}));try{return oe.decode(k.subarray(y,J))}catch($e){throw new ue("Invalid UTF-8 string in BSON document",{cause:$e})}}return Oe??(Oe=new TextDecoder("utf8",{fatal:!1})),Oe.decode(k.subarray(y,J))}function pe(k,y,J){if(k.length===0)return"";const Q=J-y;if(Q===0)return"";if(Q>20)return null;if(Q===1&&k[y]<128)return String.fromCharCode(k[y]);if(Q===2&&k[y]<128&&k[y+1]<128)return String.fromCharCode(k[y])+String.fromCharCode(k[y+1]);if(Q===3&&k[y]<128&&k[y+1]<128&&k[y+2]<128)return String.fromCharCode(k[y])+String.fromCharCode(k[y+1])+String.fromCharCode(k[y+2]);const $e=[];for(let Ie=y;Ie<J;Ie++){const ot=k[Ie];if(ot>127)return null;$e.push(ot)}return String.fromCharCode(...$e)}const Ae={toLocalBufferType(k){if(f.isBuffer(k))return k;if(ArrayBuffer.isView(k))return f.from(k.buffer,k.byteOffset,k.byteLength);const y=(k==null?void 0:k[Symbol.toStringTag])??Object.prototype.toString.call(k);if(y==="ArrayBuffer"||y==="SharedArrayBuffer"||y==="[object ArrayBuffer]"||y==="[object SharedArrayBuffer]")return f.from(k);throw new ue("Cannot create Buffer from the passed potentialBuffer.")},allocate:k=>f.alloc(k),allocateUnsafe:k=>f.allocUnsafe(k),equals:(k,y)=>Ae.toLocalBufferType(k).equals(y),fromNumberArray:k=>f.from(k),fromBase64:k=>f.from(k,"base64"),toBase64:k=>Ae.toLocalBufferType(k).toString("base64"),fromISO88591:k=>f.from(k,"binary"),toISO88591:k=>Ae.toLocalBufferType(k).toString("binary"),fromHex:k=>f.from(k,"hex"),toHex:k=>Ae.toLocalBufferType(k).toString("hex"),toUTF8(k,y,J,Q){const $e=J-y<=20?pe(k,y,J):null;if($e!=null)return $e;const Ie=Ae.toLocalBufferType(k).toString("utf8",y,J);if(Q){for(let ot=0;ot<Ie.length;ot++)if(Ie.charCodeAt(ot)===65533){le(k,y,J,!0);break}}return Ie},utf8ByteLength:k=>f.byteLength(k,"utf8"),encodeUTF8Into(k,y,J){const Q=function($e,Ie,ot){if(Ie.length===0)return 0;if(Ie.length>25||$e.length-ot<Ie.length)return null;for(let it=0,Me=ot;it<Ie.length;it++,Me++){const jt=Ie.charCodeAt(it);if(jt>127)return null;$e[Me]=jt}return Ie.length}(k,y,J);return Q??Ae.toLocalBufferType(k).write(y,J,void 0,"utf8")},randomBytes:function(k){return Ae.fromNumberArray(Array.from({length:k},()=>Math.floor(256*Math.random())))},swap32:k=>Ae.toLocalBufferType(k).swap32()};function K(k){if(k<0)throw new RangeError(`The argument 'byteLength' is invalid. Received ${k}`);return je.fromNumberArray(Array.from({length:k},()=>Math.floor(256*Math.random())))}const ie=(()=>{var y;const{crypto:k}=globalThis;if(k!=null&&typeof k.getRandomValues=="function")return J=>k.getRandomValues(je.allocate(J));if(function(){const{navigator:J}=globalThis;return typeof J=="object"&&J.product==="ReactNative"}()){const{console:J}=globalThis;(y=J==null?void 0:J.warn)==null||y.call(J,"BSON: For React Native please polyfill crypto.getRandomValues, e.g. using: https://www.npmjs.com/package/react-native-get-random-values.")}return K})(),ye=/(\d|[a-f])/i,je={toLocalBufferType(k){const y=(k==null?void 0:k[Symbol.toStringTag])??Object.prototype.toString.call(k);if(y==="Uint8Array")return k;if(ArrayBuffer.isView(k))return new Uint8Array(k.buffer.slice(k.byteOffset,k.byteOffset+k.byteLength));if(y==="ArrayBuffer"||y==="SharedArrayBuffer"||y==="[object ArrayBuffer]"||y==="[object SharedArrayBuffer]")return new Uint8Array(k);throw new ue("Cannot make a Uint8Array from passed potentialBuffer.")},allocate(k){if(typeof k!="number")throw new TypeError(`The "size" argument must be of type number. Received ${String(k)}`);return new Uint8Array(k)},allocateUnsafe:k=>je.allocate(k),equals(k,y){if(k.byteLength!==y.byteLength)return!1;for(let J=0;J<k.byteLength;J++)if(k[J]!==y[J])return!1;return!0},fromNumberArray:k=>Uint8Array.from(k),fromBase64:k=>Uint8Array.from(atob(k),y=>y.charCodeAt(0)),toBase64:k=>btoa(je.toISO88591(k)),fromISO88591:k=>Uint8Array.from(k,y=>255&y.charCodeAt(0)),toISO88591:k=>Array.from(Uint16Array.from(k),y=>String.fromCharCode(y)).join(""),fromHex(k){const y=k.length%2==0?k:k.slice(0,k.length-1),J=[];for(let Q=0;Q<y.length;Q+=2){const $e=y[Q],Ie=y[Q+1];if(!ye.test($e)||!ye.test(Ie))break;const ot=Number.parseInt(`${$e}${Ie}`,16);J.push(ot)}return Uint8Array.from(J)},toHex:k=>Array.from(k,y=>y.toString(16).padStart(2,"0")).join(""),toUTF8(k,y,J,Q){const $e=J-y<=20?pe(k,y,J):null;return $e??le(k,y,J,Q)},utf8ByteLength:k=>new TextEncoder().encode(k).byteLength,encodeUTF8Into(k,y,J){const Q=new TextEncoder().encode(y);return k.set(Q,J),Q.byteLength},randomBytes:ie,swap32(k){if(k.length%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let y=0;y<k.length;y+=4){const J=k[y],Q=k[y+1],$e=k[y+2],Ie=k[y+3];k[y]=Ie,k[y+1]=$e,k[y+2]=Q,k[y+3]=J}return k}},de=typeof f=="function"&&((dr=f.prototype)==null?void 0:dr._isBuffer)!==!0?Ae:je;class De{get[g](){return $}[Symbol.for("nodejs.util.inspect.custom")](y,J,Q){return this.inspect(y,J,Q)}}const He=new Float64Array(1),Ve=new Uint8Array(He.buffer,0,8);He[0]=-1;const ke=Ve[7]===0,Je={isBigEndian:ke,getNonnegativeInt32LE(k,y){if(k[y+3]>127)throw new RangeError(`Size cannot be negative at offset: ${y}`);return k[y]|k[y+1]<<8|k[y+2]<<16|k[y+3]<<24},getInt32LE:(k,y)=>k[y]|k[y+1]<<8|k[y+2]<<16|k[y+3]<<24,getUint32LE:(k,y)=>k[y]+256*k[y+1]+65536*k[y+2]+16777216*k[y+3],getUint32BE:(k,y)=>k[y+3]+256*k[y+2]+65536*k[y+1]+16777216*k[y],getBigInt64LE(k,y){const J=BigInt(k[y+4]+256*k[y+5]+65536*k[y+6]+(k[y+7]<<24)),Q=BigInt(k[y]+256*k[y+1]+65536*k[y+2]+16777216*k[y+3]);return(J<<BigInt(32))+Q},getFloat64LE:ke?(k,y)=>(Ve[7]=k[y],Ve[6]=k[y+1],Ve[5]=k[y+2],Ve[4]=k[y+3],Ve[3]=k[y+4],Ve[2]=k[y+5],Ve[1]=k[y+6],Ve[0]=k[y+7],He[0]):(k,y)=>(Ve[0]=k[y],Ve[1]=k[y+1],Ve[2]=k[y+2],Ve[3]=k[y+3],Ve[4]=k[y+4],Ve[5]=k[y+5],Ve[6]=k[y+6],Ve[7]=k[y+7],He[0]),setInt32BE:(k,y,J)=>(k[y+3]=J,J>>>=8,k[y+2]=J,J>>>=8,k[y+1]=J,J>>>=8,k[y]=J,4),setInt32LE:(k,y,J)=>(k[y]=J,J>>>=8,k[y+1]=J,J>>>=8,k[y+2]=J,J>>>=8,k[y+3]=J,4),setBigInt64LE(k,y,J){const Q=BigInt(4294967295);let $e=Number(J&Q);k[y]=$e,$e>>=8,k[y+1]=$e,$e>>=8,k[y+2]=$e,$e>>=8,k[y+3]=$e;let Ie=Number(J>>BigInt(32)&Q);return k[y+4]=Ie,Ie>>=8,k[y+5]=Ie,Ie>>=8,k[y+6]=Ie,Ie>>=8,k[y+7]=Ie,8},setFloat64LE:ke?(k,y,J)=>(He[0]=J,k[y]=Ve[7],k[y+1]=Ve[6],k[y+2]=Ve[5],k[y+3]=Ve[4],k[y+4]=Ve[3],k[y+5]=Ve[2],k[y+6]=Ve[1],k[y+7]=Ve[0],8):(k,y,J)=>(He[0]=J,k[y]=Ve[0],k[y+1]=Ve[1],k[y+2]=Ve[2],k[y+3]=Ve[3],k[y+4]=Ve[4],k[y+5]=Ve[5],k[y+6]=Ve[6],k[y+7]=Ve[7],8)};class Ue extends De{get _bsontype(){return"Binary"}constructor(y,J){if(super(),y!=null&&typeof y=="string"&&!ArrayBuffer.isView(y)&&!j(y)&&!Array.isArray(y))throw new ue("Binary can only be constructed from Uint8Array or number[]");this.sub_type=J??Ue.BSON_BINARY_SUBTYPE_DEFAULT,y==null?(this.buffer=de.allocate(Ue.BUFFER_SIZE),this.position=0):(this.buffer=Array.isArray(y)?de.fromNumberArray(y):de.toLocalBufferType(y),this.position=this.buffer.byteLength)}put(y){if(typeof y=="string"&&y.length!==1)throw new ue("only accepts single character String");if(typeof y!="number"&&y.length!==1)throw new ue("only accepts single character Uint8Array or Array");let J;if(J=typeof y=="string"?y.charCodeAt(0):typeof y=="number"?y:y[0],J<0||J>255)throw new ue("only accepts number in a valid unsigned byte range 0-255");if(this.buffer.byteLength>this.position)this.buffer[this.position++]=J;else{const Q=de.allocate(Ue.BUFFER_SIZE+this.buffer.length);Q.set(this.buffer,0),this.buffer=Q,this.buffer[this.position++]=J}}write(y,J){if(J=typeof J=="number"?J:this.position,this.buffer.byteLength<J+y.length){const Q=de.allocate(this.buffer.byteLength+y.length);Q.set(this.buffer,0),this.buffer=Q}if(ArrayBuffer.isView(y))this.buffer.set(de.toLocalBufferType(y),J),this.position=J+y.byteLength>this.position?J+y.length:this.position;else if(typeof y=="string")throw new ue("input cannot be string")}read(y,J){const Q=y+(J=J&&J>0?J:this.position);return this.buffer.subarray(y,Q>this.position?this.position:Q)}value(){return this.buffer.length===this.position?this.buffer:this.buffer.subarray(0,this.position)}length(){return this.position}toJSON(){return de.toBase64(this.buffer.subarray(0,this.position))}toString(y){return y==="hex"?de.toHex(this.buffer.subarray(0,this.position)):y==="base64"?de.toBase64(this.buffer.subarray(0,this.position)):de.toUTF8(this.buffer,0,this.position,!1)}toExtendedJSON(y){y=y||{},this.sub_type===Ue.SUBTYPE_VECTOR&&tt(this);const J=de.toBase64(this.buffer),Q=Number(this.sub_type).toString(16);return y.legacy?{$binary:J,$type:Q.length===1?"0"+Q:Q}:{$binary:{base64:J,subType:Q.length===1?"0"+Q:Q}}}toUUID(){if(this.sub_type===Ue.SUBTYPE_UUID)return new It(this.buffer.subarray(0,this.position));throw new ue(`Binary sub_type "${this.sub_type}" is not supported for converting to UUID. Only "${Ue.SUBTYPE_UUID}" is currently supported.`)}static createFromHexString(y,J){return new Ue(de.fromHex(y),J)}static createFromBase64(y,J){return new Ue(de.fromBase64(y),J)}static fromExtendedJSON(y,J){let Q,$e;if(J=J||{},"$binary"in y?J.legacy&&typeof y.$binary=="string"&&"$type"in y?($e=y.$type?parseInt(y.$type,16):0,Q=de.fromBase64(y.$binary)):typeof y.$binary!="string"&&($e=y.$binary.subType?parseInt(y.$binary.subType,16):0,Q=de.fromBase64(y.$binary.base64)):"$uuid"in y&&($e=4,Q=It.bytesFromString(y.$uuid)),!Q)throw new ue(`Unexpected Binary Extended JSON format ${JSON.stringify(y)}`);return $e===we?new It(Q):new Ue(Q,$e)}inspect(y,J,Q){return Q??(Q=_),`Binary.createFromBase64(${Q(de.toBase64(this.buffer.subarray(0,this.position)),J)}, ${Q(this.sub_type,J)})`}toInt8Array(){if(this.sub_type!==Ue.SUBTYPE_VECTOR)throw new ue("Binary sub_type is not Vector");if(this.buffer[0]!==Ue.VECTOR_TYPE.Int8)throw new ue("Binary datatype field is not Int8");return tt(this),new Int8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position))}toFloat32Array(){if(this.sub_type!==Ue.SUBTYPE_VECTOR)throw new ue("Binary sub_type is not Vector");if(this.buffer[0]!==Ue.VECTOR_TYPE.Float32)throw new ue("Binary datatype field is not Float32");tt(this);const y=new Uint8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position));return Je.isBigEndian&&de.swap32(y),new Float32Array(y.buffer)}toPackedBits(){if(this.sub_type!==Ue.SUBTYPE_VECTOR)throw new ue("Binary sub_type is not Vector");if(this.buffer[0]!==Ue.VECTOR_TYPE.PackedBit)throw new ue("Binary datatype field is not packed bit");return tt(this),new Uint8Array(this.buffer.buffer.slice(this.buffer.byteOffset+2,this.buffer.byteOffset+this.position))}toBits(){if(this.sub_type!==Ue.SUBTYPE_VECTOR)throw new ue("Binary sub_type is not Vector");if(this.buffer[0]!==Ue.VECTOR_TYPE.PackedBit)throw new ue("Binary datatype field is not packed bit");tt(this);const y=8*(this.length()-2)-this.buffer[1],J=new Int8Array(y);for(let Q=0;Q<J.length;Q++){const $e=Q/8|0,Ie=this.buffer[$e+2]>>7-Q%8&1;J[Q]=Ie}return J}static fromInt8Array(y){const J=de.allocate(y.byteLength+2);J[0]=Ue.VECTOR_TYPE.Int8,J[1]=0;const Q=new Uint8Array(y.buffer,y.byteOffset,y.byteLength);J.set(Q,2);const $e=new this(J,this.SUBTYPE_VECTOR);return tt($e),$e}static fromFloat32Array(y){const J=de.allocate(y.byteLength+2);J[0]=Ue.VECTOR_TYPE.Float32,J[1]=0;const Q=new Uint8Array(y.buffer,y.byteOffset,y.byteLength);J.set(Q,2),Je.isBigEndian&&de.swap32(new Uint8Array(J.buffer,2));const $e=new this(J,this.SUBTYPE_VECTOR);return tt($e),$e}static fromPackedBits(y,J=0){const Q=de.allocate(y.byteLength+2);Q[0]=Ue.VECTOR_TYPE.PackedBit,Q[1]=J,Q.set(y,2);const $e=new this(Q,this.SUBTYPE_VECTOR);return tt($e),$e}static fromBits(y){const J=y.length+7>>>3,Q=new Uint8Array(J+2);Q[0]=Ue.VECTOR_TYPE.PackedBit;const $e=y.length%8;Q[1]=$e===0?0:8-$e;for(let Ie=0;Ie<y.length;Ie++){const ot=Ie>>>3,it=y[Ie];if(it!==0&&it!==1)throw new ue(`Invalid bit value at ${Ie}: must be 0 or 1, found ${y[Ie]}`);if(it===0)continue;const Me=7-Ie%8;Q[ot+2]|=it<<Me}return new this(Q,Ue.SUBTYPE_VECTOR)}}function tt(k){if(k.sub_type!==Ue.SUBTYPE_VECTOR)return;const y=k.position,J=k.buffer[0],Q=k.buffer[1];if((J===Ue.VECTOR_TYPE.Float32||J===Ue.VECTOR_TYPE.Int8)&&Q!==0)throw new ue("Invalid Vector: padding must be zero for int8 and float32 vectors");if(J===Ue.VECTOR_TYPE.Float32&&y!==0&&y-2!=0&&(y-2)%4!=0)throw new ue("Invalid Vector: Float32 vector must contain a multiple of 4 bytes");if(J===Ue.VECTOR_TYPE.PackedBit&&Q!==0&&y===2)throw new ue("Invalid Vector: padding must be zero for packed bit vectors that are empty");if(J===Ue.VECTOR_TYPE.PackedBit&&Q>7)throw new ue(`Invalid Vector: padding must be a value between 0 and 7. found: ${Q}`)}Ue.BSON_BINARY_SUBTYPE_DEFAULT=0,Ue.BUFFER_SIZE=256,Ue.SUBTYPE_DEFAULT=0,Ue.SUBTYPE_FUNCTION=1,Ue.SUBTYPE_BYTE_ARRAY=2,Ue.SUBTYPE_UUID_OLD=3,Ue.SUBTYPE_UUID=4,Ue.SUBTYPE_MD5=5,Ue.SUBTYPE_ENCRYPTED=6,Ue.SUBTYPE_COLUMN=7,Ue.SUBTYPE_SENSITIVE=8,Ue.SUBTYPE_VECTOR=9,Ue.SUBTYPE_USER_DEFINED=128,Ue.VECTOR_TYPE=Object.freeze({Int8:3,Float32:39,PackedBit:16});const xt=/^[0-9A-F]{32}$/i,Tt=/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i;class It extends Ue{constructor(y){let J;if(y==null)J=It.generate();else if(y instanceof It)J=de.toLocalBufferType(new Uint8Array(y.buffer));else if(ArrayBuffer.isView(y)&&y.byteLength===16)J=de.toLocalBufferType(y);else{if(typeof y!="string")throw new ue("Argument passed in UUID constructor must be a UUID, a 16 byte Buffer or a 32/36 character hex string (dashes excluded/included, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx).");J=It.bytesFromString(y)}super(J,we)}get id(){return this.buffer}set id(y){this.buffer=y}toHexString(y=!0){return y?[de.toHex(this.buffer.subarray(0,4)),de.toHex(this.buffer.subarray(4,6)),de.toHex(this.buffer.subarray(6,8)),de.toHex(this.buffer.subarray(8,10)),de.toHex(this.buffer.subarray(10,16))].join("-"):de.toHex(this.buffer)}toString(y){return y==="hex"?de.toHex(this.id):y==="base64"?de.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}equals(y){if(!y)return!1;if(y instanceof It)return de.equals(y.id,this.id);try{return de.equals(new It(y).id,this.id)}catch{return!1}}toBinary(){return new Ue(this.id,Ue.SUBTYPE_UUID)}static generate(){const y=de.randomBytes(16);return y[6]=15&y[6]|64,y[8]=63&y[8]|128,y}static isValid(y){return!!y&&(typeof y=="string"?It.isValidUUIDString(y):m(y)?y.byteLength===16:y._bsontype==="Binary"&&y.sub_type===this.SUBTYPE_UUID&&y.buffer.byteLength===16)}static createFromHexString(y){const J=It.bytesFromString(y);return new It(J)}static createFromBase64(y){return new It(de.fromBase64(y))}static bytesFromString(y){if(!It.isValidUUIDString(y))throw new ue("UUID string representation must be 32 hex digits or canonical hyphenated representation");return de.fromHex(y.replace(/-/g,""))}static isValidUUIDString(y){return xt.test(y)||Tt.test(y)}inspect(y,J,Q){return Q??(Q=_),`new UUID(${Q(this.toHexString(),J)})`}}class _t extends De{get _bsontype(){return"Code"}constructor(y,J){super(),this.code=y.toString(),this.scope=J??null}toJSON(){return this.scope!=null?{code:this.code,scope:this.scope}:{code:this.code}}toExtendedJSON(){return this.scope?{$code:this.code,$scope:this.scope}:{$code:this.code}}static fromExtendedJSON(y){return new _t(y.$code,y.$scope)}inspect(y,J,Q){Q??(Q=_);let $e=Q(this.code,J);const Ie=$e.includes(`
`);return this.scope!=null&&($e+=`,${Ie?`
`:" "}${Q(this.scope,J)}`),`new Code(${Ie?`
`:""}${$e}${Ie&&this.scope===null?`
`:""})`}}function gn(k){return k!=null&&typeof k=="object"&&"$id"in k&&k.$id!=null&&"$ref"in k&&typeof k.$ref=="string"&&(!("$db"in k)||"$db"in k&&typeof k.$db=="string")}class Qt extends De{get _bsontype(){return"DBRef"}constructor(y,J,Q,$e){super();const Ie=y.split(".");Ie.length===2&&(Q=Ie.shift(),y=Ie.shift()),this.collection=y,this.oid=J,this.db=Q,this.fields=$e||{}}get namespace(){return this.collection}set namespace(y){this.collection=y}toJSON(){const y=Object.assign({$ref:this.collection,$id:this.oid},this.fields);return this.db!=null&&(y.$db=this.db),y}toExtendedJSON(y){y=y||{};let J={$ref:this.collection,$id:this.oid};return y.legacy||(this.db&&(J.$db=this.db),J=Object.assign(J,this.fields)),J}static fromExtendedJSON(y){const J=Object.assign({},y);return delete J.$ref,delete J.$id,delete J.$db,new Qt(y.$ref,y.$id,y.$db,J)}inspect(y,J,Q){Q??(Q=_);const $e=[Q(this.namespace,J),Q(this.oid,J),...this.db?[Q(this.db,J)]:[],...Object.keys(this.fields).length>0?[Q(this.fields,J)]:[]];return $e[1]=Q===_?`new ObjectId(${$e[1]})`:$e[1],`new DBRef(${$e.join(", ")})`}}function nn(k){if(k==="")return k;let y=0;const J=k[y]==="-",Q=k[y]==="+";(Q||J)&&(y+=1);let $e=!1;for(;y<k.length&&k[y]==="0";++y)$e=!0;return $e?`${J?"-":""}${k.length===y?"0":k.slice(y)}`:Q?k.slice(1):k}let vn;try{vn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}const _n=4294967296,Jt=18446744073709552e3,nr=Jt/2,Xe={},rr={},Hn=/^(\+?0|(\+|-)?[1-9][0-9]*)$/;class Be extends De{get _bsontype(){return"Long"}get __isLong__(){return!0}constructor(y=0,J,Q){super();const $e=typeof J=="boolean"?J:!!Q,Ie=typeof J=="number"?J:0,ot=typeof y=="string"?Be.fromString(y,$e):typeof y=="bigint"?Be.fromBigInt(y,$e):{low:0|y,high:0|Ie,unsigned:$e};this.low=ot.low,this.high=ot.high,this.unsigned=ot.unsigned}static fromBits(y,J,Q){return new Be(y,J,Q)}static fromInt(y,J){let Q,$e,Ie;return J?(Ie=0<=(y>>>=0)&&y<256)&&($e=rr[y],$e)?$e:(Q=Be.fromBits(y,(0|y)<0?-1:0,!0),Ie&&(rr[y]=Q),Q):(Ie=-128<=(y|=0)&&y<128)&&($e=Xe[y],$e)?$e:(Q=Be.fromBits(y,y<0?-1:0,!1),Ie&&(Xe[y]=Q),Q)}static fromNumber(y,J){if(isNaN(y))return J?Be.UZERO:Be.ZERO;if(J){if(y<0)return Be.UZERO;if(y>=Jt)return Be.MAX_UNSIGNED_VALUE}else{if(y<=-9223372036854776e3)return Be.MIN_VALUE;if(y+1>=nr)return Be.MAX_VALUE}return y<0?Be.fromNumber(-y,J).neg():Be.fromBits(y%_n|0,y/_n|0,J)}static fromBigInt(y,J){const Q=BigInt(4294967295),$e=BigInt(32);return new Be(Number(y&Q),Number(y>>$e&Q),J)}static _fromString(y,J,Q){if(y.length===0)throw new ue("empty string");if(Q<2||36<Q)throw new ue("radix");let $e;if(($e=y.indexOf("-"))>0)throw new ue("interior hyphen");if($e===0)return Be._fromString(y.substring(1),J,Q).neg();const Ie=Be.fromNumber(Math.pow(Q,8));let ot=Be.ZERO;for(let it=0;it<y.length;it+=8){const Me=Math.min(8,y.length-it),jt=parseInt(y.substring(it,it+Me),Q);if(Me<8){const gt=Be.fromNumber(Math.pow(Q,Me));ot=ot.mul(gt).add(Be.fromNumber(jt))}else ot=ot.mul(Ie),ot=ot.add(Be.fromNumber(jt))}return ot.unsigned=J,ot}static fromStringStrict(y,J,Q){let $e=!1;if(typeof J=="number"?(Q=J,J=!1):$e=!!J,Q??(Q=10),y.trim()!==y)throw new ue(`Input: '${y}' contains leading and/or trailing whitespace`);if(!function(it,Me){const jt="0123456789abcdefghijklmnopqrstuvwxyz".slice(0,Me=Me??10);return!new RegExp(`[^-+${jt}]`,"i").test(it)&&it}(y,Q))throw new ue(`Input: '${y}' contains invalid characters for radix: ${Q}`);const Ie=nn(y),ot=Be._fromString(Ie,$e,Q);if(ot.toString(Q).toLowerCase()!==Ie.toLowerCase())throw new ue(`Input: ${y} is not representable as ${ot.unsigned?"an unsigned":"a signed"} 64-bit Long ${Q!=null?`with radix: ${Q}`:""}`);return ot}static fromString(y,J,Q){let $e=!1;return typeof J=="number"?(Q=J,J=!1):$e=!!J,Q??(Q=10),y==="NaN"&&Q<24||(y==="Infinity"||y==="+Infinity"||y==="-Infinity")&&Q<35?Be.ZERO:Be._fromString(y,$e,Q)}static fromBytes(y,J,Q){return Q?Be.fromBytesLE(y,J):Be.fromBytesBE(y,J)}static fromBytesLE(y,J){return new Be(y[0]|y[1]<<8|y[2]<<16|y[3]<<24,y[4]|y[5]<<8|y[6]<<16|y[7]<<24,J)}static fromBytesBE(y,J){return new Be(y[4]<<24|y[5]<<16|y[6]<<8|y[7],y[0]<<24|y[1]<<16|y[2]<<8|y[3],J)}static isLong(y){return y!=null&&typeof y=="object"&&"__isLong__"in y&&y.__isLong__===!0}static fromValue(y,J){return typeof y=="number"?Be.fromNumber(y,J):typeof y=="string"?Be.fromString(y,J):Be.fromBits(y.low,y.high,typeof J=="boolean"?J:y.unsigned)}add(y){Be.isLong(y)||(y=Be.fromValue(y));const J=this.high>>>16,Q=65535&this.high,$e=this.low>>>16,Ie=65535&this.low,ot=y.high>>>16,it=65535&y.high,Me=y.low>>>16;let jt=0,gt=0,et=0,lt=0;return lt+=Ie+(65535&y.low),et+=lt>>>16,lt&=65535,et+=$e+Me,gt+=et>>>16,et&=65535,gt+=Q+it,jt+=gt>>>16,gt&=65535,jt+=J+ot,jt&=65535,Be.fromBits(et<<16|lt,jt<<16|gt,this.unsigned)}and(y){return Be.isLong(y)||(y=Be.fromValue(y)),Be.fromBits(this.low&y.low,this.high&y.high,this.unsigned)}compare(y){if(Be.isLong(y)||(y=Be.fromValue(y)),this.eq(y))return 0;const J=this.isNegative(),Q=y.isNegative();return J&&!Q?-1:!J&&Q?1:this.unsigned?y.high>>>0>this.high>>>0||y.high===this.high&&y.low>>>0>this.low>>>0?-1:1:this.sub(y).isNegative()?-1:1}comp(y){return this.compare(y)}divide(y){if(Be.isLong(y)||(y=Be.fromValue(y)),y.isZero())throw new ue("division by zero");if(vn){if(!this.unsigned&&this.high===-2147483648&&y.low===-1&&y.high===-1)return this;const Ie=(this.unsigned?vn.div_u:vn.div_s)(this.low,this.high,y.low,y.high);return Be.fromBits(Ie,vn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Be.UZERO:Be.ZERO;let J,Q,$e;if(this.unsigned){if(y.unsigned||(y=y.toUnsigned()),y.gt(this))return Be.UZERO;if(y.gt(this.shru(1)))return Be.UONE;$e=Be.UZERO}else{if(this.eq(Be.MIN_VALUE))return y.eq(Be.ONE)||y.eq(Be.NEG_ONE)?Be.MIN_VALUE:y.eq(Be.MIN_VALUE)?Be.ONE:(J=this.shr(1).div(y).shl(1),J.eq(Be.ZERO)?y.isNegative()?Be.ONE:Be.NEG_ONE:(Q=this.sub(y.mul(J)),$e=J.add(Q.div(y)),$e));if(y.eq(Be.MIN_VALUE))return this.unsigned?Be.UZERO:Be.ZERO;if(this.isNegative())return y.isNegative()?this.neg().div(y.neg()):this.neg().div(y).neg();if(y.isNegative())return this.div(y.neg()).neg();$e=Be.ZERO}for(Q=this;Q.gte(y);){J=Math.max(1,Math.floor(Q.toNumber()/y.toNumber()));const Ie=Math.ceil(Math.log(J)/Math.LN2),ot=Ie<=48?1:Math.pow(2,Ie-48);let it=Be.fromNumber(J),Me=it.mul(y);for(;Me.isNegative()||Me.gt(Q);)J-=ot,it=Be.fromNumber(J,this.unsigned),Me=it.mul(y);it.isZero()&&(it=Be.ONE),$e=$e.add(it),Q=Q.sub(Me)}return $e}div(y){return this.divide(y)}equals(y){return Be.isLong(y)||(y=Be.fromValue(y)),(this.unsigned===y.unsigned||this.high>>>31!=1||y.high>>>31!=1)&&this.high===y.high&&this.low===y.low}eq(y){return this.equals(y)}getHighBits(){return this.high}getHighBitsUnsigned(){return this.high>>>0}getLowBits(){return this.low}getLowBitsUnsigned(){return this.low>>>0}getNumBitsAbs(){if(this.isNegative())return this.eq(Be.MIN_VALUE)?64:this.neg().getNumBitsAbs();const y=this.high!==0?this.high:this.low;let J;for(J=31;J>0&&!(y&1<<J);J--);return this.high!==0?J+33:J+1}greaterThan(y){return this.comp(y)>0}gt(y){return this.greaterThan(y)}greaterThanOrEqual(y){return this.comp(y)>=0}gte(y){return this.greaterThanOrEqual(y)}ge(y){return this.greaterThanOrEqual(y)}isEven(){return!(1&this.low)}isNegative(){return!this.unsigned&&this.high<0}isOdd(){return!(1&~this.low)}isPositive(){return this.unsigned||this.high>=0}isZero(){return this.high===0&&this.low===0}lessThan(y){return this.comp(y)<0}lt(y){return this.lessThan(y)}lessThanOrEqual(y){return this.comp(y)<=0}lte(y){return this.lessThanOrEqual(y)}modulo(y){if(Be.isLong(y)||(y=Be.fromValue(y)),vn){const J=(this.unsigned?vn.rem_u:vn.rem_s)(this.low,this.high,y.low,y.high);return Be.fromBits(J,vn.get_high(),this.unsigned)}return this.sub(this.div(y).mul(y))}mod(y){return this.modulo(y)}rem(y){return this.modulo(y)}multiply(y){if(this.isZero())return Be.ZERO;if(Be.isLong(y)||(y=Be.fromValue(y)),vn){const Rt=vn.mul(this.low,this.high,y.low,y.high);return Be.fromBits(Rt,vn.get_high(),this.unsigned)}if(y.isZero())return Be.ZERO;if(this.eq(Be.MIN_VALUE))return y.isOdd()?Be.MIN_VALUE:Be.ZERO;if(y.eq(Be.MIN_VALUE))return this.isOdd()?Be.MIN_VALUE:Be.ZERO;if(this.isNegative())return y.isNegative()?this.neg().mul(y.neg()):this.neg().mul(y).neg();if(y.isNegative())return this.mul(y.neg()).neg();if(this.lt(Be.TWO_PWR_24)&&y.lt(Be.TWO_PWR_24))return Be.fromNumber(this.toNumber()*y.toNumber(),this.unsigned);const J=this.high>>>16,Q=65535&this.high,$e=this.low>>>16,Ie=65535&this.low,ot=y.high>>>16,it=65535&y.high,Me=y.low>>>16,jt=65535&y.low;let gt=0,et=0,lt=0,$t=0;return $t+=Ie*jt,lt+=$t>>>16,$t&=65535,lt+=$e*jt,et+=lt>>>16,lt&=65535,lt+=Ie*Me,et+=lt>>>16,lt&=65535,et+=Q*jt,gt+=et>>>16,et&=65535,et+=$e*Me,gt+=et>>>16,et&=65535,et+=Ie*it,gt+=et>>>16,et&=65535,gt+=J*jt+Q*Me+$e*it+Ie*ot,gt&=65535,Be.fromBits(lt<<16|$t,gt<<16|et,this.unsigned)}mul(y){return this.multiply(y)}negate(){return!this.unsigned&&this.eq(Be.MIN_VALUE)?Be.MIN_VALUE:this.not().add(Be.ONE)}neg(){return this.negate()}not(){return Be.fromBits(~this.low,~this.high,this.unsigned)}notEquals(y){return!this.equals(y)}neq(y){return this.notEquals(y)}ne(y){return this.notEquals(y)}or(y){return Be.isLong(y)||(y=Be.fromValue(y)),Be.fromBits(this.low|y.low,this.high|y.high,this.unsigned)}shiftLeft(y){return Be.isLong(y)&&(y=y.toInt()),(y&=63)==0?this:y<32?Be.fromBits(this.low<<y,this.high<<y|this.low>>>32-y,this.unsigned):Be.fromBits(0,this.low<<y-32,this.unsigned)}shl(y){return this.shiftLeft(y)}shiftRight(y){return Be.isLong(y)&&(y=y.toInt()),(y&=63)==0?this:y<32?Be.fromBits(this.low>>>y|this.high<<32-y,this.high>>y,this.unsigned):Be.fromBits(this.high>>y-32,this.high>=0?0:-1,this.unsigned)}shr(y){return this.shiftRight(y)}shiftRightUnsigned(y){if(Be.isLong(y)&&(y=y.toInt()),(y&=63)==0)return this;{const J=this.high;if(y<32){const Q=this.low;return Be.fromBits(Q>>>y|J<<32-y,J>>>y,this.unsigned)}return y===32?Be.fromBits(J,0,this.unsigned):Be.fromBits(J>>>y-32,0,this.unsigned)}}shr_u(y){return this.shiftRightUnsigned(y)}shru(y){return this.shiftRightUnsigned(y)}subtract(y){return Be.isLong(y)||(y=Be.fromValue(y)),this.add(y.neg())}sub(y){return this.subtract(y)}toInt(){return this.unsigned?this.low>>>0:this.low}toNumber(){return this.unsigned?(this.high>>>0)*_n+(this.low>>>0):this.high*_n+(this.low>>>0)}toBigInt(){return BigInt(this.toString())}toBytes(y){return y?this.toBytesLE():this.toBytesBE()}toBytesLE(){const y=this.high,J=this.low;return[255&J,J>>>8&255,J>>>16&255,J>>>24,255&y,y>>>8&255,y>>>16&255,y>>>24]}toBytesBE(){const y=this.high,J=this.low;return[y>>>24,y>>>16&255,y>>>8&255,255&y,J>>>24,J>>>16&255,J>>>8&255,255&J]}toSigned(){return this.unsigned?Be.fromBits(this.low,this.high,!1):this}toString(y){if((y=y||10)<2||36<y)throw new ue("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(Be.MIN_VALUE)){const Ie=Be.fromNumber(y),ot=this.div(Ie),it=ot.mul(Ie).sub(this);return ot.toString(y)+it.toInt().toString(y)}return"-"+this.neg().toString(y)}const J=Be.fromNumber(Math.pow(y,6),this.unsigned);let Q=this,$e="";for(;;){const Ie=Q.div(J);let ot=(Q.sub(Ie.mul(J)).toInt()>>>0).toString(y);if(Q=Ie,Q.isZero())return ot+$e;for(;ot.length<6;)ot="0"+ot;$e=""+ot+$e}}toUnsigned(){return this.unsigned?this:Be.fromBits(this.low,this.high,!0)}xor(y){return Be.isLong(y)||(y=Be.fromValue(y)),Be.fromBits(this.low^y.low,this.high^y.high,this.unsigned)}eqz(){return this.isZero()}le(y){return this.lessThanOrEqual(y)}toExtendedJSON(y){return y&&y.relaxed?this.toNumber():{$numberLong:this.toString()}}static fromExtendedJSON(y,J){const{useBigInt64:Q=!1,relaxed:$e=!0}={...J};if(y.$numberLong.length>20)throw new ue("$numberLong string is too long");if(!Hn.test(y.$numberLong))throw new ue(`$numberLong string "${y.$numberLong}" is in an invalid format`);if(Q){const ot=BigInt(y.$numberLong);return BigInt.asIntN(64,ot)}const Ie=Be.fromString(y.$numberLong);return $e?Ie.toNumber():Ie}inspect(y,J,Q){return Q??(Q=_),`new Long(${Q(this.toString(),J)}${this.unsigned?`, ${Q(this.unsigned,J)}`:""})`}}Be.TWO_PWR_24=Be.fromInt(16777216),Be.MAX_UNSIGNED_VALUE=Be.fromBits(-1,-1,!0),Be.ZERO=Be.fromInt(0),Be.UZERO=Be.fromInt(0,!0),Be.ONE=Be.fromInt(1),Be.UONE=Be.fromInt(1,!0),Be.NEG_ONE=Be.fromInt(-1),Be.MAX_VALUE=Be.fromBits(-1,2147483647,!1),Be.MIN_VALUE=Be.fromBits(0,-2147483648,!1);const fr=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,Si=/^(\+|-)?(Infinity|inf)$/i,Tn=/^(\+|-)?NaN$/i,Jn=6111,br=-6176,hi=de.fromNumberArray([124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),Xr=de.fromNumberArray([248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),Bi=de.fromNumberArray([120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse()),Y=/^([-+])?(\d+)?$/;function he(k){return!isNaN(parseInt(k,10))}function Se(k){const y=Be.fromNumber(1e9);let J=Be.fromNumber(0);if(!(k.parts[0]||k.parts[1]||k.parts[2]||k.parts[3]))return{quotient:k,rem:J};for(let Q=0;Q<=3;Q++)J=J.shiftLeft(32),J=J.add(new Be(k.parts[Q],0)),k.parts[Q]=J.div(y).low,J=J.modulo(y);return{quotient:k,rem:J}}function xe(k,y){throw new ue(`"${k}" is not a valid Decimal128 string - ${y}`)}class Pe extends De{get _bsontype(){return"Decimal128"}constructor(y){if(super(),typeof y=="string")this.bytes=Pe.fromString(y).bytes;else{if(!(y instanceof Uint8Array||m(y)))throw new ue("Decimal128 must take a Buffer or string");if(y.byteLength!==16)throw new ue("Decimal128 must take a Buffer of 16 bytes");this.bytes=y}}static fromString(y){return Pe._fromString(y,{allowRounding:!1})}static fromStringWithRounding(y){return Pe._fromString(y,{allowRounding:!0})}static _fromString(y,J){let Q=!1,$e=!1,Ie=!1,ot=!1,it=0,Me=0,jt=0,gt=0,et=0;const lt=[0];let $t=0,Rt=0,bn=0,Mn=0,Kn=new Be(0,0),ur=new Be(0,0),Nn=0,St=0;if(y.length>=7e3)throw new ue(y+" not a valid Decimal128 string");const Ft=y.match(fr),Oi=y.match(Si),mn=y.match(Tn);if(!Ft&&!Oi&&!mn||y.length===0)throw new ue(y+" not a valid Decimal128 string");if(Ft){const Mt=Ft[2],ar=Ft[4],yr=Ft[5],mr=Ft[6];ar&&mr===void 0&&xe(y,"missing exponent power"),ar&&Mt===void 0&&xe(y,"missing exponent base"),ar===void 0&&(yr||mr)&&xe(y,"missing e before exponent")}if(y[St]!=="+"&&y[St]!=="-"||($e=!0,Q=y[St++]==="-"),!he(y[St])&&y[St]!=="."){if(y[St]==="i"||y[St]==="I")return new Pe(Q?Xr:Bi);if(y[St]==="N")return new Pe(hi)}for(;he(y[St])||y[St]===".";)y[St]!=="."?($t<34&&(y[St]!=="0"||ot)&&(ot||(et=Me),ot=!0,lt[Rt++]=parseInt(y[St],10),$t+=1),ot&&(jt+=1),Ie&&(gt+=1),Me+=1,St+=1):(Ie&&xe(y,"contains multiple periods"),Ie=!0,St+=1);if(Ie&&!Me)throw new ue(y+" not a valid Decimal128 string");if(y[St]==="e"||y[St]==="E"){const Mt=y.substr(++St).match(Y);if(!Mt||!Mt[2])return new Pe(hi);Mn=parseInt(Mt[0],10),St+=Mt[0].length}if(y[St])return new Pe(hi);if($t){if(bn=$t-1,it=jt,it!==1)for(;y[et+it-1+Number($e)+Number(Ie)]==="0";)it-=1}else lt[0]=0,jt=1,$t=1,it=0;for(Mn<=gt&&gt>Mn+16384?Mn=br:Mn-=gt;Mn>Jn;){if(bn+=1,bn>=34){if(it===0){Mn=Jn;break}xe(y,"overflow")}Mn-=1}if(J.allowRounding){for(;Mn<br||$t<jt;){if(bn===0&&it<$t){Mn=br,it=0;break}if($t<jt?jt-=1:bn-=1,Mn<Jn)Mn+=1;else{if(lt.join("").match(/^0+$/)){Mn=Jn;break}xe(y,"overflow")}}if(bn+1<it){let Mt=Me;Ie&&(et+=1,Mt+=1),$e&&(et+=1,Mt+=1);const ar=parseInt(y[et+bn+1],10);let yr=0;if(ar>=5&&(yr=1,ar===5)){yr=lt[bn]%2==1?1:0;for(let mr=et+bn+2;mr<Mt;mr++)if(parseInt(y[mr],10)){yr=1;break}}if(yr){let mr=bn;for(;mr>=0&&++lt[mr]>9;mr--)if(lt[mr]=0,mr===0){if(!(Mn<Jn))return new Pe(Q?Xr:Bi);Mn+=1,lt[mr]=1}}}}else{for(;Mn<br||$t<jt;){if(bn===0){if(it===0){Mn=br;break}xe(y,"exponent underflow")}$t<jt?(y[jt-1+Number($e)+Number(Ie)]!=="0"&&it!==0&&xe(y,"inexact rounding"),jt-=1):(lt[bn]!==0&&xe(y,"inexact rounding"),bn-=1),Mn<Jn?Mn+=1:xe(y,"overflow")}bn+1<it&&(Ie&&(et+=1),$e&&(et+=1),parseInt(y[et+bn+1],10)!==0&&xe(y,"inexact rounding"))}if(Kn=Be.fromNumber(0),ur=Be.fromNumber(0),it===0)Kn=Be.fromNumber(0),ur=Be.fromNumber(0);else if(bn<17){let Mt=0;for(ur=Be.fromNumber(lt[Mt++]),Kn=new Be(0,0);Mt<=bn;Mt++)ur=ur.multiply(Be.fromNumber(10)),ur=ur.add(Be.fromNumber(lt[Mt]))}else{let Mt=0;for(Kn=Be.fromNumber(lt[Mt++]);Mt<=bn-17;Mt++)Kn=Kn.multiply(Be.fromNumber(10)),Kn=Kn.add(Be.fromNumber(lt[Mt]));for(ur=Be.fromNumber(lt[Mt++]);Mt<=bn;Mt++)ur=ur.multiply(Be.fromNumber(10)),ur=ur.add(Be.fromNumber(lt[Mt]))}const Tr=function(Mt,ar){if(!Mt&&!ar)return{high:Be.fromNumber(0),low:Be.fromNumber(0)};const yr=Mt.shiftRightUnsigned(32),mr=new Be(Mt.getLowBits(),0),Qs=ar.shiftRightUnsigned(32),Ys=new Be(ar.getLowBits(),0);let Ki=yr.multiply(Qs),Br=yr.multiply(Ys);const Ta=mr.multiply(Qs);let Co=mr.multiply(Ys);return Ki=Ki.add(Br.shiftRightUnsigned(32)),Br=new Be(Br.getLowBits(),0).add(Ta).add(Co.shiftRightUnsigned(32)),Ki=Ki.add(Br.shiftRightUnsigned(32)),Co=Br.shiftLeft(32).add(new Be(Co.getLowBits(),0)),{high:Ki,low:Co}}(Kn,Be.fromString("100000000000000000"));Tr.low=Tr.low.add(ur),function(Mt,ar){const yr=Mt.high>>>0,mr=ar.high>>>0;return yr<mr||yr===mr&&Mt.low>>>0<ar.low>>>0}(Tr.low,ur)&&(Tr.high=Tr.high.add(Be.fromNumber(1))),Nn=Mn+6176;const wt={low:Be.fromNumber(0),high:Be.fromNumber(0)};Tr.high.shiftRightUnsigned(49).and(Be.fromNumber(1)).equals(Be.fromNumber(1))?(wt.high=wt.high.or(Be.fromNumber(3).shiftLeft(61)),wt.high=wt.high.or(Be.fromNumber(Nn).and(Be.fromNumber(16383).shiftLeft(47))),wt.high=wt.high.or(Tr.high.and(Be.fromNumber(0x7fffffffffff)))):(wt.high=wt.high.or(Be.fromNumber(16383&Nn).shiftLeft(49)),wt.high=wt.high.or(Tr.high.and(Be.fromNumber(562949953421311)))),wt.low=Tr.low,Q&&(wt.high=wt.high.or(Be.fromString("9223372036854775808")));const Dt=de.allocateUnsafe(16);return St=0,Dt[St++]=255&wt.low.low,Dt[St++]=wt.low.low>>8&255,Dt[St++]=wt.low.low>>16&255,Dt[St++]=wt.low.low>>24&255,Dt[St++]=255&wt.low.high,Dt[St++]=wt.low.high>>8&255,Dt[St++]=wt.low.high>>16&255,Dt[St++]=wt.low.high>>24&255,Dt[St++]=255&wt.high.low,Dt[St++]=wt.high.low>>8&255,Dt[St++]=wt.high.low>>16&255,Dt[St++]=wt.high.low>>24&255,Dt[St++]=255&wt.high.high,Dt[St++]=wt.high.high>>8&255,Dt[St++]=wt.high.high>>16&255,Dt[St++]=wt.high.high>>24&255,new Pe(Dt)}toString(){let y,J=0;const Q=new Array(36);for(let Nn=0;Nn<Q.length;Nn++)Q[Nn]=0;let $e,Ie,ot,it=0,Me=!1,jt={parts:[0,0,0,0]};const gt=[];it=0;const et=this.bytes,lt=et[it++]|et[it++]<<8|et[it++]<<16|et[it++]<<24,$t=et[it++]|et[it++]<<8|et[it++]<<16|et[it++]<<24,Rt=et[it++]|et[it++]<<8|et[it++]<<16|et[it++]<<24,bn=et[it++]|et[it++]<<8|et[it++]<<16|et[it++]<<24;it=0,(new Be(lt,$t),new Be(Rt,bn)).lessThan(Be.ZERO)&&gt.push("-");const Mn=bn>>26&31;if(Mn>>3==3){if(Mn===30)return gt.join("")+"Infinity";if(Mn===31)return"NaN";y=bn>>15&16383,$e=8+(bn>>14&1)}else $e=bn>>14&7,y=bn>>17&16383;const Kn=y-6176;if(jt.parts[0]=(16383&bn)+((15&$e)<<14),jt.parts[1]=Rt,jt.parts[2]=$t,jt.parts[3]=lt,jt.parts[0]===0&&jt.parts[1]===0&&jt.parts[2]===0&&jt.parts[3]===0)Me=!0;else for(ot=3;ot>=0;ot--){let Nn=0;const St=Se(jt);if(jt=St.quotient,Nn=St.rem.low,Nn)for(Ie=8;Ie>=0;Ie--)Q[9*ot+Ie]=Nn%10,Nn=Math.floor(Nn/10)}if(Me)J=1,Q[it]=0;else for(J=36;!Q[it];)J-=1,it+=1;const ur=J-1+Kn;if(ur>=34||ur<=-7||Kn>0){if(J>34)return gt.push("0"),Kn>0?gt.push(`E+${Kn}`):Kn<0&&gt.push(`E${Kn}`),gt.join("");gt.push(`${Q[it++]}`),J-=1,J&&gt.push(".");for(let Nn=0;Nn<J;Nn++)gt.push(`${Q[it++]}`);gt.push("E"),ur>0?gt.push(`+${ur}`):gt.push(`${ur}`)}else if(Kn>=0)for(let Nn=0;Nn<J;Nn++)gt.push(`${Q[it++]}`);else{let Nn=J+Kn;if(Nn>0)for(let St=0;St<Nn;St++)gt.push(`${Q[it++]}`);else gt.push("0");for(gt.push(".");Nn++<0;)gt.push("0");for(let St=0;St<J-Math.max(Nn-1,0);St++)gt.push(`${Q[it++]}`)}return gt.join("")}toJSON(){return{$numberDecimal:this.toString()}}toExtendedJSON(){return{$numberDecimal:this.toString()}}static fromExtendedJSON(y){return Pe.fromString(y.$numberDecimal)}inspect(y,J,Q){return Q??(Q=_),`new Decimal128(${Q(this.toString(),J)})`}}class Ne extends De{get _bsontype(){return"Double"}constructor(y){super(),y instanceof Number&&(y=y.valueOf()),this.value=+y}static fromString(y){const J=Number(y);if(y==="NaN")return new Ne(NaN);if(y==="Infinity")return new Ne(1/0);if(y==="-Infinity")return new Ne(-1/0);if(!Number.isFinite(J))throw new ue(`Input: ${y} is not representable as a Double`);if(y.trim()!==y)throw new ue(`Input: '${y}' contains whitespace`);if(y==="")throw new ue("Input is an empty string");if(/[^-0-9.+eE]/.test(y))throw new ue(`Input: '${y}' is not in decimal or exponential notation`);return new Ne(J)}valueOf(){return this.value}toJSON(){return this.value}toString(y){return this.value.toString(y)}toExtendedJSON(y){return y&&(y.legacy||y.relaxed&&isFinite(this.value))?this.value:Object.is(Math.sign(this.value),-0)?{$numberDouble:"-0.0"}:{$numberDouble:Number.isInteger(this.value)?this.value.toFixed(1):this.value.toString()}}static fromExtendedJSON(y,J){const Q=parseFloat(y.$numberDouble);return J&&J.relaxed?Q:new Ne(Q)}inspect(y,J,Q){return Q??(Q=_),`new Double(${Q(this.value,J)})`}}class Fe extends De{get _bsontype(){return"Int32"}constructor(y){super(),y instanceof Number&&(y=y.valueOf()),this.value=0|+y}static fromString(y){const J=nn(y),Q=Number(y);if(S<Q)throw new ue(`Input: '${y}' is larger than the maximum value for Int32`);if(x>Q)throw new ue(`Input: '${y}' is smaller than the minimum value for Int32`);if(!Number.isSafeInteger(Q))throw new ue(`Input: '${y}' is not a safe integer`);if(Q.toString()!==J)throw new ue(`Input: '${y}' is not a valid Int32 string`);return new Fe(Q)}valueOf(){return this.value}toString(y){return this.value.toString(y)}toJSON(){return this.value}toExtendedJSON(y){return y&&(y.relaxed||y.legacy)?this.value:{$numberInt:this.value.toString()}}static fromExtendedJSON(y,J){return J&&J.relaxed?parseInt(y.$numberInt,10):new Fe(y.$numberInt)}inspect(y,J,Q){return Q??(Q=_),`new Int32(${Q(this.value,J)})`}}class Le extends De{get _bsontype(){return"MaxKey"}toExtendedJSON(){return{$maxKey:1}}static fromExtendedJSON(){return new Le}inspect(){return"new MaxKey()"}}class st extends De{get _bsontype(){return"MinKey"}toExtendedJSON(){return{$minKey:1}}static fromExtendedJSON(){return new st}inspect(){return"new MinKey()"}}let Ye=null;const nt=new WeakMap;class Ge extends De{get _bsontype(){return"ObjectId"}constructor(y){let J;if(super(),typeof y=="object"&&y&&"id"in y){if(typeof y.id!="string"&&!ArrayBuffer.isView(y.id))throw new ue("Argument passed in must have an id that is of type string or Buffer");J="toHexString"in y&&typeof y.toHexString=="function"?de.fromHex(y.toHexString()):y.id}else J=y;if(J==null||typeof J=="number")this.buffer=Ge.generate(typeof J=="number"?J:void 0);else if(ArrayBuffer.isView(J)&&J.byteLength===12)this.buffer=de.toLocalBufferType(J);else{if(typeof J!="string")throw new ue("Argument passed in does not match the accepted types");if(!Ge.validateHexString(J))throw new ue("input must be a 24 character hex string, 12 byte Uint8Array, or an integer");this.buffer=de.fromHex(J),Ge.cacheHexString&&nt.set(this,J)}}get id(){return this.buffer}set id(y){this.buffer=y,Ge.cacheHexString&&nt.set(this,de.toHex(y))}static validateHexString(y){if((y==null?void 0:y.length)!==24)return!1;for(let J=0;J<24;J++){const Q=y.charCodeAt(J);if(!(Q>=48&&Q<=57||Q>=97&&Q<=102||Q>=65&&Q<=70))return!1}return!0}toHexString(){if(Ge.cacheHexString){const J=nt.get(this);if(J)return J}const y=de.toHex(this.id);return Ge.cacheHexString&&nt.set(this,y),y}static getInc(){return Ge.index=(Ge.index+1)%16777215}static generate(y){typeof y!="number"&&(y=Math.floor(Date.now()/1e3));const J=Ge.getInc(),Q=de.allocateUnsafe(12);return Je.setInt32BE(Q,0,y),Ye===null&&(Ye=de.randomBytes(5)),Q[4]=Ye[0],Q[5]=Ye[1],Q[6]=Ye[2],Q[7]=Ye[3],Q[8]=Ye[4],Q[11]=255&J,Q[10]=J>>8&255,Q[9]=J>>16&255,Q}toString(y){return y==="base64"?de.toBase64(this.id):this.toHexString()}toJSON(){return this.toHexString()}static is(y){return y!=null&&typeof y=="object"&&"_bsontype"in y&&y._bsontype==="ObjectId"}equals(y){if(y==null)return!1;if(Ge.is(y))return this.buffer[11]===y.buffer[11]&&de.equals(this.buffer,y.buffer);if(typeof y=="string")return y.toLowerCase()===this.toHexString();if(typeof y=="object"&&typeof y.toHexString=="function"){const J=y.toHexString(),Q=this.toHexString();return typeof J=="string"&&J.toLowerCase()===Q}return!1}getTimestamp(){const y=new Date,J=Je.getUint32BE(this.buffer,0);return y.setTime(1e3*Math.floor(J)),y}static createPk(){return new Ge}serializeInto(y,J){return y[J]=this.buffer[0],y[J+1]=this.buffer[1],y[J+2]=this.buffer[2],y[J+3]=this.buffer[3],y[J+4]=this.buffer[4],y[J+5]=this.buffer[5],y[J+6]=this.buffer[6],y[J+7]=this.buffer[7],y[J+8]=this.buffer[8],y[J+9]=this.buffer[9],y[J+10]=this.buffer[10],y[J+11]=this.buffer[11],12}static createFromTime(y){const J=de.allocate(12);for(let Q=11;Q>=4;Q--)J[Q]=0;return Je.setInt32BE(J,0,y),new Ge(J)}static createFromHexString(y){if((y==null?void 0:y.length)!==24)throw new ue("hex string must be 24 characters");return new Ge(de.fromHex(y))}static createFromBase64(y){if((y==null?void 0:y.length)!==16)throw new ue("base64 string must be 16 characters");return new Ge(de.fromBase64(y))}static isValid(y){if(y==null)return!1;if(typeof y=="string")return Ge.validateHexString(y);try{return new Ge(y),!0}catch{return!1}}toExtendedJSON(){return this.toHexString?{$oid:this.toHexString()}:{$oid:this.toString("hex")}}static fromExtendedJSON(y){return new Ge(y.$oid)}isCached(){return Ge.cacheHexString&&nt.has(this)}inspect(y,J,Q){return Q??(Q=_),`new ObjectId(${Q(this.toHexString(),J)})`}}function ct(k,y,J){let Q=5;if(Array.isArray(k))for(let $e=0;$e<k.length;$e++)Q+=pt($e.toString(),k[$e],y,!0,J);else{typeof(k==null?void 0:k.toBSON)=="function"&&(k=k.toBSON());for(const $e of Object.keys(k))Q+=pt($e,k[$e],y,!1,J)}return Q}function pt(k,y,J=!1,Q=!1,$e=!1){switch(typeof(y==null?void 0:y.toBSON)=="function"&&(y=y.toBSON()),typeof y){case"string":return 1+de.utf8ByteLength(k)+1+4+de.utf8ByteLength(y)+1;case"number":return Math.floor(y)===y&&y>=w&&y<=C&&y>=x&&y<=S?(k!=null?de.utf8ByteLength(k)+1:0)+5:(k!=null?de.utf8ByteLength(k)+1:0)+9;case"undefined":return Q||!$e?(k!=null?de.utf8ByteLength(k)+1:0)+1:0;case"boolean":return(k!=null?de.utf8ByteLength(k)+1:0)+2;case"object":if(y!=null&&typeof y._bsontype=="string"&&y[g]!==$)throw new _e;if(y==null||y._bsontype==="MinKey"||y._bsontype==="MaxKey")return(k!=null?de.utf8ByteLength(k)+1:0)+1;if(y._bsontype==="ObjectId")return(k!=null?de.utf8ByteLength(k)+1:0)+13;if(y instanceof Date||d(y))return(k!=null?de.utf8ByteLength(k)+1:0)+9;if(ArrayBuffer.isView(y)||y instanceof ArrayBuffer||j(y))return(k!=null?de.utf8ByteLength(k)+1:0)+6+y.byteLength;if(y._bsontype==="Long"||y._bsontype==="Double"||y._bsontype==="Timestamp")return(k!=null?de.utf8ByteLength(k)+1:0)+9;if(y._bsontype==="Decimal128")return(k!=null?de.utf8ByteLength(k)+1:0)+17;if(y._bsontype==="Code")return y.scope!=null&&Object.keys(y.scope).length>0?(k!=null?de.utf8ByteLength(k)+1:0)+1+4+4+de.utf8ByteLength(y.code.toString())+1+ct(y.scope,J,$e):(k!=null?de.utf8ByteLength(k)+1:0)+1+4+de.utf8ByteLength(y.code.toString())+1;if(y._bsontype==="Binary"){const Ie=y;return Ie.sub_type===Ue.SUBTYPE_BYTE_ARRAY?(k!=null?de.utf8ByteLength(k)+1:0)+(Ie.position+1+4+1+4):(k!=null?de.utf8ByteLength(k)+1:0)+(Ie.position+1+4+1)}if(y._bsontype==="Symbol")return(k!=null?de.utf8ByteLength(k)+1:0)+de.utf8ByteLength(y.value)+4+1+1;if(y._bsontype==="DBRef"){const Ie=Object.assign({$ref:y.collection,$id:y.oid},y.fields);return y.db!=null&&(Ie.$db=y.db),(k!=null?de.utf8ByteLength(k)+1:0)+1+ct(Ie,J,$e)}return y instanceof RegExp||b(y)?(k!=null?de.utf8ByteLength(k)+1:0)+1+de.utf8ByteLength(y.source)+1+(y.global?1:0)+(y.ignoreCase?1:0)+(y.multiline?1:0)+1:y._bsontype==="BSONRegExp"?(k!=null?de.utf8ByteLength(k)+1:0)+1+de.utf8ByteLength(y.pattern)+1+de.utf8ByteLength(y.options)+1:(k!=null?de.utf8ByteLength(k)+1:0)+ct(y,J,$e)+1;case"function":return J?(k!=null?de.utf8ByteLength(k)+1:0)+1+4+de.utf8ByteLength(y.toString())+1:0;case"bigint":return(k!=null?de.utf8ByteLength(k)+1:0)+9;case"symbol":return 0;default:throw new ue("Unrecognized JS type: "+typeof y)}}Ge.index=Math.floor(16777215*Math.random());class vt extends De{get _bsontype(){return"BSONRegExp"}constructor(y,J){if(super(),this.pattern=y,this.options=(J??"").split("").sort().join(""),this.pattern.indexOf("\0")!==-1)throw new ue(`BSON Regex patterns cannot contain null bytes, found: ${JSON.stringify(this.pattern)}`);if(this.options.indexOf("\0")!==-1)throw new ue(`BSON Regex options cannot contain null bytes, found: ${JSON.stringify(this.options)}`);for(let Q=0;Q<this.options.length;Q++)if(this.options[Q]!=="i"&&this.options[Q]!=="m"&&this.options[Q]!=="x"&&this.options[Q]!=="l"&&this.options[Q]!=="s"&&this.options[Q]!=="u")throw new ue(`The regular expression option [${this.options[Q]}] is not supported`)}static parseOptions(y){return y?y.split("").sort().join(""):""}toExtendedJSON(y){return(y=y||{}).legacy?{$regex:this.pattern,$options:this.options}:{$regularExpression:{pattern:this.pattern,options:this.options}}}static fromExtendedJSON(y){if("$regex"in y){if(typeof y.$regex=="string")return new vt(y.$regex,vt.parseOptions(y.$options));if(y.$regex._bsontype==="BSONRegExp")return y}if("$regularExpression"in y)return new vt(y.$regularExpression.pattern,vt.parseOptions(y.$regularExpression.options));throw new ue(`Unexpected BSONRegExp EJSON object form: ${JSON.stringify(y)}`)}inspect(y,J,Q){const $e=function(Ie){if(Ie!=null&&typeof Ie=="object"&&"stylize"in Ie&&typeof Ie.stylize=="function")return Ie.stylize}(J)??(Ie=>Ie);return Q??(Q=_),`new BSONRegExp(${$e(Q(this.pattern),"regexp")}, ${$e(Q(this.options),"regexp")})`}}class mt extends De{get _bsontype(){return"BSONSymbol"}constructor(y){super(),this.value=y}valueOf(){return this.value}toString(){return this.value}toJSON(){return this.value}toExtendedJSON(){return{$symbol:this.value}}static fromExtendedJSON(y){return new mt(y.$symbol)}inspect(y,J,Q){return Q??(Q=_),`new BSONSymbol(${Q(this.value,J)})`}}const Ot=Be;class At extends Ot{get _bsontype(){return"Timestamp"}get i(){return this.low>>>0}get t(){return this.high>>>0}constructor(y){if(y==null)super(0,0,!0);else if(typeof y=="bigint")super(y,!0);else if(Be.isLong(y))super(y.low,y.high,!0);else{if(typeof y!="object"||!("t"in y)||!("i"in y))throw new ue("A Timestamp can only be constructed with: bigint, Long, or { t: number; i: number }");{if(typeof y.t!="number"&&(typeof y.t!="object"||y.t._bsontype!=="Int32"))throw new ue("Timestamp constructed from { t, i } must provide t as a number");if(typeof y.i!="number"&&(typeof y.i!="object"||y.i._bsontype!=="Int32"))throw new ue("Timestamp constructed from { t, i } must provide i as a number");const J=Number(y.t),Q=Number(y.i);if(J<0||Number.isNaN(J))throw new ue("Timestamp constructed from { t, i } must provide a positive t");if(Q<0||Number.isNaN(Q))throw new ue("Timestamp constructed from { t, i } must provide a positive i");if(J>4294967295)throw new ue("Timestamp constructed from { t, i } must provide t equal or less than uint32 max");if(Q>4294967295)throw new ue("Timestamp constructed from { t, i } must provide i equal or less than uint32 max");super(Q,J,!0)}}}toJSON(){return{$timestamp:this.toString()}}static fromInt(y){return new At(Be.fromInt(y,!0))}static fromNumber(y){return new At(Be.fromNumber(y,!0))}static fromBits(y,J){return new At({i:y,t:J})}static fromString(y,J){return new At(Be.fromString(y,!0,J))}toExtendedJSON(){return{$timestamp:{t:this.t,i:this.i}}}static fromExtendedJSON(y){const J=Be.isLong(y.$timestamp.i)?y.$timestamp.i.getLowBitsUnsigned():y.$timestamp.i,Q=Be.isLong(y.$timestamp.t)?y.$timestamp.t.getLowBitsUnsigned():y.$timestamp.t;return new At({t:Q,i:J})}inspect(y,J,Q){return Q??(Q=_),`new Timestamp({ t: ${Q(this.t,J)}, i: ${Q(this.i,J)} })`}}At.MAX_VALUE=Be.MAX_UNSIGNED_VALUE;const zt=Be.fromNumber(C),sn=Be.fromNumber(w);function Bt(k,y,J){const Q=(y=y??{})&&y.index?y.index:0,$e=Je.getInt32LE(k,Q);if($e<5)throw new ue(`bson size must be >= 5, is ${$e}`);if(y.allowObjectSmallerThanBufferSize&&k.length<$e)throw new ue(`buffer length ${k.length} must be >= bson size ${$e}`);if(!y.allowObjectSmallerThanBufferSize&&k.length!==$e)throw new ue(`buffer length ${k.length} must === bson size ${$e}`);if($e+Q>k.byteLength)throw new ue(`(bson size ${$e} + options.index ${Q} must be <= buffer length ${k.byteLength})`);if(k[Q+$e-1]!==0)throw new ue("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return pn(k,Q,y,J)}const Pn=/^\$ref$|^\$id$|^\$db$/;function pn(k,y,J,Q=!1){const $e=J.fieldsAsRaw==null?null:J.fieldsAsRaw,Ie=J.raw!=null&&J.raw,ot=typeof J.bsonRegExp=="boolean"&&J.bsonRegExp,it=J.promoteBuffers??!1,Me=J.promoteLongs??!0,jt=J.promoteValues??!0,gt=J.useBigInt64??!1;if(gt&&!jt)throw new ue("Must either request bigint or Long for int64 deserialization");if(gt&&!Me)throw new ue("Must either request bigint or Long for int64 deserialization");let et,lt,$t=!0;const Rt=(J.validation==null?{utf8:!0}:J.validation).utf8;if(typeof Rt=="boolean")et=Rt;else{$t=!1;const St=Object.keys(Rt).map(function(Ft){return Rt[Ft]});if(St.length===0)throw new ue("UTF-8 validation setting cannot be empty");if(typeof St[0]!="boolean")throw new ue("Invalid UTF-8 validation option, must specify boolean values");if(et=St[0],!St.every(Ft=>Ft===et))throw new ue("Invalid UTF-8 validation option - keys must be all true or all false")}if(!$t){lt=new Set;for(const St of Object.keys(Rt))lt.add(St)}const bn=y;if(k.length<5)throw new ue("corrupt bson message < 5 bytes long");const Mn=Je.getInt32LE(k,y);if(y+=4,Mn<5||Mn>k.length)throw new ue("corrupt bson message");const Kn=Q?[]:{};let ur=0,Nn=!Q&&null;for(;;){const St=k[y++];if(St===0)break;let Ft=y;for(;k[Ft]!==0&&Ft<k.length;)Ft++;if(Ft>=k.byteLength)throw new ue("Bad BSON Document: illegal CString");const Oi=Q?ur++:de.toUTF8(k,y,Ft,!1);let mn,Tr=!0;if(Tr=$t||lt!=null&&lt.has(Oi)?et:!et,Nn!==!1&&Oi[0]==="$"&&(Nn=Pn.test(Oi)),y=Ft+1,St===E){const wt=Je.getInt32LE(k,y);if(y+=4,wt<=0||wt>k.length-y||k[y+wt-1]!==0)throw new ue("bad string length in bson");mn=de.toUTF8(k,y,y+wt-1,Tr),y+=wt}else if(St===ee){const wt=de.allocateUnsafe(12);for(let Dt=0;Dt<12;Dt++)wt[Dt]=k[y+Dt];mn=new Ge(wt),y+=12}else if(St===W&&jt===!1)mn=new Fe(Je.getInt32LE(k,y)),y+=4;else if(St===W)mn=Je.getInt32LE(k,y),y+=4;else if(St===v)mn=Je.getFloat64LE(k,y),y+=8,jt===!1&&(mn=new Ne(mn));else if(St===te){const wt=Je.getInt32LE(k,y),Dt=Je.getInt32LE(k,y+4);y+=8,mn=new Date(new Be(wt,Dt).toNumber())}else if(St===Z){if(k[y]!==0&&k[y]!==1)throw new ue("illegal boolean type value");mn=k[y++]===1}else if(St===N){const wt=y,Dt=Je.getInt32LE(k,y);if(Dt<=0||Dt>k.length-y)throw new ue("bad embedded document length in bson");if(Ie)mn=k.subarray(y,y+Dt);else{let Mt=J;$t||(Mt={...J,validation:{utf8:Tr}}),mn=pn(k,wt,Mt,!1)}y+=Dt}else if(St===P){const wt=y,Dt=Je.getInt32LE(k,y);let Mt=J;const ar=y+Dt;if($e&&$e[Oi]&&(Mt={...J,raw:!0}),$t||(Mt={...Mt,validation:{utf8:Tr}}),mn=pn(k,wt,Mt,!0),k[(y+=Dt)-1]!==0)throw new ue("invalid array terminator byte");if(y!==ar)throw new ue("corrupted array bson")}else if(St===B)mn=void 0;else if(St===re)mn=null;else if(St===M)if(gt)mn=Je.getBigInt64LE(k,y),y+=8;else{const wt=Je.getInt32LE(k,y),Dt=Je.getInt32LE(k,y+4);y+=8;const Mt=new Be(wt,Dt);mn=Me&&jt===!0&&Mt.lessThanOrEqual(zt)&&Mt.greaterThanOrEqual(sn)?Mt.toNumber():Mt}else if(St===q){const wt=de.allocateUnsafe(16);for(let Dt=0;Dt<16;Dt++)wt[Dt]=k[y+Dt];y+=16,mn=new Pe(wt)}else if(St===I){let wt=Je.getInt32LE(k,y);y+=4;const Dt=wt,Mt=k[y++];if(wt<0)throw new ue("Negative binary type element size found");if(wt>k.byteLength)throw new ue("Binary type size larger than document size");if(Mt===Ue.SUBTYPE_BYTE_ARRAY){if(wt=Je.getInt32LE(k,y),y+=4,wt<0)throw new ue("Negative binary type element size found for subtype 0x02");if(wt>Dt-4)throw new ue("Binary type with subtype 0x02 contains too long binary size");if(wt<Dt-4)throw new ue("Binary type with subtype 0x02 contains too short binary size")}it&&jt?mn=de.toLocalBufferType(k.subarray(y,y+wt)):(mn=new Ue(k.subarray(y,y+wt),Mt),Mt===we&&It.isValid(mn)&&(mn=mn.toUUID())),y+=wt}else if(St===ce&&ot===!1){for(Ft=y;k[Ft]!==0&&Ft<k.length;)Ft++;if(Ft>=k.length)throw new ue("Bad BSON Document: illegal CString");const wt=de.toUTF8(k,y,Ft,!1);for(Ft=y=Ft+1;k[Ft]!==0&&Ft<k.length;)Ft++;if(Ft>=k.length)throw new ue("Bad BSON Document: illegal CString");const Dt=de.toUTF8(k,y,Ft,!1);y=Ft+1;const Mt=new Array(Dt.length);for(Ft=0;Ft<Dt.length;Ft++)switch(Dt[Ft]){case"m":Mt[Ft]="m";break;case"s":Mt[Ft]="g";break;case"i":Mt[Ft]="i"}mn=new RegExp(wt,Mt.join(""))}else if(St===ce&&ot===!0){for(Ft=y;k[Ft]!==0&&Ft<k.length;)Ft++;if(Ft>=k.length)throw new ue("Bad BSON Document: illegal CString");const wt=de.toUTF8(k,y,Ft,!1);for(Ft=y=Ft+1;k[Ft]!==0&&Ft<k.length;)Ft++;if(Ft>=k.length)throw new ue("Bad BSON Document: illegal CString");const Dt=de.toUTF8(k,y,Ft,!1);y=Ft+1,mn=new vt(wt,Dt)}else if(St===V){const wt=Je.getInt32LE(k,y);if(y+=4,wt<=0||wt>k.length-y||k[y+wt-1]!==0)throw new ue("bad string length in bson");const Dt=de.toUTF8(k,y,y+wt-1,Tr);mn=jt?Dt:new mt(Dt),y+=wt}else if(St===z)mn=new At({i:Je.getUint32LE(k,y),t:Je.getUint32LE(k,y+4)}),y+=8;else if(St===ne)mn=new st;else if(St===fe)mn=new Le;else if(St===F){const wt=Je.getInt32LE(k,y);if(y+=4,wt<=0||wt>k.length-y||k[y+wt-1]!==0)throw new ue("bad string length in bson");const Dt=de.toUTF8(k,y,y+wt-1,Tr);mn=new _t(Dt),y+=wt}else if(St===H){const wt=Je.getInt32LE(k,y);if(y+=4,wt<13)throw new ue("code_w_scope total size shorter minimum expected length");const Dt=Je.getInt32LE(k,y);if(y+=4,Dt<=0||Dt>k.length-y||k[y+Dt-1]!==0)throw new ue("bad string length in bson");const Mt=de.toUTF8(k,y,y+Dt-1,Tr),ar=y+=Dt,yr=Je.getInt32LE(k,y),mr=pn(k,ar,J,!1);if(y+=yr,wt<8+yr+Dt)throw new ue("code_w_scope total size is too short, truncating scope");if(wt>8+yr+Dt)throw new ue("code_w_scope total size is too long, clips outer document");mn=new _t(Mt,mr)}else{if(St!==ge)throw new ue(`Detected unknown BSON type ${St.toString(16)} for fieldname "${Oi}"`);{const wt=Je.getInt32LE(k,y);if(y+=4,wt<=0||wt>k.length-y||k[y+wt-1]!==0)throw new ue("bad string length in bson");const Dt=de.toUTF8(k,y,y+wt-1,Tr);y+=wt;const Mt=de.allocateUnsafe(12);for(let yr=0;yr<12;yr++)Mt[yr]=k[y+yr];const ar=new Ge(Mt);y+=12,mn=new Qt(Dt,ar)}}Oi==="__proto__"?Object.defineProperty(Kn,Oi,{value:mn,writable:!0,enumerable:!0,configurable:!0}):Kn[Oi]=mn}if(Mn!==y-bn)throw Q?new ue("corrupt array bson"):new ue("corrupt object bson");if(!Nn)return Kn;if(gn(Kn)){const St=Object.assign({},Kn);return delete St.$ref,delete St.$id,delete St.$db,new Qt(Kn.$ref,Kn.$id,Kn.$db,St)}return Kn}const Kt=/\x00/,Zt=new Set(["$db","$ref","$id","$clusterTime"]);function Gn(k,y,J,Q){k[Q++]=E,k[(Q=Q+de.encodeUTF8Into(k,y,Q)+1)-1]=0;const $e=de.encodeUTF8Into(k,J,Q+4);return Je.setInt32LE(k,Q,$e+1),Q=Q+4+$e,k[Q++]=0,Q}function In(k,y,J,Q){const $e=!Object.is(J,-0)&&Number.isSafeInteger(J)&&J<=S&&J>=x?W:v;return k[Q++]=$e,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0,Q+($e===W?Je.setInt32LE(k,Q,J):Je.setFloat64LE(k,Q,J))}function Ut(k,y,J,Q){return k[Q++]=M,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0,Q+Je.setBigInt64LE(k,Q,J)}function Yt(k,y,J,Q){return k[Q++]=re,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0,Q}function ft(k,y,J,Q){return k[Q++]=Z,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0,k[Q++]=J?1:0,Q}function Wt(k,y,J,Q){k[Q++]=te,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0;const $e=Be.fromNumber(J.getTime()),Ie=$e.getLowBits(),ot=$e.getHighBits();return(Q+=Je.setInt32LE(k,Q,Ie))+Je.setInt32LE(k,Q,ot)}function un(k,y,J,Q){if(k[Q++]=ce,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0,J.source&&J.source.match(Kt)!=null)throw new ue("value "+J.source+" must not contain null bytes");return Q+=de.encodeUTF8Into(k,J.source,Q),k[Q++]=0,J.ignoreCase&&(k[Q++]=105),J.global&&(k[Q++]=115),J.multiline&&(k[Q++]=109),k[Q++]=0,Q}function dn(k,y,J,Q){if(k[Q++]=ce,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0,J.pattern.match(Kt)!=null)throw new ue("pattern "+J.pattern+" must not contain null bytes");Q+=de.encodeUTF8Into(k,J.pattern,Q),k[Q++]=0;const $e=J.options.split("").sort().join("");return Q+=de.encodeUTF8Into(k,$e,Q),k[Q++]=0,Q}function yn(k,y,J,Q){return J===null?k[Q++]=re:J._bsontype==="MinKey"?k[Q++]=ne:k[Q++]=fe,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0,Q}function ir(k,y,J,Q){return k[Q++]=ee,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0,Q+J.serializeInto(k,Q)}function rn(k,y,J,Q){k[Q++]=I,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0;const $e=J.length;if(Q+=Je.setInt32LE(k,Q,$e),k[Q++]=ve,$e<=16)for(let Ie=0;Ie<$e;Ie++)k[Q+Ie]=J[Ie];else k.set(J,Q);return Q+$e}function Dr(k,y,J,Q,$e,Ie,ot,it,Me){if(Me.has(J))throw new ue("Cannot convert circular structure to BSON");Me.add(J),k[Q++]=Array.isArray(J)?P:N,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0;const jt=_r(k,J,$e,Q,Ie+1,ot,it,Me);return Me.delete(J),jt}function Or(k,y,J,Q){k[Q++]=q,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0;for(let $e=0;$e<16;$e++)k[Q+$e]=J.bytes[$e];return Q+16}function zr(k,y,J,Q){k[Q++]=J._bsontype==="Long"?M:z,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0;const $e=J.getLowBits(),Ie=J.getHighBits();return(Q+=Je.setInt32LE(k,Q,$e))+Je.setInt32LE(k,Q,Ie)}function tn(k,y,J,Q){return J=J.valueOf(),k[Q++]=W,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0,Q+Je.setInt32LE(k,Q,J)}function jn(k,y,J,Q){return k[Q++]=v,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0,Q+Je.setFloat64LE(k,Q,J.value)}function Wn(k,y,J,Q){k[Q++]=F,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0;const $e=J.toString(),Ie=de.encodeUTF8Into(k,$e,Q+4)+1;return Je.setInt32LE(k,Q,Ie),Q=Q+4+Ie-1,k[Q++]=0,Q}function xn(k,y,J,Q,$e=!1,Ie=0,ot=!1,it=!0,Me){if(J.scope&&typeof J.scope=="object"){k[Q++]=H,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0;let jt=Q;const gt=J.code;Q+=4;const et=de.encodeUTF8Into(k,gt,Q+4)+1;Je.setInt32LE(k,Q,et),k[Q+4+et-1]=0,Q=Q+et+4;const lt=_r(k,J.scope,$e,Q,Ie+1,ot,it,Me);Q=lt-1;const $t=lt-jt;jt+=Je.setInt32LE(k,jt,$t),k[Q++]=0}else{k[Q++]=F,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0;const jt=J.code.toString(),gt=de.encodeUTF8Into(k,jt,Q+4)+1;Je.setInt32LE(k,Q,gt),Q=Q+4+gt-1,k[Q++]=0}return Q}function pr(k,y,J,Q){k[Q++]=I,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0;const $e=J.buffer;let Ie=J.position;if(J.sub_type===Ue.SUBTYPE_BYTE_ARRAY&&(Ie+=4),Q+=Je.setInt32LE(k,Q,Ie),k[Q++]=J.sub_type,J.sub_type===Ue.SUBTYPE_BYTE_ARRAY&&(Ie-=4,Q+=Je.setInt32LE(k,Q,Ie)),J.sub_type===Ue.SUBTYPE_VECTOR&&tt(J),Ie<=16)for(let ot=0;ot<Ie;ot++)k[Q+ot]=$e[ot];else k.set($e,Q);return Q+J.position}function Dn(k,y,J,Q){k[Q++]=V,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0;const $e=de.encodeUTF8Into(k,J.value,Q+4)+1;return Je.setInt32LE(k,Q,$e),Q=Q+4+$e-1,k[Q++]=0,Q}function Zn(k,y,J,Q,$e,Ie,ot){k[Q++]=N,Q+=de.encodeUTF8Into(k,y,Q),k[Q++]=0;let it=Q,Me={$ref:J.collection||J.namespace,$id:J.oid};J.db!=null&&(Me.$db=J.db),Me=Object.assign(Me,J.fields);const jt=_r(k,Me,!1,Q,$e+1,Ie,!0,ot),gt=jt-it;return it+=Je.setInt32LE(k,Q,gt),jt}function _r(k,y,J,Q,$e,Ie,ot,it){if(it==null){if(y==null)return k[0]=5,k[1]=0,k[2]=0,k[3]=0,k[4]=0,5;if(Array.isArray(y))throw new ue("serialize does not support an array as the root input");if(typeof y!="object")throw new ue("serialize does not support non-object as the root input");if("_bsontype"in y&&typeof y._bsontype=="string")throw new ue("BSON types cannot be serialized as a document");if(d(y)||b(y)||m(y)||j(y))throw new ue("date, regexp, typedarray, and arraybuffer cannot be BSON documents");it=new Set}it.add(y);let Me=Q+4;if(Array.isArray(y))for(let gt=0;gt<y.length;gt++){const et=`${gt}`;let lt=y[gt];typeof(lt==null?void 0:lt.toBSON)=="function"&&(lt=lt.toBSON());const $t=typeof lt;if(lt===void 0)Me=Yt(k,et,0,Me);else if(lt===null)Me=Yt(k,et,0,Me);else if($t==="string")Me=Gn(k,et,lt,Me);else if($t==="number")Me=In(k,et,lt,Me);else if($t==="bigint")Me=Ut(k,et,lt,Me);else if($t==="boolean")Me=ft(k,et,lt,Me);else if($t==="object"&&lt._bsontype==null)Me=lt instanceof Date||d(lt)?Wt(k,et,lt,Me):lt instanceof Uint8Array||m(lt)?rn(k,et,lt,Me):lt instanceof RegExp||b(lt)?un(k,et,lt,Me):Dr(k,et,lt,Me,J,$e,Ie,ot,it);else if($t==="object"){if(lt[g]!==$)throw new _e;if(lt._bsontype==="ObjectId")Me=ir(k,et,lt,Me);else if(lt._bsontype==="Decimal128")Me=Or(k,et,lt,Me);else if(lt._bsontype==="Long"||lt._bsontype==="Timestamp")Me=zr(k,et,lt,Me);else if(lt._bsontype==="Double")Me=jn(k,et,lt,Me);else if(lt._bsontype==="Code")Me=xn(k,et,lt,Me,J,$e,Ie,ot,it);else if(lt._bsontype==="Binary")Me=pr(k,et,lt,Me);else if(lt._bsontype==="BSONSymbol")Me=Dn(k,et,lt,Me);else if(lt._bsontype==="DBRef")Me=Zn(k,et,lt,Me,$e,Ie,it);else if(lt._bsontype==="BSONRegExp")Me=dn(k,et,lt,Me);else if(lt._bsontype==="Int32")Me=tn(k,et,lt,Me);else if(lt._bsontype==="MinKey"||lt._bsontype==="MaxKey")Me=yn(k,et,lt,Me);else if(lt._bsontype!==void 0)throw new ue(`Unrecognized or invalid _bsontype: ${String(lt._bsontype)}`)}else $t==="function"&&Ie&&(Me=Wn(k,et,lt,Me))}else if(y instanceof Map||R(y)){const gt=y.entries();let et=!1;for(;!et;){const lt=gt.next();if(et=!!lt.done,et)continue;const $t=lt.value?lt.value[0]:void 0;let Rt=lt.value?lt.value[1]:void 0;typeof(Rt==null?void 0:Rt.toBSON)=="function"&&(Rt=Rt.toBSON());const bn=typeof Rt;if(typeof $t=="string"&&!Zt.has($t)){if($t.match(Kt)!=null)throw new ue("key "+$t+" must not contain null bytes");if(J){if($t[0]==="$")throw new ue("key "+$t+" must not start with '$'");if($t.includes("."))throw new ue("key "+$t+" must not contain '.'")}}if(Rt===void 0)ot===!1&&(Me=Yt(k,$t,0,Me));else if(Rt===null)Me=Yt(k,$t,0,Me);else if(bn==="string")Me=Gn(k,$t,Rt,Me);else if(bn==="number")Me=In(k,$t,Rt,Me);else if(bn==="bigint")Me=Ut(k,$t,Rt,Me);else if(bn==="boolean")Me=ft(k,$t,Rt,Me);else if(bn==="object"&&Rt._bsontype==null)Me=Rt instanceof Date||d(Rt)?Wt(k,$t,Rt,Me):Rt instanceof Uint8Array||m(Rt)?rn(k,$t,Rt,Me):Rt instanceof RegExp||b(Rt)?un(k,$t,Rt,Me):Dr(k,$t,Rt,Me,J,$e,Ie,ot,it);else if(bn==="object"){if(Rt[g]!==$)throw new _e;if(Rt._bsontype==="ObjectId")Me=ir(k,$t,Rt,Me);else if(Rt._bsontype==="Decimal128")Me=Or(k,$t,Rt,Me);else if(Rt._bsontype==="Long"||Rt._bsontype==="Timestamp")Me=zr(k,$t,Rt,Me);else if(Rt._bsontype==="Double")Me=jn(k,$t,Rt,Me);else if(Rt._bsontype==="Code")Me=xn(k,$t,Rt,Me,J,$e,Ie,ot,it);else if(Rt._bsontype==="Binary")Me=pr(k,$t,Rt,Me);else if(Rt._bsontype==="BSONSymbol")Me=Dn(k,$t,Rt,Me);else if(Rt._bsontype==="DBRef")Me=Zn(k,$t,Rt,Me,$e,Ie,it);else if(Rt._bsontype==="BSONRegExp")Me=dn(k,$t,Rt,Me);else if(Rt._bsontype==="Int32")Me=tn(k,$t,Rt,Me);else if(Rt._bsontype==="MinKey"||Rt._bsontype==="MaxKey")Me=yn(k,$t,Rt,Me);else if(Rt._bsontype!==void 0)throw new ue(`Unrecognized or invalid _bsontype: ${String(Rt._bsontype)}`)}else bn==="function"&&Ie&&(Me=Wn(k,$t,Rt,Me))}}else{if(typeof(y==null?void 0:y.toBSON)=="function"&&(y=y.toBSON())!=null&&typeof y!="object")throw new ue("toBSON function did not return an object");for(const gt of Object.keys(y)){let et=y[gt];typeof(et==null?void 0:et.toBSON)=="function"&&(et=et.toBSON());const lt=typeof et;if(typeof gt=="string"&&!Zt.has(gt)){if(gt.match(Kt)!=null)throw new ue("key "+gt+" must not contain null bytes");if(J){if(gt[0]==="$")throw new ue("key "+gt+" must not start with '$'");if(gt.includes("."))throw new ue("key "+gt+" must not contain '.'")}}if(et===void 0)ot===!1&&(Me=Yt(k,gt,0,Me));else if(et===null)Me=Yt(k,gt,0,Me);else if(lt==="string")Me=Gn(k,gt,et,Me);else if(lt==="number")Me=In(k,gt,et,Me);else if(lt==="bigint")Me=Ut(k,gt,et,Me);else if(lt==="boolean")Me=ft(k,gt,et,Me);else if(lt==="object"&&et._bsontype==null)Me=et instanceof Date||d(et)?Wt(k,gt,et,Me):et instanceof Uint8Array||m(et)?rn(k,gt,et,Me):et instanceof RegExp||b(et)?un(k,gt,et,Me):Dr(k,gt,et,Me,J,$e,Ie,ot,it);else if(lt==="object"){if(et[g]!==$)throw new _e;if(et._bsontype==="ObjectId")Me=ir(k,gt,et,Me);else if(et._bsontype==="Decimal128")Me=Or(k,gt,et,Me);else if(et._bsontype==="Long"||et._bsontype==="Timestamp")Me=zr(k,gt,et,Me);else if(et._bsontype==="Double")Me=jn(k,gt,et,Me);else if(et._bsontype==="Code")Me=xn(k,gt,et,Me,J,$e,Ie,ot,it);else if(et._bsontype==="Binary")Me=pr(k,gt,et,Me);else if(et._bsontype==="BSONSymbol")Me=Dn(k,gt,et,Me);else if(et._bsontype==="DBRef")Me=Zn(k,gt,et,Me,$e,Ie,it);else if(et._bsontype==="BSONRegExp")Me=dn(k,gt,et,Me);else if(et._bsontype==="Int32")Me=tn(k,gt,et,Me);else if(et._bsontype==="MinKey"||et._bsontype==="MaxKey")Me=yn(k,gt,et,Me);else if(et._bsontype!==void 0)throw new ue(`Unrecognized or invalid _bsontype: ${String(et._bsontype)}`)}else lt==="function"&&Ie&&(Me=Wn(k,gt,et,Me))}}it.delete(y),k[Me++]=0;const jt=Me-Q;return Q+=Je.setInt32LE(k,Q,jt),Me}const Pt={$oid:Ge,$binary:Ue,$uuid:Ue,$symbol:mt,$numberInt:Fe,$numberDecimal:Pe,$numberDouble:Ne,$numberLong:Be,$minKey:st,$maxKey:Le,$regex:vt,$regularExpression:vt,$timestamp:At};function er(k,y={}){if(typeof k=="number"){const Q=k<=S&&k>=x,$e=k<=A&&k>=T;if(y.relaxed||y.legacy)return k;if(Number.isInteger(k)&&!Object.is(k,-0)){if(Q)return new Fe(k);if($e)return y.useBigInt64?BigInt(k):Be.fromNumber(k)}return new Ne(k)}if(k==null||typeof k!="object")return k;if(k.$undefined)return null;const J=Object.keys(k).filter(Q=>Q.startsWith("$")&&k[Q]!=null);for(let Q=0;Q<J.length;Q++){const $e=Pt[J[Q]];if($e)return $e.fromExtendedJSON(k,y)}if(k.$date!=null){const Q=k.$date,$e=new Date;if(y.legacy)if(typeof Q=="number")$e.setTime(Q);else if(typeof Q=="string")$e.setTime(Date.parse(Q));else{if(typeof Q!="bigint")throw new L("Unrecognized type for EJSON date: "+typeof Q);$e.setTime(Number(Q))}else if(typeof Q=="string")$e.setTime(Date.parse(Q));else if(Be.isLong(Q))$e.setTime(Q.toNumber());else if(typeof Q=="number"&&y.relaxed)$e.setTime(Q);else{if(typeof Q!="bigint")throw new L("Unrecognized type for EJSON date: "+typeof Q);$e.setTime(Number(Q))}return $e}if(k.$code!=null){const Q=Object.assign({},k);return k.$scope&&(Q.$scope=er(k.$scope)),_t.fromExtendedJSON(k)}if(gn(k)||k.$dbPointer){const Q=k.$ref?k:k.$dbPointer;if(Q instanceof Qt)return Q;const $e=Object.keys(Q).filter(ot=>ot.startsWith("$"));let Ie=!0;if($e.forEach(ot=>{["$ref","$id","$db"].indexOf(ot)===-1&&(Ie=!1)}),Ie)return Qt.fromExtendedJSON(Q)}return k}function Sn(k){const y=k.toISOString();return k.getUTCMilliseconds()!==0?y:y.slice(0,-5)+"Z"}function on(k,y){if(k instanceof Map||R(k)){const J=Object.create(null);for(const[Q,$e]of k){if(typeof Q!="string")throw new ue("Can only serialize maps with string keys");J[Q]=$e}return on(J,y)}if((typeof k=="object"||typeof k=="function")&&k!==null){const J=y.seenObjects.findIndex(Q=>Q.obj===k);if(J!==-1){const Q=y.seenObjects.map(gt=>gt.propertyName),$e=Q.slice(0,J).map(gt=>`${gt} -> `).join(""),Ie=Q[J],ot=" -> "+Q.slice(J+1,Q.length-1).map(gt=>`${gt} -> `).join(""),it=Q[Q.length-1],Me=" ".repeat($e.length+Ie.length/2),jt="-".repeat(ot.length+(Ie.length+it.length)/2-1);throw new ue(`Converting circular structure to EJSON:
    ${$e}${Ie}${ot}${it}
    ${Me}\\${jt}/`)}y.seenObjects[y.seenObjects.length-1].obj=k}if(Array.isArray(k))return function(J,Q){return J.map(($e,Ie)=>{Q.seenObjects.push({propertyName:`index ${Ie}`,obj:null});try{return on($e,Q)}finally{Q.seenObjects.pop()}})}(k,y);if(k===void 0)return null;if(k instanceof Date||d(k)){const J=k.getTime(),Q=J>-1&&J<2534023188e5;return y.legacy?y.relaxed&&Q?{$date:k.getTime()}:{$date:Sn(k)}:y.relaxed&&Q?{$date:Sn(k)}:{$date:{$numberLong:k.getTime().toString()}}}if(!(typeof k!="number"||y.relaxed&&isFinite(k))){if(Number.isInteger(k)&&!Object.is(k,-0)){if(k>=x&&k<=S)return{$numberInt:k.toString()};if(k>=T&&k<=A)return{$numberLong:k.toString()}}return{$numberDouble:Object.is(k,-0)?"-0.0":k.toString()}}if(typeof k=="bigint")return y.relaxed?Number(BigInt.asIntN(64,k)):{$numberLong:BigInt.asIntN(64,k).toString()};if(k instanceof RegExp||b(k)){let J=k.flags;if(J===void 0){const Q=k.toString().match(/[gimuy]*$/);Q&&(J=Q[0])}return new vt(k.source,J).toExtendedJSON(y)}return k!=null&&typeof k=="object"?function(J,Q){if(J==null||typeof J!="object")throw new ue("not an object instance");const $e=J._bsontype;if($e===void 0){const Ie={};for(const ot of Object.keys(J)){Q.seenObjects.push({propertyName:ot,obj:null});try{const it=on(J[ot],Q);ot==="__proto__"?Object.defineProperty(Ie,ot,{value:it,writable:!0,enumerable:!0,configurable:!0}):Ie[ot]=it}finally{Q.seenObjects.pop()}}return Ie}if(J!=null&&typeof J=="object"&&typeof J._bsontype=="string"&&J[g]!==$)throw new _e;if(function(Ie){return Ie!=null&&typeof Ie=="object"&&"_bsontype"in Ie&&typeof Ie._bsontype=="string"}(J)){let Ie=J;if(typeof Ie.toExtendedJSON!="function"){const ot=ln[J._bsontype];if(!ot)throw new ue("Unrecognized or invalid _bsontype: "+J._bsontype);Ie=ot(Ie)}return $e==="Code"&&Ie.scope?Ie=new _t(Ie.code,on(Ie.scope,Q)):$e==="DBRef"&&Ie.oid&&(Ie=new Qt(on(Ie.collection,Q),on(Ie.oid,Q),on(Ie.db,Q),on(Ie.fields,Q))),Ie.toExtendedJSON(Q)}throw new ue("_bsontype must be a string, but was: "+typeof $e)}(k,y):k}const ln={Binary:k=>new Ue(k.value(),k.sub_type),Code:k=>new _t(k.code,k.scope),DBRef:k=>new Qt(k.collection||k.namespace,k.oid,k.db,k.fields),Decimal128:k=>new Pe(k.bytes),Double:k=>new Ne(k.value),Int32:k=>new Fe(k.value),Long:k=>Be.fromBits(k.low!=null?k.low:k.low_,k.low!=null?k.high:k.high_,k.low!=null?k.unsigned:k.unsigned_),MaxKey:()=>new Le,MinKey:()=>new st,ObjectId:k=>new Ge(k),BSONRegExp:k=>new vt(k.pattern,k.options),BSONSymbol:k=>new mt(k.value),Timestamp:k=>At.fromBits(k.low,k.high)};function Gt(k,y){const J={useBigInt64:(y==null?void 0:y.useBigInt64)??!1,relaxed:(y==null?void 0:y.relaxed)??!0,legacy:(y==null?void 0:y.legacy)??!1};return JSON.parse(k,(Q,$e)=>{if(Q.indexOf("\0")!==-1)throw new ue(`BSON Document field names cannot contain null bytes, found: ${JSON.stringify(Q)}`);return er($e,J)})}function Xn(k,y,J,Q){J!=null&&typeof J=="object"&&(Q=J,J=0),y==null||typeof y!="object"||Array.isArray(y)||(Q=y,y=void 0,J=0);const $e=on(k,Object.assign({relaxed:!0,legacy:!1},Q,{seenObjects:[{propertyName:"(root)",obj:null}]}));return JSON.stringify($e,y,J)}const Bn=Object.create(null);Bn.parse=Gt,Bn.stringify=Xn,Bn.serialize=function(k,y){return y=y||{},JSON.parse(Xn(k,y))},Bn.deserialize=function(k,y){return y=y||{},Gt(JSON.stringify(k),y)},Object.freeze(Bn);function Jr(k,y){try{return Je.getNonnegativeInt32LE(k,y)}catch(J){throw new X("BSON size cannot be negative",y,{cause:J})}}function Vr(k,y){let J=y;for(;k[J]!==0;J++);if(J===k.length-1)throw new X("Null terminator not found",y);return J}const Ar=Object.create(null);Ar.parseToElements=function(k,y=0){if(y??(y=0),k.length<5)throw new X(`Input must be at least 5 bytes, got ${k.length} bytes`,y);const J=Jr(k,y);if(J>k.length-y)throw new X(`Parsed documentSize (${J} bytes) does not match input length (${k.length} bytes)`,y);if(k[y+J-1]!==0)throw new X("BSON documents must end in 0x00",y+J);const Q=[];let $e=y+4;for(;$e<=J+y;){const Ie=k[$e];if($e+=1,Ie===0){if($e-y!==J)throw new X("Invalid 0x00 type byte",$e);break}const ot=$e,it=Vr(k,$e)-ot;let Me;if($e+=it+1,Ie===1||Ie===18||Ie===9||Ie===17)Me=8;else if(Ie===16)Me=4;else if(Ie===7)Me=12;else if(Ie===19)Me=16;else if(Ie===8)Me=1;else if(Ie===10||Ie===6||Ie===127||Ie===255)Me=0;else if(Ie===11)Me=Vr(k,Vr(k,$e)+1)+1-$e;else if(Ie===3||Ie===4||Ie===15)Me=Jr(k,$e);else{if(Ie!==2&&Ie!==5&&Ie!==12&&Ie!==13&&Ie!==14)throw new X(`Invalid 0x${Ie.toString(16).padStart(2,"0")} type byte`,$e);Me=Jr(k,$e)+4,Ie===5&&(Me+=1),Ie===12&&(Me+=12)}if(Me>J)throw new X("value reports length larger than document",$e);Q.push([Ie,ot,it,$e,Me]),$e+=Me}return Q},Ar.ByteUtils=de,Ar.NumberUtils=Je,Object.freeze(Ar);const or=17825792;let sr=de.allocate(or);function wr(k){sr.length<k&&(sr=de.allocate(k))}function pi(k,y={}){const J=typeof y.checkKeys=="boolean"&&y.checkKeys,Q=typeof y.serializeFunctions=="boolean"&&y.serializeFunctions,$e=typeof y.ignoreUndefined!="boolean"||y.ignoreUndefined,Ie=typeof y.minInternalBufferSize=="number"?y.minInternalBufferSize:or;sr.length<Ie&&(sr=de.allocate(Ie));const ot=_r(sr,k,J,0,0,Q,$e,null),it=de.allocateUnsafe(ot);return it.set(sr.subarray(0,ot),0),it}function Ci(k,y,J={}){const Q=typeof J.checkKeys=="boolean"&&J.checkKeys,$e=typeof J.serializeFunctions=="boolean"&&J.serializeFunctions,Ie=typeof J.ignoreUndefined!="boolean"||J.ignoreUndefined,ot=typeof J.index=="number"?J.index:0,it=_r(sr,k,Q,0,0,$e,Ie,null);return y.set(sr.subarray(0,it),ot),ot+it-1}function Gi(k,y={}){return Bt(de.toLocalBufferType(k),y)}function Ei(k,y={}){return ct(k,typeof(y=y||{}).serializeFunctions=="boolean"&&y.serializeFunctions,typeof y.ignoreUndefined!="boolean"||y.ignoreUndefined)}function Zr(k,y,J,Q,$e,Ie){const ot=Object.assign({allowObjectSmallerThanBufferSize:!0,index:0},Ie),it=de.toLocalBufferType(k);let Me=y;for(let jt=0;jt<J;jt++){const gt=Je.getInt32LE(it,Me);ot.index=Me,Q[$e+jt]=Bt(it,ot),Me+=gt}return Me}var ao=Object.freeze({__proto__:null,BSONError:ue,BSONOffsetError:X,BSONRegExp:vt,BSONRuntimeError:L,BSONSymbol:mt,BSONType:me,BSONValue:De,BSONVersionError:_e,Binary:Ue,Code:_t,DBRef:Qt,Decimal128:Pe,Double:Ne,EJSON:Bn,Int32:Fe,Long:Be,MaxKey:Le,MinKey:st,ObjectId:Ge,Timestamp:At,UUID:It,calculateObjectSize:Ei,deserialize:Gi,deserializeStream:Zr,onDemand:Ar,serialize:pi,serializeWithBufferAndIndex:Ci,setInternalBufferSize:wr})},6365:(u,c,s)=>{var f=s(5832).hp,h=s(6353).Binary,m=s(6353).UUID,j=s(8768);function b(_,$,g){var S,x,A,T,C=_;return _==null&&(C=0),Array.isArray($)?(x=$[0],A=$[1]):S=$,T=typeof C=="number"||C instanceof Number?f.alloc(C):f.from(C,S,g),j.decorate(T,b.mixin),T.isMongooseBuffer=!0,T[b.pathSymbol]=x,T[d]=A,T._subtype=0,T}var R=Symbol.for("mongoose#Buffer#_path"),d=Symbol.for("mongoose#Buffer#_parent");b.pathSymbol=R,b.mixin={_subtype:void 0,_markModified:function(){var _=this[d];return _&&_.markModified(this[b.pathSymbol]),this},write:function(){var _=f.prototype.write.apply(this,arguments);return _>0&&this._markModified(),_},copy:function(_){var $=f.prototype.copy.apply(this,arguments);return _&&_.isMongooseBuffer&&_._markModified(),$}},j.each(["writeUInt8","writeUInt16","writeUInt32","writeInt8","writeInt16","writeInt32","writeFloat","writeDouble","fill","utf8Write","binaryWrite","asciiWrite","set","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE"],function(_){f.prototype[_]&&(b.mixin[_]=function(){var $=f.prototype[_].apply(this,arguments);return this._markModified(),$})}),b.mixin.toObject=function(_){var $=typeof _=="number"?_:this._subtype||0;return new h(f.from(this),$)},b.mixin.$toObject=b.mixin.toObject,b.mixin.toBSON=function(){return new h(this,this._subtype||0)},b.mixin.toUUID=function(){if(this._subtype!==4)throw new Error("Cannot convert a Buffer with subtype "+this._subtype+" to a UUID");return new m(this)},b.mixin.equals=function(_){if(!f.isBuffer(_)||this.length!==_.length)return!1;for(var $=0;$<this.length;++$)if(this[$]!==_[$])return!1;return!0},b.mixin.subtype=function(_){if(typeof _!="number")throw new TypeError("Invalid subtype. Expected a number");this._subtype!==_&&this._markModified(),this._subtype=_},b.Binary=h,u.exports=b},6400:(u,c,s)=>{function f(Oe){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(le){return typeof le}:function(le){return le&&typeof Symbol=="function"&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le},f(Oe)}var h,m=s(8093),j=s(9870),b=s(9206),R=s(9939),d=s(783),_=s(9907),$=s(2268),g=s(8188),S=s(9471),x=s(2401),A=s(1697),T=s(8435),C=s(8633),w=s(2151),v=s(674),E=Function,N=function(Oe){try{return E('"use strict"; return ('+Oe+").constructor;")()}catch{}},P=s(1464),I=s(988),B=function(){throw new $},ee=P?function(){try{return B}catch{try{return P(arguments,"callee").get}catch{return B}}}():B,Z=s(5510)(),te=s(209),re=s(5825),ce=s(2403),ge=s(3279),F=s(3123),V={},H=typeof Uint8Array<"u"&&te?te(Uint8Array):h,W={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?h:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?h:ArrayBuffer,"%ArrayIteratorPrototype%":Z&&te?te([][Symbol.iterator]()):h,"%AsyncFromSyncIteratorPrototype%":h,"%AsyncFunction%":V,"%AsyncGenerator%":V,"%AsyncGeneratorFunction%":V,"%AsyncIteratorPrototype%":V,"%Atomics%":typeof Atomics>"u"?h:Atomics,"%BigInt%":typeof BigInt>"u"?h:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?h:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?h:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?h:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":j,"%eval%":eval,"%EvalError%":b,"%Float16Array%":typeof Float16Array>"u"?h:Float16Array,"%Float32Array%":typeof Float32Array>"u"?h:Float32Array,"%Float64Array%":typeof Float64Array>"u"?h:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?h:FinalizationRegistry,"%Function%":E,"%GeneratorFunction%":V,"%Int8Array%":typeof Int8Array>"u"?h:Int8Array,"%Int16Array%":typeof Int16Array>"u"?h:Int16Array,"%Int32Array%":typeof Int32Array>"u"?h:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Z&&te?te(te([][Symbol.iterator]())):h,"%JSON%":(typeof JSON>"u"?"undefined":f(JSON))==="object"?JSON:h,"%Map%":typeof Map>"u"?h:Map,"%MapIteratorPrototype%":typeof Map<"u"&&Z&&te?te(new Map()[Symbol.iterator]()):h,"%Math%":Math,"%Number%":Number,"%Object%":m,"%Object.getOwnPropertyDescriptor%":P,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?h:Promise,"%Proxy%":typeof Proxy>"u"?h:Proxy,"%RangeError%":R,"%ReferenceError%":d,"%Reflect%":typeof Reflect>"u"?h:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?h:Set,"%SetIteratorPrototype%":typeof Set<"u"&&Z&&te?te(new Set()[Symbol.iterator]()):h,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?h:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Z&&te?te(""[Symbol.iterator]()):h,"%Symbol%":Z?Symbol:h,"%SyntaxError%":_,"%ThrowTypeError%":ee,"%TypedArray%":H,"%TypeError%":$,"%Uint8Array%":typeof Uint8Array>"u"?h:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?h:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?h:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?h:Uint32Array,"%URIError%":g,"%WeakMap%":typeof WeakMap>"u"?h:WeakMap,"%WeakRef%":typeof WeakRef>"u"?h:WeakRef,"%WeakSet%":typeof WeakSet>"u"?h:WeakSet,"%Function.prototype.call%":F,"%Function.prototype.apply%":ge,"%Object.defineProperty%":I,"%Object.getPrototypeOf%":re,"%Math.abs%":S,"%Math.floor%":x,"%Math.max%":A,"%Math.min%":T,"%Math.pow%":C,"%Math.round%":w,"%Math.sign%":v,"%Reflect.getPrototypeOf%":ce};if(te)try{null.error}catch(Oe){var z=te(te(Oe));W["%Error.prototype%"]=z}var M=function Oe(le){var pe;if(le==="%AsyncFunction%")pe=N("async function () {}");else if(le==="%GeneratorFunction%")pe=N("function* () {}");else if(le==="%AsyncGeneratorFunction%")pe=N("async function* () {}");else if(le==="%AsyncGenerator%"){var Ae=Oe("%AsyncGeneratorFunction%");Ae&&(pe=Ae.prototype)}else if(le==="%AsyncIteratorPrototype%"){var K=Oe("%AsyncGenerator%");K&&te&&(pe=te(K.prototype))}return W[le]=pe,pe},q={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ne=s(2354),fe=s(5994),ve=ne.call(F,Array.prototype.concat),we=ne.call(ge,Array.prototype.splice),me=ne.call(F,String.prototype.replace),ue=ne.call(F,String.prototype.slice),_e=ne.call(F,RegExp.prototype.exec),L=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,X=/\\(\\)?/g,oe=function(Oe,le){var pe,Ae=Oe;if(fe(q,Ae)&&(Ae="%"+(pe=q[Ae])[0]+"%"),fe(W,Ae)){var K=W[Ae];if(K===V&&(K=M(Ae)),K===void 0&&!le)throw new $("intrinsic "+Oe+" exists, but is not available. Please file an issue!");return{alias:pe,name:Ae,value:K}}throw new _("intrinsic "+Oe+" does not exist!")};u.exports=function(Oe,le){if(typeof Oe!="string"||Oe.length===0)throw new $("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof le!="boolean")throw new $('"allowMissing" argument must be a boolean');if(_e(/^%?[^%]*%?$/,Oe)===null)throw new _("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var pe=function(tt){var xt=ue(tt,0,1),Tt=ue(tt,-1);if(xt==="%"&&Tt!=="%")throw new _("invalid intrinsic syntax, expected closing `%`");if(Tt==="%"&&xt!=="%")throw new _("invalid intrinsic syntax, expected opening `%`");var It=[];return me(tt,L,function(_t,gn,Qt,nn){It[It.length]=Qt?me(nn,X,"$1"):gn||_t}),It}(Oe),Ae=pe.length>0?pe[0]:"",K=oe("%"+Ae+"%",le),ie=K.name,ye=K.value,je=!1,de=K.alias;de&&(Ae=de[0],we(pe,ve([0,1],de)));for(var De=1,He=!0;De<pe.length;De+=1){var Ve=pe[De],ke=ue(Ve,0,1),Je=ue(Ve,-1);if((ke==='"'||ke==="'"||ke==="`"||Je==='"'||Je==="'"||Je==="`")&&ke!==Je)throw new _("property names with quotes must have matching quotes");if(Ve!=="constructor"&&He||(je=!0),fe(W,ie="%"+(Ae+="."+Ve)+"%"))ye=W[ie];else if(ye!=null){if(!(Ve in ye)){if(!le)throw new $("base intrinsic for "+Oe+" exists, but the property is not available.");return}if(P&&De+1>=pe.length){var Ue=P(ye,Ve);ye=(He=!!Ue)&&"get"in Ue&&!("originalValue"in Ue.get)?Ue.get:ye[Ve]}else He=fe(ye,Ve),ye=ye[Ve];He&&!je&&(W[ie]=ye)}}return ye}},6413:(u,c,s)=>{function f(g){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},f(g)}function h(g,S){var x=Object.keys(g);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(g);S&&(A=A.filter(function(T){return Object.getOwnPropertyDescriptor(g,T).enumerable})),x.push.apply(x,A)}return x}function m(g,S,x){return(S=function(A){var T=function(C){if(f(C)!="object"||!C)return C;var w=C[Symbol.toPrimitive];if(w!==void 0){var v=w.call(C,"string");if(f(v)!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(A);return f(T)=="symbol"?T:T+""}(S))in g?Object.defineProperty(g,S,{value:x,enumerable:!0,configurable:!0,writable:!0}):g[S]=x,g}var j=s(3609),b=s(6426),R=s(8953),d=s(4327);function _(g,S){b.call(this,g,S,"Boolean")}_.schemaName="Boolean",_.defaultOptions={},_.prototype=Object.create(b.prototype),_.prototype.constructor=_,_._cast=R,_.set=b.set,_.setters=[],_.get=b.get,_.cast=function(g){return arguments.length===0||(g===!1&&(g=this._defaultCaster),this._cast=g),this._cast},_._defaultCaster=function(g){if(g!=null&&typeof g!="boolean")throw new Error;return g},_._checkRequired=function(g){return g===!0||g===!1},_.checkRequired=b.checkRequired,_.prototype.checkRequired=function(g){return this.constructor._checkRequired(g)},Object.defineProperty(_,"convertToTrue",{get:function(){return R.convertToTrue},set:function(g){R.convertToTrue=g}}),Object.defineProperty(_,"convertToFalse",{get:function(){return R.convertToFalse},set:function(g){R.convertToFalse=g}}),_.prototype.cast=function(g){var S;S=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():_.cast();try{return S(g)}catch(x){throw new j("Boolean",g,this.path,x,this)}};var $=function(g){for(var S=1;S<arguments.length;S++){var x=arguments[S]!=null?arguments[S]:{};S%2?h(Object(x),!0).forEach(function(A){m(g,A,x[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(x)):h(Object(x)).forEach(function(A){Object.defineProperty(g,A,Object.getOwnPropertyDescriptor(x,A))})}return g}({},b.prototype.$conditionalHandlers);Object.defineProperty(_.prototype,"$conditionalHandlers",{enumerable:!1,value:$}),_.prototype.castForQuery=function(g,S,x){var A;if(g!=null)return(A=this.$conditionalHandlers[g])?A.call(this,S):this.applySetters(S,x);try{return this.applySetters(S,x)}catch(T){throw T instanceof j&&T.path===this.path&&this.$fullPath!=null&&(T.path=this.$fullPath),T}},_.prototype._castNullish=function(g){if(g===void 0)return g;var S=typeof this.constructor.cast=="function"?this.constructor.cast():_.cast();return S==null?g:!(S.convertToFalse instanceof Set&&S.convertToFalse.has(g))&&(!!(S.convertToTrue instanceof Set&&S.convertToTrue.has(g))||g)},_.prototype.toJSONSchema=function(g){var S=this.options.required&&typeof this.options.required!="function";return d("boolean","bool",g==null?void 0:g.useBsonType,S)},_.prototype.autoEncryptionType=function(){return"bool"},u.exports=_},6426:(u,c,s)=>{var f=s(5832).hp;function h(Z){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},h(Z)}var m=s(3672),j=s(8879),b=s(8499),R=s(2555),d=s(4450),_=s(8133),$=s(9183),g=s(6155),S=s(2746),x=s(7930).schemaTypeSymbol,A=s(8768),T=s(7930).validatorErrorSymbol,C=s(7930).documentIsModified,w=s(7930).populateModelSymbol,v=m.CastError,E=m.ValidatorError,N={_skipMarkModified:!0};function P(Z,te,re){this[x]=!0,this.path=Z,this.instance=re,this.validators=[],this.getters=this.constructor.hasOwnProperty("getters")?this.constructor.getters.slice():[],this.setters=this.constructor.hasOwnProperty("setters")?this.constructor.setters.slice():[],this.splitPath(),te=te||{};for(var ce=this.constructor.defaultOptions||{},ge=0,F=Object.keys(ce);ge<F.length;ge++){var V=F[ge];V==="validate"?this.validate(ce.validate):ce.hasOwnProperty(V)&&!Object.prototype.hasOwnProperty.call(te,V)&&(te[V]=ce[V])}te.select==null&&delete te.select;var H=this.OptionsConstructor||j;this.options=new H(te),this._index=null,A.hasUserDefinedProperty(this.options,"immutable")&&(this.$immutable=this.options.immutable,_(this));for(var W=0,z=Object.keys(this.options);W<z.length;W++){var M=z[W];if(M!=="cast"){if(A.hasUserDefinedProperty(this.options,M)&&typeof this[M]=="function"){if(M==="index"&&this._index){if(te.index===!1){var q=this._index;if(h(q)==="object"&&q!=null){if(q.unique)throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true');if(q.sparse)throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}this._index=!1}continue}var ne=te[M];if(M==="default"){this.default(ne);continue}var fe=Array.isArray(ne)?ne:[ne];this[M].apply(this,fe)}}else Array.isArray(this.options[M])?this.castFunction.apply(this,this.options[M]):this.castFunction(this.options[M])}Object.defineProperty(this,"$$context",{enumerable:!1,configurable:!1,writable:!0,value:null})}function I(Z,te){if(Z!==void 0&&!Z){var re=new(te.ErrorConstructor||E)(te);return re[T]=!0,re}}function B(Z,te){return this.castForQuery(null,Z,te)}function ee(Z,te){var re=this;return Array.isArray(Z)?Z.map(function(ce){return Array.isArray(ce)&&ce.length===0?ce:re.castForQuery(null,ce,te)}):[this.castForQuery(null,Z,te)]}P.prototype.OptionsConstructor=j,P.prototype.path,P.prototype.validators,P.prototype.isRequired,P.prototype.splitPath=function(){return this._presplitPath!=null?this._presplitPath:this.path!=null?(this._presplitPath=this.path.indexOf(".")===-1?[this.path]:this.path.split("."),this._presplitPath):void 0},P.cast=function(Z){return arguments.length===0||(Z===!1&&(Z=function(te){return te}),this._cast=Z),this._cast},P.prototype.castFunction=function(Z,te){return arguments.length===0?this._castFunction:(Z===!1&&(Z=this.constructor._defaultCaster||function(re){return re}),typeof Z=="string"?(this._castErrorMessage=Z,this._castFunction):(Z!=null&&(this._castFunction=Z),te!=null&&(this._castErrorMessage=te),this._castFunction))},P.prototype.cast=function(){throw new Error("Base SchemaType class does not implement a `cast()` function")},P.set=function(Z,te){this.hasOwnProperty("defaultOptions")||(this.defaultOptions=Object.assign({},this.defaultOptions)),this.defaultOptions[Z]=te},P.get=function(Z){this.getters=this.hasOwnProperty("getters")?this.getters:[],this.getters.push(Z)},P.prototype.default=function(Z){if(arguments.length===1){if(Z===void 0)return void(this.defaultValue=void 0);if(Z!=null&&Z.instanceOfSchema)throw new m("Cannot set default value of path `"+this.path+"` to a mongoose Schema instance.");return this.defaultValue=Z,this.defaultValue}return arguments.length>1&&(this.defaultValue=Array.prototype.slice.call(arguments)),this.defaultValue},P.prototype.index=function(Z){return this._index=Z,A.expires(this._index),this},P.prototype.unique=function(Z,te){if(this._index===!1){if(!Z)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true')}return this.options.hasOwnProperty("index")||Z!==!1?(this._index==null||this._index===!0?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.unique=!!Z,typeof te=="string"&&(this._duplicateKeyErrorMessage=te),this):this},P.prototype.text=function(Z){if(this._index===!1){if(!Z)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `text` set to true')}return this.options.hasOwnProperty("index")||Z!==!1?(this._index===null||this._index===void 0||typeof this._index=="boolean"?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.text=Z,this):this},P.prototype.sparse=function(Z){if(this._index===!1){if(!Z)return this;throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}return this.options.hasOwnProperty("index")||Z!==!1?(this._index==null||typeof this._index=="boolean"?this._index={}:typeof this._index=="string"&&(this._index={type:this._index}),this._index.sparse=Z,this):this},P.prototype.immutable=function(Z){return this.$immutable=Z,_(this),this},P.prototype.transform=function(Z){return this.options.transform=Z,this},P.prototype.set=function(Z){if(typeof Z!="function")throw new TypeError("A setter must be a function.");return this.setters.push(Z),this},P.prototype.get=function(Z){if(typeof Z!="function")throw new TypeError("A getter must be a function.");return this.getters.push(Z),this},P.prototype.validateAll=function(Z){for(var te=0;te<Z.length;te++)this.validate(Z[te]);return this},P.prototype.validate=function(Z,te,re){var ce,ge,F,V;if(typeof Z=="function"||Z&&A.getFunctionName(Z.constructor)==="RegExp")return typeof te=="function"?(ce={validator:Z,message:te}).type=re||"user defined":te instanceof Object&&!re?((ce=g(te)?Object.assign({},te):d(te)).message||(ce.message=ce.msg),ce.validator=Z,ce.type=ce.type||"user defined"):(te==null&&(te=m.messages.general.default),re||(re="user defined"),ce={message:te,type:re,validator:Z}),this.validators.push(ce),this;for(ge=0,F=arguments.length;ge<F;ge++){if(V=arguments[ge],!A.isPOJO(V)){var H="Invalid validator. Received ("+h(V)+") "+V+". See https://mongoosejs.com/docs/api/schematype.html#SchemaType.prototype.validate()";throw new Error(H)}this.validate(V.validator,V)}return this},P.prototype.required=function(Z,te){var re={};if(arguments.length>0&&Z==null)return this.validators=this.validators.filter(function(F){return F.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;if(h(Z)==="object"&&(te=(re=Z).message||te,Z=Z.isRequired),Z===!1)return this.validators=this.validators.filter(function(F){return F.validator!==this.requiredValidator},this),this.isRequired=!1,delete this.originalRequiredValue,this;var ce=this;this.isRequired=!0,this.requiredValidator=function(F){var V=this&&this.$__&&this.$__.cachedRequired;if(V!=null&&!this.$__isSelected(ce.path)&&!this[C](ce.path))return!0;if(V!=null&&ce.path in V){var H=!V[ce.path]||ce.checkRequired(F,this);return delete V[ce.path],H}return typeof Z=="function"&&!Z.apply(this)||ce.checkRequired(F,this)},this.originalRequiredValue=Z,typeof Z=="string"&&(te=Z,Z=void 0);var ge=te||m.messages.general.required;return this.validators.unshift(Object.assign({},re,{validator:this.requiredValidator,message:ge,type:"required"})),this},P.prototype.ref=function(Z){return this.options.ref=Z,this},P.prototype.getDefault=function(Z,te,re){var ce;if((ce=typeof this.defaultValue=="function"?this.defaultValue===Date.now||this.defaultValue===Array||this.defaultValue.name.toLowerCase()==="objectid"?this.defaultValue.call(Z):this.defaultValue.call(Z,Z):this.defaultValue)!=null){if(h(ce)!=="object"||this.options&&this.options.shared||(ce=d(ce)),re&&re.skipCast)return this._applySetters(ce,Z);var ge=this.applySetters(ce,Z,te,void 0,N);return ge&&!Array.isArray(ge)&&ge.$isSingleNested&&(ge.$__parent=Z),ge}return ce},P.prototype._applySetters=function(Z,te,re,ce,ge){var F=Z;if(re)return F;for(var V=this.setters,H=V.length-1;H>=0;H--)F=V[H].call(te,F,ce,this,ge);return F},P.prototype._castNullish=function(Z){return Z},P.prototype.applySetters=function(Z,te,re,ce,ge){var F=this._applySetters(Z,te,re,ce,ge);return F==null?this._castNullish(F):F=this.cast(F,te,re,ce,ge)},P.prototype.applyGetters=function(Z,te){var re=Z,ce=this.getters,ge=ce.length;if(ge===0)return re;for(var F=0;F<ge;++F)re=ce[F].call(te,re,this);return re},P.prototype.select=function(Z){return this.selected=!!Z,this},P.prototype.doValidate=function(Z,te,re,ce){var ge=this,F=!1,V=this.path;if(typeof te!="function")throw new TypeError("Must pass callback function to doValidate(), got ".concat(h(te)));var H=this.validators.filter(function(fe){return h(fe)==="object"&&fe!==null}),W=H.length;if(!W)return te(null);for(var z=function(){if(F)return 0;var fe,ve=H[M],we=ve.validator,me=g(ve)?Object.assign({},ve):d(ve);if(me.path=ce&&ce.path?ce.path:V,me.fullPath=ge.$fullPath,me.value=Z,we instanceof RegExp)return ne(we.test(Z),me,re),1;if(typeof we!="function")return 1;if(Z===void 0&&we!==ge.requiredValidator)return ne(!0,me,re),1;try{fe=me.propsParameter?we.call(re,Z,me):we.call(re,Z)}catch(ue){fe=!1,me.reason=ue,ue.message&&(me.message=ue.message)}fe!=null&&typeof fe.then=="function"?fe.then(function(ue){ne(ue,me,re)},function(ue){me.reason=ue,me.message=ue.message,ne(fe=!1,me,re)}):ne(fe,me,re)},M=0,q=H.length;M<q&&z()!==0;++M);function ne(fe,ve,we){if(!F)if(fe===void 0||fe)--W<=0&&S(function(){te(null)});else{var me=ve.ErrorConstructor||E;(F=new me(ve,we))[T]=!0,S(function(){te(F)})}}},P.prototype.doValidateSync=function(Z,te,re){var ce=this.path;if(!this.validators.length)return null;var ge=this.validators;if(Z===void 0){if(this.validators.length===0||this.validators[0].type!=="required")return null;ge=[this.validators[0]]}var F=null,V=0,H=ge.length;for(V=0;V<H;++V){var W=ge[V];if(W!==null&&h(W)==="object"){var z=W.validator,M=g(W)?Object.assign({},W):d(W);M.path=re&&re.path?re.path:ce,M.fullPath=this.$fullPath,M.value=Z;var q=!1;if(!$(z)){if(z instanceof RegExp)F=I(z.test(Z),M);else if(typeof z=="function"){try{q=M.propsParameter?z.call(te,Z,M):z.call(te,Z)}catch(ne){q=!1,M.reason=ne}if((q==null||typeof q.then!="function")&&(F=I(q,M)))break}}}}return F},P._isRef=function(Z,te,re,ce){var ge=ce&&Z.options&&(Z.options.ref||Z.options.refPath);if(!ge&&re&&re.$__!=null){var F=re.$__fullPath(Z.path,!0),V=re.ownerDocument();ge=F!=null&&V.$populated(F)||re.$populated(Z.path)}return!!ge&&(te==null||!(f.isBuffer(te)||te._bsontype==="Binary"||!A.isObject(te))||ce)},P.prototype._castRef=function(Z,te,re,ce){if(Z==null)return Z;if(Z.$__!=null)return Z.$__.wasPopulated=Z.$__.wasPopulated||{value:Z._doc._id},Z;if(f.isBuffer(Z)||!A.isObject(Z)){if(re)return Z;throw new v(this.instance,Z,this.path,null,this)}var ge,F,V,H=te.$__fullPath(this.path,!0),W=te.ownerDocument().$populated(H,!0),z=Z;if(!(te.$__.populated&&te.$__.populated[H]&&te.$__.populated[H].options&&te.$__.populated[H].options.options&&te.$__.populated[H].options.options.lean)){var M=W?W.options[w]:te.constructor.db.model(this.options.ref);(z=M.hydrate(Z,null,ce)).$__.wasPopulated={value:z._doc._id,options:(ge={},F=w,V=M,(F=function(q){var ne=function(fe){if(h(fe)!="object"||!fe)return fe;var ve=fe[Symbol.toPrimitive];if(ve!==void 0){var we=ve.call(fe,"string");if(h(we)!="object")return we;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(fe)}(q);return h(ne)=="symbol"?ne:ne+""}(F))in ge?Object.defineProperty(ge,F,{value:V,enumerable:!0,configurable:!0,writable:!0}):ge[F]=V,ge)}}return z},P.prototype.$conditionalHandlers={$all:function(Z,te){var re=this;return Array.isArray(Z)?Z.map(function(ce){return re.castForQuery(null,ce,te)}):[this.castForQuery(null,Z,te)]},$eq:B,$in:ee,$ne:B,$nin:ee,$exists:b,$type:R},P.prototype.castForQuery=function(Z,te,re){var ce;if(Z!=null){if(!(ce=this.$conditionalHandlers[Z]))throw new Error("Can't use "+Z);return ce.call(this,te,re)}try{return this.applySetters(te,re)}catch(ge){throw ge instanceof v&&ge.path===this.path&&this.$fullPath!=null&&(ge.path=this.$fullPath),ge}},P.checkRequired=function(Z){return arguments.length!==0&&(this._checkRequired=Z),this._checkRequired},P.prototype.checkRequired=function(Z){return Z!=null},P.prototype.clone=function(){var Z=Object.assign({},this.options),te=new this.constructor(this.path,Z,this.instance);return te.validators=this.validators.slice(),this.requiredValidator!==void 0&&(te.requiredValidator=this.requiredValidator),this.defaultValue!==void 0&&(te.defaultValue=this.defaultValue),this.$immutable!==void 0&&this.options.immutable===void 0&&(te.$immutable=this.$immutable,_(te)),this._index!==void 0&&(te._index=this._index),this.selected!==void 0&&(te.selected=this.selected),this.isRequired!==void 0&&(te.isRequired=this.isRequired),this.originalRequiredValue!==void 0&&(te.originalRequiredValue=this.originalRequiredValue),te.getters=this.getters.slice(),te.setters=this.setters.slice(),te},P.prototype.getEmbeddedSchemaType=function(){return this.$embeddedSchemaType},P.prototype._duplicateKeyErrorMessage=null,P.prototype.toJSONSchema=function(Z){throw new Error("Converting unsupported SchemaType to JSON Schema: ".concat(this.instance,' at path "').concat(this.path,'"'))},P.prototype.autoEncryptionType=function(){return null},u.exports=c=P,c.CastError=v,c.ValidatorError=E},6451:(u,c,s)=>{var f=s(8768).isPOJO;u.exports=function h(m){for(var j,b,R,d=Object.keys(m),_=d.length;_--;)R=m[b=d[_]],f(R)&&(m[b]=h(R)),m[b]!==void 0?j=!0:delete m[b];return j?m:void 0}},6511:(u,c,s)=>{function f(d){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},f(d)}function h(d,_){(_==null||_>d.length)&&(_=d.length);for(var $=0,g=Array(_);$<_;$++)g[$]=d[$];return g}function m(d,_){var $=Object.keys(d);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(d);_&&(g=g.filter(function(S){return Object.getOwnPropertyDescriptor(d,S).enumerable})),$.push.apply($,g)}return $}function j(d){for(var _=1;_<arguments.length;_++){var $=arguments[_]!=null?arguments[_]:{};_%2?m(Object($),!0).forEach(function(g){b(d,g,$[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors($)):m(Object($)).forEach(function(g){Object.defineProperty(d,g,Object.getOwnPropertyDescriptor($,g))})}return d}function b(d,_,$){return(_=function(g){var S=function(x){if(f(x)!="object"||!x)return x;var A=x[Symbol.toPrimitive];if(A!==void 0){var T=A.call(x,"string");if(f(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(x)}(g);return f(S)=="symbol"?S:S+""}(_))in d?Object.defineProperty(d,_,{value:$,enumerable:!0,configurable:!0,writable:!0}):d[_]=$,d}s(8768);var R=u.exports=function(){};R.ctor=function(){var d=Array.prototype.slice.call(arguments),_=function(){R.apply(this,arguments),this.paths={},this.states={}};return(_.prototype=new R).constructor=_,_.prototype.stateNames=d,d.forEach(function($){_.prototype[$]=function(g){this._changeState(g,$)}}),_},R.prototype._changeState=function(d,_){var $=this.paths[d];if($!==_){var g=this.states[$];g&&delete g[d],this.paths[d]=_,this.states[_]=this.states[_]||{},this.states[_][d]=!0}},R.prototype.clear=function(d){if(this.states[d]!=null)for(var _,$=Object.keys(this.states[d]),g=$.length;g--;)_=$[g],delete this.states[d][_],delete this.paths[_]},R.prototype.clearPath=function(d){var _=this.paths[d];_&&(delete this.paths[d],delete this.states[_][d])},R.prototype.getStatePaths=function(d){return this.states[d]!=null?this.states[d]:{}},R.prototype.some=function(){var d=this,_=arguments.length?arguments:this.stateNames;return Array.prototype.some.call(_,function($){return d.states[$]!=null&&Object.keys(d.states[$]).length})},R.prototype._iter=function(d){return function(){var _=Array.prototype.slice.call(arguments),$=_.pop();_.length||(_=this.stateNames);var g=this;return _.reduce(function(S,x){return g.states[x]==null?S:S.concat(Object.keys(g.states[x]))},[])[d](function(S,x,A){return $(S,x,A)})}},R.prototype.forEach=function(){return this.forEach=this._iter("forEach"),this.forEach.apply(this,arguments)},R.prototype.map=function(){return this.map=this._iter("map"),this.map.apply(this,arguments)},R.prototype.clone=function(){var d=new this.constructor;d.paths=j({},this.paths);var _,$=function(S,x){var A=typeof Symbol<"u"&&S[Symbol.iterator]||S["@@iterator"];if(!A){if(Array.isArray(S)||(A=function(N,P){if(N){if(typeof N=="string")return h(N,P);var I={}.toString.call(N).slice(8,-1);return I==="Object"&&N.constructor&&(I=N.constructor.name),I==="Map"||I==="Set"?Array.from(N):I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I)?h(N,P):void 0}}(S))||x){A&&(S=A);var T=0,C=function(){};return{s:C,n:function(){return T>=S.length?{done:!0}:{done:!1,value:S[T++]}},e:function(N){throw N},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w,v=!0,E=!1;return{s:function(){A=A.call(S)},n:function(){var N=A.next();return v=N.done,N},e:function(N){E=!0,w=N},f:function(){try{v||A.return==null||A.return()}finally{if(E)throw w}}}}(this.stateNames);try{for($.s();!(_=$.n()).done;){var g=_.value;g in this.states&&(d.states[g]=this.states[g]==null?this.states[g]:j({},this.states[g]))}}catch(S){$.e(S)}finally{$.f()}return d}},6544:(u,c,s)=>{function f(A){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},f(A)}var h;if(!Object.keys){var m=Object.prototype.hasOwnProperty,j=Object.prototype.toString,b=s(6312),R=Object.prototype.propertyIsEnumerable,d=!R.call({toString:null},"toString"),_=R.call(function(){},"prototype"),$=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],g=function(A){var T=A.constructor;return T&&T.prototype===A},S={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},x=function(){if(typeof window>"u")return!1;for(var A in window)try{if(!S["$"+A]&&m.call(window,A)&&window[A]!==null&&f(window[A])==="object")try{g(window[A])}catch{return!0}}catch{return!0}return!1}();h=function(A){var T=A!==null&&f(A)==="object",C=j.call(A)==="[object Function]",w=b(A),v=T&&j.call(A)==="[object String]",E=[];if(!T&&!C&&!w)throw new TypeError("Object.keys called on a non-object");var N=_&&C;if(v&&A.length>0&&!m.call(A,0))for(var P=0;P<A.length;++P)E.push(String(P));if(w&&A.length>0)for(var I=0;I<A.length;++I)E.push(String(I));else for(var B in A)N&&B==="prototype"||!m.call(A,B)||E.push(String(B));if(d)for(var ee=function(te){if(typeof window>"u"||!x)return g(te);try{return g(te)}catch{return!1}}(A),Z=0;Z<$.length;++Z)ee&&$[Z]==="constructor"||!m.call(A,$[Z])||E.push($[Z]);return E}}u.exports=h},6547:(u,c,s)=>{function f(g,S){var x=Object.keys(g);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(g);S&&(A=A.filter(function(T){return Object.getOwnPropertyDescriptor(g,T).enumerable})),x.push.apply(x,A)}return x}function h(g,S,x){return(S=function(A){var T=function(C){if(m(C)!="object"||!C)return C;var w=C[Symbol.toPrimitive];if(w!==void 0){var v=w.call(C,"string");if(m(v)!="object")return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(C)}(A);return m(T)=="symbol"?T:T+""}(S))in g?Object.defineProperty(g,S,{value:x,enumerable:!0,configurable:!0,writable:!0}):g[S]=x,g}function m(g){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},m(g)}var j=s(3550).EventEmitter,b=s(9380),R=s(8768),d=s(7930).documentArrayParent;function _(g,S,x,A,T){var C;R.isMongooseDocumentArray(S)?(this.__parentArray=S,this[d]=S.$parent()):(this.__parentArray=void 0,this[d]=void 0),this.$setIndex(T),this.$__parent=this[d],m(x)==="object"&&x!=null?(C=function(w){for(var v=1;v<arguments.length;v++){var E=arguments[v]!=null?arguments[v]:{};v%2?f(Object(E),!0).forEach(function(N){h(w,N,E[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(E)):f(Object(E)).forEach(function(N){Object.defineProperty(w,N,Object.getOwnPropertyDescriptor(E,N))})}return w}({isNew:!0},x),x=void 0):C={isNew:!0},b.call(this,g,A,this[d],x,C)}for(var $ in _.prototype=Object.create(b.prototype),_.prototype.constructor=_,Object.defineProperty(_.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!1}),Object.defineProperty(_.prototype,"$isDocumentArrayElement",{configurable:!1,writable:!1,value:!0}),j.prototype)_[$]=j.prototype[$];_.prototype.$setIndex=function(g){if(this.__index=g,this.$__!=null&&this.$__.validationError!=null)for(var S=0,x=Object.keys(this.$__.validationError.errors);S<x.length;S++){var A=x[S];this.invalidate(A,this.$__.validationError.errors[A])}},_.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.arr[0].populate("path")`, use `doc.populate("arr.0.path")`')},_.prototype.$__removeFromParent=function(){var g=this._doc._id;if(!g)throw new Error("For your own good, Mongoose does not know how to remove an ArraySubdocument that has no _id");this.__parentArray.pull({_id:g})},_.prototype.$__fullPath=function(g,S){return this.__index==null?null:(this.$__.fullPath||this.ownerDocument(),S?g?this.$__.fullPath+"."+g:this.$__.fullPath:g?this.$__.fullPath+"."+this.__index+"."+g:this.$__.fullPath+"."+this.__index)},_.prototype.$__pathRelativeToParent=function(g,S){return this.__index!=null&&this.__parentArray&&this.__parentArray.$path?S?g==null?this.__parentArray.$path():this.__parentArray.$path()+"."+g:g==null?this.__parentArray.$path()+"."+this.__index:this.__parentArray.$path()+"."+this.__index+"."+g:null},_.prototype.$parent=function(){return this[d]},_.prototype.parentArray=function(){return this.__parentArray},u.exports=_},6583:(u,c,s)=>{function f(_){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},f(_)}var h,m=s(8863),j=s(1464);try{h=[].__proto__===Array.prototype}catch(_){if(!_||f(_)!=="object"||!("code"in _)||_.code!=="ERR_PROTO_ACCESS")throw _}var b=!!h&&j&&j(Object.prototype,"__proto__"),R=Object,d=R.getPrototypeOf;u.exports=b&&typeof b.get=="function"?m([b.get]):typeof d=="function"&&function(_){return d(_==null?_:R(_))}},6665:u=>{u.exports=function(c,s){for(var f,h,m,j=s.split("."),b="",R=0;R<j.length;++R)if(c[b+=b.length?".":""+j[R]]){for(m=(h=Object.keys(c)).length,f=0;f<m;++f)h[R].indexOf(b+".")!==0||h[R].indexOf(s);return!0}return!1}},6730:u=>{var c=Object.prototype.toString,s=Math.max,f=function(h,m){for(var j=[],b=0;b<h.length;b+=1)j[b]=h[b];for(var R=0;R<m.length;R+=1)j[R+h.length]=m[R];return j};u.exports=function(h){var m=this;if(typeof m!="function"||c.apply(m)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+m);for(var j,b=function(g){for(var S=[],x=1,A=0;x<g.length;x+=1,A+=1)S[A]=g[x];return S}(arguments),R=s(0,m.length-b.length),d=[],_=0;_<R;_++)d[_]="$"+_;if(j=Function("binder","return function ("+function(g){for(var S="",x=0;x<g.length;x+=1)S+=g[x],x+1<g.length&&(S+=",");return S}(d)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof j){var g=m.apply(this,f(b,arguments));return Object(g)===g?g:this}return m.apply(h,f(b,arguments))}),m.prototype){var $=function(){};$.prototype=m.prototype,j.prototype=new $,$.prototype=null}return j}},6750:(u,c,s)=>{function f(R){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},f(R)}var h=s(988),m=s(9907),j=s(2268),b=s(1464);u.exports=function(R,d,_){if(!R||f(R)!=="object"&&typeof R!="function")throw new j("`obj` must be an object or a function`");if(typeof d!="string"&&f(d)!=="symbol")throw new j("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new j("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new j("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new j("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new j("`loose`, if provided, must be a boolean");var $=arguments.length>3?arguments[3]:null,g=arguments.length>4?arguments[4]:null,S=arguments.length>5?arguments[5]:null,x=arguments.length>6&&arguments[6],A=!!b&&b(R,d);if(h)h(R,d,{configurable:S===null&&A?A.configurable:!S,enumerable:$===null&&A?A.enumerable:!$,value:_,writable:g===null&&A?A.writable:!g});else{if(!x&&($||g||S))throw new m("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");R[d]=_}}},6775:(u,c)=>{c.byteLength=function(_){var $=b(_),g=$[0],S=$[1];return 3*(g+S)/4-S},c.toByteArray=function(_){var $,g,S=b(_),x=S[0],A=S[1],T=new h(function(v,E,N){return 3*(E+N)/4-N}(0,x,A)),C=0,w=A>0?x-4:x;for(g=0;g<w;g+=4)$=f[_.charCodeAt(g)]<<18|f[_.charCodeAt(g+1)]<<12|f[_.charCodeAt(g+2)]<<6|f[_.charCodeAt(g+3)],T[C++]=$>>16&255,T[C++]=$>>8&255,T[C++]=255&$;return A===2&&($=f[_.charCodeAt(g)]<<2|f[_.charCodeAt(g+1)]>>4,T[C++]=255&$),A===1&&($=f[_.charCodeAt(g)]<<10|f[_.charCodeAt(g+1)]<<4|f[_.charCodeAt(g+2)]>>2,T[C++]=$>>8&255,T[C++]=255&$),T},c.fromByteArray=function(_){for(var $,g=_.length,S=g%3,x=[],A=16383,T=0,C=g-S;T<C;T+=A)x.push(d(_,T,T+A>C?C:T+A));return S===1?($=_[g-1],x.push(s[$>>2]+s[$<<4&63]+"==")):S===2&&($=(_[g-2]<<8)+_[g-1],x.push(s[$>>10]+s[$>>4&63]+s[$<<2&63]+"=")),x.join("")};for(var s=[],f=[],h=typeof Uint8Array<"u"?Uint8Array:Array,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",j=0;j<64;++j)s[j]=m[j],f[m.charCodeAt(j)]=j;function b(_){var $=_.length;if($%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=_.indexOf("=");return g===-1&&(g=$),[g,g===$?0:4-g%4]}function R(_){return s[_>>18&63]+s[_>>12&63]+s[_>>6&63]+s[63&_]}function d(_,$,g){for(var S,x=[],A=$;A<g;A+=3)S=(_[A]<<16&16711680)+(_[A+1]<<8&65280)+(255&_[A+2]),x.push(R(S));return x.join("")}f[45]=62,f[95]=63},6801:(u,c,s)=>{function f(R){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},f(R)}function h(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!R})()}function m(R){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},m(R)}function j(R,d){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,$){return _.__proto__=$,_},j(R,d)}var b=function(R){function d($,g){var S;return function(x,A){if(!(x instanceof A))throw new TypeError("Cannot call a class as a function")}(this,d),(S=function(x,A,T){return A=m(A),function(C,w){if(w&&(f(w)=="object"||typeof w=="function"))return w;if(w!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(C)}(x,h()?Reflect.construct(A,T||[],m(x).constructor):A.apply(x,T))}(this,d,[g=g||"Cannot populate path `"+$+"` because it is not in your schema. Set the `strictPopulate` option to false to override."])).path=$,S}return function($,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(g&&g.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),g&&j($,g)}(d,R),_=d,Object.defineProperty(_,"prototype",{writable:!1}),_;var _}(s(8213));Object.defineProperty(b.prototype,"name",{value:"StrictPopulateError"}),u.exports=b},6814:u=>{u.exports=function(c){for(var s={},f=0,h=Object.keys(c);f<h.length;f++){var m=h[f];if(m.indexOf(".")!==-1)for(var j=m.split("."),b=j[0],R=0;R<j.length;++R)s[b]=1,R+1<j.length&&(b=b+"."+j[R+1]);else s[m]=1}return s}},6867:(u,c,s)=>{function f(T){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},f(T)}function h(T,C){(C==null||C>T.length)&&(C=T.length);for(var w=0,v=Array(C);w<C;w++)v[w]=T[w];return v}function m(T,C){for(var w=0;w<C.length;w++){var v=C[w];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(T,j(v.key),v)}}function j(T){var C=function(w){if(f(w)!="object"||!w)return w;var v=w[Symbol.toPrimitive];if(v!==void 0){var E=v.call(w,"string");if(f(E)!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(T);return f(C)=="symbol"?C:C+""}function b(){try{var T=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b=function(){return!!T})()}function R(){return R=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(T,C,w){var v=function(N,P){for(;!{}.hasOwnProperty.call(N,P)&&(N=d(N))!==null;);return N}(T,C);if(v){var E=Object.getOwnPropertyDescriptor(v,C);return E.get?E.get.call(arguments.length<3?T:w):E.value}},R.apply(null,arguments)}function d(T){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},d(T)}function _(T,C){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(w,v){return w.__proto__=v,w},_(T,C)}var $=s(2081),g=s(241),S=s(6426),x=s(4327),A=function(T){function C(E,N){var P;return function(I,B){if(!(I instanceof B))throw new TypeError("Cannot call a class as a function")}(this,C),(P=function(I,B,ee){return B=d(B),function(Z,te){if(te&&(f(te)=="object"||typeof te=="function"))return te;if(te!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(re){if(re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re}(Z)}(I,b()?Reflect.construct(B,ee||[],d(I).constructor):B.apply(I,ee))}(this,C,[E,N,"Map"])).$isSchemaMap=!0,P}return function(E,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(N&&N.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),N&&_(E,N)}(C,T),w=C,v=[{key:"set",value:function(E,N){return S.set(E,N)}},{key:"cast",value:function(E,N,P,I,B){var ee;if(E instanceof $)return E;var Z=(ee=B==null?void 0:B.path)!==null&&ee!==void 0?ee:this.path;if(P){var te=new $({},Z,N,this.$__schemaType);if(E instanceof s.g.Map){var re,ce=function(M,q){var ne=typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(!ne){if(Array.isArray(M)||(ne=function(_e,L){if(_e){if(typeof _e=="string")return h(_e,L);var X={}.toString.call(_e).slice(8,-1);return X==="Object"&&_e.constructor&&(X=_e.constructor.name),X==="Map"||X==="Set"?Array.from(_e):X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X)?h(_e,L):void 0}}(M))||q){ne&&(M=ne);var fe=0,ve=function(){};return{s:ve,n:function(){return fe>=M.length?{done:!0}:{done:!1,value:M[fe++]}},e:function(_e){throw _e},f:ve}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var we,me=!0,ue=!1;return{s:function(){ne=ne.call(M)},n:function(){var _e=ne.next();return me=_e.done,_e},e:function(_e){ue=!0,we=_e},f:function(){try{me||ne.return==null||ne.return()}finally{if(ue)throw we}}}}(E.keys());try{for(ce.s();!(re=ce.n()).done;){var ge=re.value,F=E.get(ge);F=F==null?te.$__schemaType._castNullish(F):te.$__schemaType.cast(F,N,!0,null,{path:Z+"."+ge}),te.$init(ge,F)}}catch(M){ce.e(M)}finally{ce.f()}}else for(var V=0,H=Object.keys(E);V<H.length;V++){var W=H[V],z=E[W];z=z==null?te.$__schemaType._castNullish(z):te.$__schemaType.cast(z,N,!0,null,{path:Z+"."+W}),te.$init(W,z)}return te}return new $(E,Z,N,this.$__schemaType)}},{key:"clone",value:function(){var E,N,P,I=(E=C,N=this,typeof(P=R(d(E.prototype),"clone",N))=="function"?function(B){return P.apply(N,B)}:P)([]);return this.$__schemaType!=null&&(I.$__schemaType=this.$__schemaType.clone()),I}},{key:"getEmbeddedSchemaType",value:function(){return this.$__schemaType}},{key:"toJSONSchema",value:function(E){var N=E==null?void 0:E.useBsonType,P=this.getEmbeddedSchemaType(),I=this.options.required&&typeof this.options.required!="function",B=x("object","object",N,I);return B.additionalProperties=P.toJSONSchema(E),B}},{key:"autoEncryptionType",value:function(){return"object"}}],v&&m(w.prototype,v),Object.defineProperty(w,"prototype",{writable:!1}),w;var w,v}(S);A.schemaName="Map",A.prototype.OptionsConstructor=g,A.defaultOptions={},u.exports=A},6948:(u,c,s)=>{function f(b){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},f(b)}function h(b,R,d){return Object.defineProperty(b,"prototype",{writable:!1}),b}var m=s(4450),j=h(function b(R){if(function(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")}(this,b),this._docs={},this._childDocs=[],R!=null&&(R=m(R),Object.assign(this,R),f(R.subPopulate)==="object"&&(this.populate=R.subPopulate),R.perDocumentLimit!=null&&R.limit!=null))throw new Error("Can not use `limit` and `perDocumentLimit` at the same time. Path: `"+R.path+"`.")});u.exports=j},6949:(u,c,s)=>{function f(x){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},f(x)}function h(x,A){for(var T=0;T<A.length;T++){var C=A[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(x,m(C.key),C)}}function m(x){var A=function(T){if(f(T)!="object"||!T)return T;var C=T[Symbol.toPrimitive];if(C!==void 0){var w=C.call(T,"string");if(f(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(x);return f(A)=="symbol"?A:A+""}function j(){try{var x=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j=function(){return!!x})()}function b(x){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},b(x)}function R(x,A){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,C){return T.__proto__=C,T},R(x,A)}var d=s(8213),_=s(8260),$=s(7352),g=s(1875),S=function(x){function A(w){var v,E;return function(N,P){if(!(N instanceof P))throw new TypeError("Cannot call a class as a function")}(this,A),(v=function(N,P,I){return P=b(P),function(B,ee){if(ee&&(f(ee)=="object"||typeof ee=="function"))return ee;if(ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Z){if(Z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}(B)}(N,j()?Reflect.construct(P,I||[],b(N).constructor):P.apply(N,I))}(this,A,[E=_(w)==="model"?w.constructor.modelName+" validation failed":"Validation failed"])).errors={},v._message=E,w&&(w.$errors=v.errors),v}return function(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),Object.defineProperty(w,"prototype",{writable:!1}),v&&R(w,v)}(A,x),T=A,(C=[{key:"toString",value:function(){return this.name+": "+g(this)}},{key:"inspect",value:function(){return Object.assign(new Error(this.message),this)}},{key:"addError",value:function(w,v){if(v instanceof A)for(var E=v.errors,N=0,P=Object.keys(E);N<P.length;N++){var I=P[N];this.addError("".concat(w,".").concat(I),E[I])}else this.errors[w]=v,this.message=this._message+": "+g(this)}}])&&h(T.prototype,C),Object.defineProperty(T,"prototype",{writable:!1}),T;var T,C}(d);$.inspect.custom&&(S.prototype[$.inspect.custom]=S.prototype.inspect),Object.defineProperty(S.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}}),Object.defineProperty(S.prototype,"name",{value:"ValidationError"}),u.exports=S},6996:(u,c,s)=>{function f(R){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},f(R)}function h(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!R})()}function m(R){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},m(R)}function j(R,d){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,$){return _.__proto__=$,_},j(R,d)}var b=function(R){function d($,g,S){var x;(function(T,C){if(!(T instanceof C))throw new TypeError("Cannot call a class as a function")})(this,d);var A=S.join(", ");return(x=function(T,C,w){return C=m(C),function(v,E){if(E&&(f(E)=="object"||typeof E=="function"))return E;if(E!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(N){if(N===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N}(v)}(T,h()?Reflect.construct(C,w||[],m(T).constructor):C.apply(T,w))}(this,d,['No matching document found for id "'+$._doc._id+'" version '+g+' modifiedPaths "'+A+'"'])).version=g,x.modifiedPaths=S,x}return function($,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(g&&g.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),g&&j($,g)}(d,R),_=d,Object.defineProperty(_,"prototype",{writable:!1}),_;var _}(s(8213));Object.defineProperty(b.prototype,"name",{value:"VersionError"}),u.exports=b},7045:(u,c,s)=>{function f(A){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},f(A)}function h(A,T){var C=Object.keys(A);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(A);T&&(w=w.filter(function(v){return Object.getOwnPropertyDescriptor(A,v).enumerable})),C.push.apply(C,w)}return C}function m(A){for(var T=1;T<arguments.length;T++){var C=arguments[T]!=null?arguments[T]:{};T%2?h(Object(C),!0).forEach(function(w){j(A,w,C[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(C)):h(Object(C)).forEach(function(w){Object.defineProperty(A,w,Object.getOwnPropertyDescriptor(C,w))})}return A}function j(A,T,C){return(T=function(w){var v=function(E){if(f(E)!="object"||!E)return E;var N=E[Symbol.toPrimitive];if(N!==void 0){var P=N.call(E,"string");if(f(P)!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)}(w);return f(v)=="symbol"?v:v+""}(T))in A?Object.defineProperty(A,T,{value:C,enumerable:!0,configurable:!0,writable:!0}):A[T]=C,A}var b=s(6426),R=b.CastError,d=s(9553),_=s(4327),$=s(3305);function g(A,T){b.call(this,A,T,"Decimal128")}function S(A){return this.cast(A)}g.schemaName="Decimal128",g.defaultOptions={},g.prototype=Object.create(b.prototype),g.prototype.constructor=g,g._cast=d,g.set=b.set,g.setters=[],g.get=b.get,g.cast=function(A){return arguments.length===0||(A===!1&&(A=this._defaultCaster),this._cast=A),this._cast},g._defaultCaster=function(A){if(A!=null&&!$(A,"Decimal128"))throw new Error;return A},g._checkRequired=function(A){return $(A,"Decimal128")},g.checkRequired=b.checkRequired,g.prototype.checkRequired=function(A,T){return b._isRef(this,A,T,!0)?!!A:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():g.checkRequired())(A)},g.prototype.cast=function(A,T,C,w,v){if(b._isRef(this,A,T,C))return $(A,"Decimal128")?A:this._castRef(A,T,C,v);var E;E=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():g.cast();try{return E(A)}catch(N){throw new R("Decimal128",A,this.path,N,this)}};var x=m(m({},b.prototype.$conditionalHandlers),{},{$gt:S,$gte:S,$lt:S,$lte:S});Object.defineProperty(g.prototype,"$conditionalHandlers",{enumerable:!1,value:x}),g.prototype.toJSONSchema=function(A){var T=this.options.required&&typeof this.options.required!="function";return _("string","decimal",A==null?void 0:A.useBsonType,T)},g.prototype.autoEncryptionType=function(){return"decimal"},u.exports=g},7058:(u,c,s)=>{var f=s(5832).hp;function h(K){return function(ie){if(Array.isArray(ie))return g(ie)}(K)||function(ie){if(typeof Symbol<"u"&&ie[Symbol.iterator]!=null||ie["@@iterator"]!=null)return Array.from(ie)}(K)||$(K)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function m(K,ie){var ye=Object.keys(K);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(K);ie&&(je=je.filter(function(de){return Object.getOwnPropertyDescriptor(K,de).enumerable})),ye.push.apply(ye,je)}return ye}function j(K){for(var ie=1;ie<arguments.length;ie++){var ye=arguments[ie]!=null?arguments[ie]:{};ie%2?m(Object(ye),!0).forEach(function(je){b(K,je,ye[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(ye)):m(Object(ye)).forEach(function(je){Object.defineProperty(K,je,Object.getOwnPropertyDescriptor(ye,je))})}return K}function b(K,ie,ye){return(ie=function(je){var de=function(De){if(R(De)!="object"||!De)return De;var He=De[Symbol.toPrimitive];if(He!==void 0){var Ve=He.call(De,"string");if(R(Ve)!="object")return Ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(De)}(je);return R(de)=="symbol"?de:de+""}(ie))in K?Object.defineProperty(K,ie,{value:ye,enumerable:!0,configurable:!0,writable:!0}):K[ie]=ye,K}function R(K){return R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},R(K)}function d(K,ie){return function(ye){if(Array.isArray(ye))return ye}(K)||function(ye,je){var de=ye==null?null:typeof Symbol<"u"&&ye[Symbol.iterator]||ye["@@iterator"];if(de!=null){var De,He,Ve,ke,Je=[],Ue=!0,tt=!1;try{if(Ve=(de=de.call(ye)).next,je===0){if(Object(de)!==de)return;Ue=!1}else for(;!(Ue=(De=Ve.call(de)).done)&&(Je.push(De.value),Je.length!==je);Ue=!0);}catch(xt){tt=!0,He=xt}finally{try{if(!Ue&&de.return!=null&&(ke=de.return(),Object(ke)!==ke))return}finally{if(tt)throw He}}return Je}}(K,ie)||$(K,ie)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function _(K,ie){var ye=typeof Symbol<"u"&&K[Symbol.iterator]||K["@@iterator"];if(!ye){if(Array.isArray(K)||(ye=$(K))||ie){ye&&(K=ye);var je=0,de=function(){};return{s:de,n:function(){return je>=K.length?{done:!0}:{done:!1,value:K[je++]}},e:function(ke){throw ke},f:de}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var De,He=!0,Ve=!1;return{s:function(){ye=ye.call(K)},n:function(){var ke=ye.next();return He=ke.done,ke},e:function(ke){Ve=!0,De=ke},f:function(){try{He||ye.return==null||ye.return()}finally{if(Ve)throw De}}}}function $(K,ie){if(K){if(typeof K=="string")return g(K,ie);var ye={}.toString.call(K).slice(8,-1);return ye==="Object"&&K.constructor&&(ye=K.constructor.name),ye==="Map"||ye==="Set"?Array.from(K):ye==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ye)?g(K,ie):void 0}}function g(K,ie){(ie==null||ie>K.length)&&(ie=K.length);for(var ye=0,je=Array(ie);ye<ie;ye++)je[ye]=K[ye];return je}var S,x=s(3550).EventEmitter,A=s(8297),T=s(8213),C=s(6426),w=s(8879),v=s(2069),E=s(622),N=s(486),P=s(4450),I=s(3703),B=s(8260),ee=s(2003),Z=s(5289),te=s(3381),re=s(1199),ce=s(9539),ge=s(5678),F=s(7834),V=s(2097),H=s(8768),W=s(533),z=/\.\d+(\.|$)/,M=s(1260).Ut,q=s(4957).middlewareFunctions,ne=M.concat(q).reduce(function(K,ie){return K.add(ie)},new Set),fe=H.isPOJO,ve=0,we=/^\d+$/;function me(K,ie){if(!(this instanceof me))return new me(K,ie);if(this.obj=K,this.paths={},this.aliases={},this.subpaths={},this.virtuals={},this.singleNestedPaths={},this.nested={},this.inherits={},this.callQueue=[],this._indexes=[],this._searchIndexes=[],this.methods=ie&&ie.methods||{},this.methodOptions={},this.statics=ie&&ie.statics||{},this.tree={},this.query=ie&&ie.query||{},this.childSchemas=[],this.plugins=[],this.$id=++ve,this.mapPaths=[],this.encryptedFields={},this.s={hooks:new A},this.options=this.defaultOptions(ie),Array.isArray(K)){var ye,je=_(K);try{for(je.s();!(ye=je.n()).done;){var de=ye.value;this.add(de)}}catch(xt){je.e(xt)}finally{je.f()}}else K&&this.add(K);if(ie&&ie.virtuals)for(var De=ie.virtuals,He=0,Ve=Object.keys(De);He<Ve.length;He++){var ke=Ve[He],Je=De[ke].options?De[ke].options:void 0,Ue=this.virtual(ke,Je);De[ke].get&&Ue.get(De[ke].get),De[ke].set&&Ue.set(De[ke].set)}var tt=K&&K._id&&H.isObject(K._id);!this.paths._id&&this.options._id&&!tt&&N(this),this.setupTimestamp(this.options.timestamps)}function ue(K,ie){for(var ye=0,je=Object.keys(ie);ye<je.length;ye++){var de=je[ye],De=null;if(ie[de]!=null)De=ie[de];else{var He=I(K.paths[de],"options");if(He==null)continue;De=He.alias}if(De){var Ve=K.paths[de].path;if(Array.isArray(De)){var ke,Je=_(De);try{for(Je.s();!(ke=Je.n()).done;){var Ue=ke.value;if(typeof Ue!="string")throw new Error("Invalid value for alias option on "+Ve+", got "+Ue);K.aliases[Ue]=Ve,K.virtual(Ue).get(function(tt){return function(){return typeof this.get=="function"?this.get(tt):this[tt]}}(Ve)).set(function(tt){return function(xt){return this.$set(tt,xt)}}(Ve))}}catch(tt){Je.e(tt)}finally{Je.f()}}else{if(typeof De!="string")throw new Error("Invalid value for alias option on "+Ve+", got "+De);K.aliases[De]=Ve,K.virtual(De).get(function(tt){return function(){return typeof this.get=="function"?this.get(tt):this[tt]}}(Ve)).set(function(tt){return function(xt){return this.$set(tt,xt)}}(Ve))}}}}me.prototype=Object.create(x.prototype),me.prototype.constructor=me,me.prototype.instanceOfSchema=!0,Object.defineProperty(me.prototype,"$schemaType",{configurable:!1,enumerable:!1,writable:!0}),Object.defineProperty(me.prototype,"childSchemas",{configurable:!1,enumerable:!0,writable:!0}),Object.defineProperty(me.prototype,"virtuals",{configurable:!1,enumerable:!0,writable:!0}),me.prototype.obj,me.prototype.paths,me.prototype.tree,me.prototype.clone=function(){var K=this,ie=this._clone();return ie.on("init",function(ye){return K.emit("init",ye)}),ie},me.prototype._clone=function(K){var ie=new(K=K||(this.base==null?me:this.base.Schema))({},this._userProvidedOptions);ie.base=this.base,ie.obj=this.obj,ie.options=P(this.options),ie.callQueue=this.callQueue.map(function(nn){return nn}),ie.methods=P(this.methods),ie.methodOptions=P(this.methodOptions),ie.statics=P(this.statics),ie.query=P(this.query),ie.plugins=Array.prototype.slice.call(this.plugins),ie._indexes=P(this._indexes),ie._searchIndexes=P(this._searchIndexes),ie.s.hooks=this.s.hooks.clone(),ie.tree=P(this.tree),ie.paths=Object.fromEntries(Object.entries(this.paths).map(function(nn){var vn=d(nn,2);return[vn[0],vn[1].clone()]})),ie.nested=P(this.nested),ie.subpaths=P(this.subpaths);for(var ye=0,je=Object.values(ie.paths);ye<je.length;ye++){var de=je[ye];if(de.$isSingleNested){for(var De=de.path,He=0,Ve=Object.keys(de.schema.paths);He<Ve.length;He++){var ke=Ve[He];ie.singleNestedPaths[De+"."+ke]=de.schema.paths[ke]}for(var Je=0,Ue=Object.keys(de.schema.singleNestedPaths);Je<Ue.length;Je++){var tt=Ue[Je];ie.singleNestedPaths[De+"."+tt]=de.schema.singleNestedPaths[tt]}for(var xt=0,Tt=Object.keys(de.schema.subpaths);xt<Tt.length;xt++){var It=Tt[xt];ie.singleNestedPaths[De+"."+It]=de.schema.subpaths[It]}for(var _t=0,gn=Object.keys(de.schema.nested);_t<gn.length;_t++){var Qt=gn[_t];ie.singleNestedPaths[De+"."+Qt]="nested"}}}return ie._gatherChildSchemas(),ie.virtuals=P(this.virtuals),ie.$globalPluginsApplied=this.$globalPluginsApplied,ie.$isRootDiscriminator=this.$isRootDiscriminator,ie.$implicitlyCreated=this.$implicitlyCreated,ie.$id=++ve,ie.$originalSchemaId=this.$id,ie.mapPaths=[].concat(this.mapPaths),this.discriminatorMapping!=null&&(ie.discriminatorMapping=Object.assign({},this.discriminatorMapping)),this.discriminators!=null&&(ie.discriminators=Object.assign({},this.discriminators)),this._applyDiscriminators!=null&&(ie._applyDiscriminators=new Map(this._applyDiscriminators)),ie.aliases=Object.assign({},this.aliases),ie.encryptedFields=P(this.encryptedFields),ie},me.prototype.pick=function(K,ie){var ye=new me({},ie||this.options);if(!Array.isArray(K))throw new T('Schema#pick() only accepts an array argument, got "'+R(K)+'"');var je,de=_(K);try{for(de.s();!(je=de.n()).done;){var De=je.value;if(this._hasEncryptedField(De)){var He=this.encryptedFields[De],Ve=this.path(De);ye.add(b({},De,b({encrypt:He},this.options.typeKey,Ve)))}else if(this.nested[De])ye.add(b({},De,I(this.tree,De)));else{var ke=this.path(De);if(ke==null)throw new T("Path `"+De+"` is not in the schema");ye.add(b({},De,ke))}}}catch(Je){de.e(Je)}finally{de.f()}return this._hasEncryptedFields()||(ye.options.encryptionType=null),ye},me.prototype.omit=function(K,ie){var ye=new me(this,ie||this.options);if(!Array.isArray(K))throw new T('Schema#omit() only accepts an array argument, got "'+R(K)+'"');for(var je in ye.remove(K),ye.singleNestedPaths)K.includes(je)&&delete ye.singleNestedPaths[je];return ye},me.prototype.defaultOptions=function(K){this._userProvidedOptions=K==null?{}:P(K);var ie=this.base&&this.base.options||{};if((K=j({strict:!("strict"in ie)||ie.strict,strictQuery:"strictQuery"in ie&&ie.strictQuery,bufferCommands:!0,capped:!1,versionKey:"__v",optimisticConcurrency:!1,minimize:!0,autoIndex:null,discriminatorKey:"__t",shardKey:null,read:null,validateBeforeSave:!0,validateModifiedOnly:!1,_id:!0,id:!("id"in ie)||ie.id,typeKey:"type"},K)).versionKey&&typeof K.versionKey!="string")throw new T("`versionKey` must be falsy or string, got `"+R(K.versionKey)+"`");if(typeof K.read=="string"?K.read=Z(K.read):Array.isArray(K.read)&&typeof K.read[0]=="string"&&(K.read={mode:Z(K.read[0]),tags:K.read[1]}),K.optimisticConcurrency&&!K.versionKey)throw new T("Must set `versionKey` if using `optimisticConcurrency`");return K},me.prototype.discriminator=function(K,ie,ye){return this._applyDiscriminators=this._applyDiscriminators||new Map,this._applyDiscriminators.set(K,{schema:ie,options:ye}),this},me.prototype._defaultToObjectOptions=function(K){var ie=K?"toJSON":"toObject";if(this._defaultToObjectOptionsMap&&this._defaultToObjectOptionsMap[ie])return this._defaultToObjectOptionsMap[ie];var ye=this.base&&this.base.options&&this.base.options[ie]||{},je=this.options[ie]||{},de=Object.assign({},ye,je);return this._defaultToObjectOptionsMap=this._defaultToObjectOptionsMap||{},this._defaultToObjectOptionsMap[ie]=de,de},me.prototype.encryptionType=function(K){if(arguments.length===0)return this.options.encryptionType;if(typeof K!="string"&&K!==null)throw new Error("invalid `encryptionType`: ${encryptionType}");this.options.encryptionType=K},me.prototype.add=function(K,ie){if(K instanceof me||K!=null&&K.instanceOfSchema)return ce(this,K),this;if(K._id===!1&&ie==null&&(this.options._id=!1),(ie=ie||"")==="__proto__."||ie==="constructor."||ie==="prototype.")return this;for(var ye=Object.keys(K),je=this.options.typeKey,de=0,De=ye;de<De.length;de++){var He=De[de];if(!H.specialProperties.has(He)){var Ve=ie+He,ke=K[He];if(ke==null)throw new TypeError("Invalid value for schema path `"+Ve+'`, got value "'+ke+'"');if(He!=="_id"||ke!==!1){var Je=!1;if(typeof ke=="string"&&(Je=(this.base!=null?this.base.Schema.Types:me.Types)[ke.charAt(0).toUpperCase()+ke.substring(1)]!=null),He!=="_id"&&(R(ke)!=="object"&&typeof ke!="function"&&!Je||ke==null))throw new TypeError("Invalid schema configuration: `".concat(ke,"` is not ")+"a valid type at path `".concat(He,"`. See ")+"https://bit.ly/mongoose-schematypes for a list of valid schema types.");if(ke instanceof E||(ke.constructor&&ke.constructor.name||null)==="VirtualType")this.virtual(ke);else{if(Array.isArray(ke)&&ke.length===1&&ke[0]==null)throw new TypeError("Invalid value for schema Array path `"+Ve+'`, got value "'+ke[0]+'"');if(fe(ke)||ke instanceof w)if(Object.keys(ke).length<1)ie&&(this.nested[ie.substring(0,ie.length-1)]=!0),this.path(Ve,ke);else if(!ke[je]||je==="type"&&fe(ke.type)&&ke.type.type)this.nested[Ve]=!0,this.add(ke,Ve+".");else{var Ue=ke[je];if(fe(Ue)&&Object.keys(Ue).length>0){ie&&(this.nested[ie.substring(0,ie.length-1)]=!0);var tt={};this._userProvidedOptions.typeKey&&(tt.typeKey=this._userProvidedOptions.typeKey),this._userProvidedOptions.strict!=null&&(tt.strict=this._userProvidedOptions.strict),this._userProvidedOptions.toObject!=null&&(tt.toObject=H.omit(this._userProvidedOptions.toObject,["transform"])),this._userProvidedOptions.toJSON!=null&&(tt.toJSON=H.omit(this._userProvidedOptions.toJSON,["transform"]));var xt=new me(Ue,tt);xt.$implicitlyCreated=!0;var Tt=Object.assign({},ke,b({},je,xt));this.path(ie+He,Tt)}else if(ie&&(this.nested[ie.substring(0,ie.length-1)]=!0),this.path(ie+He,ke),ke!=null&&!ke.instanceOfSchema&&H.isPOJO(ke.discriminators)){var It=this.path(ie+He);for(var _t in ke.discriminators)It.discriminator(_t,ke.discriminators[_t])}}else if(ie&&(this.nested[ie.substring(0,ie.length-1)]=!0),this.path(ie+He,ke),ke[0]!=null&&!ke[0].instanceOfSchema&&H.isPOJO(ke[0].discriminators)){var gn=this.path(ie+He);for(var Qt in ke[0].discriminators)gn.discriminator(Qt,ke[0].discriminators[Qt])}if(ke.instanceOfSchema&&ke.encryptionType()!=null){if(this.encryptionType()!=ke.encryptionType())throw new Error("encryptionType of a nested schema must match the encryption type of the parent schema.");for(var nn=0,vn=Object.entries(ke.encryptedFields);nn<vn.length;nn++){var _n=d(vn[nn],2),Jt=_n[0],nr=_n[1],Xe=Ve+"."+Jt;this._addEncryptedField(Xe,nr)}}else if(R(ke)==="object"&&"encrypt"in ke){var rr=ke.encrypt;if(this.encryptionType()==null)throw new Error("encryptionType must be provided");this._addEncryptedField(Ve,rr)}else this._removeEncryptedField(Ve)}}}}var Hn=Object.fromEntries(Object.entries(K).map(function(Be){var fr=d(Be,1)[0];return[ie+fr,null]}));return ue(this,Hn),this},me.prototype._addEncryptedField=function(K,ie){if(this.path(K).autoEncryptionType()==null)throw new Error("Invalid BSON type for FLE field: '".concat(K,"'"));this.encryptedFields[K]=P(ie)},me.prototype._removeEncryptedField=function(K){delete this.encryptedFields[K]},me.prototype._hasEncryptedFields=function(){return Object.keys(this.encryptedFields).length>0},me.prototype._hasEncryptedField=function(K){return K in this.encryptedFields},me.prototype._buildEncryptedFields=function(){var K=this;return{fields:Object.entries(this.encryptedFields).map(function(ie){var ye=d(ie,2),je=ye[0],de=ye[1];return j({path:je,bsonType:K.path(je).autoEncryptionType()},de)})}},me.prototype._buildSchemaMap=function(){var K=this;return{bsonType:"object",properties:Object.entries(this.encryptedFields).reduce(function(ie,ye){var je=d(ye,2),de=je[0],De=je[1],He=K.path(de).autoEncryptionType();return function(Ve,ke,Je){for(var Ue=0,tt=Ve[Ue];Ue<Ve.length-1;tt=Ve[++Ue])ke[tt]=ke[tt]==null?{bsonType:"object",properties:{}}:ke[tt],ke=ke[tt].properties;ke[tt]=Je}(de.split("."),ie,{encrypt:j(j({},De),{},{bsonType:He})}),ie},{})}},me.prototype.alias=function(K,ie){return ue(this,b({},K,ie)),this},me.prototype.removeIndex=function(K){if(arguments.length>1)throw new Error("removeIndex() takes only 1 argument");if(R(K)!=="object"&&typeof K!="string")throw new Error("removeIndex() may only take either an object or a string as an argument");if(R(K)==="object")for(var ie=this._indexes.length-1;ie>=0;--ie)re(this._indexes[ie][0],K)&&this._indexes.splice(ie,1);else for(var ye=this._indexes.length-1;ye>=0;--ye)this._indexes[ye][1]!=null&&this._indexes[ye][1].name===K&&this._indexes.splice(ye,1);return this},me.prototype.clearIndexes=function(){return this._indexes.length=0,this},me.prototype.searchIndex=function(K){return this._searchIndexes.push(K),this},me.reserved=Object.create(null),me.prototype.reserved=me.reserved;var _e=me.reserved;function L(K){return/\.\d+/.test(K)?K.replace(/\.\d+\./g,".$.").replace(/\.\d+$/,".$"):K}function X(K,ie){if(K.mapPaths.length===0)return null;var ye,je=_(K.mapPaths);try{for(je.s();!(ye=je.n()).done;){var de=ye.value,De=de.path.replace(/\.\$\*/g,"");if(ie===De||ie.startsWith(De+".")&&ie.slice(De.length+1).indexOf(".")===-1)return de;if(de.schema&&ie.startsWith(De+".")){var He=ie.slice(De.length+1);return He=He.slice(He.indexOf(".")+1),de.schema.paths[He]}if(de.$isSchemaMap&&ie.startsWith(De+".")){var Ve=ie.slice(De.length+1);Ve=Ve.slice(Ve.indexOf(".")+1);var ke=de.$__schemaType._presplitPath;if(Ve.indexOf(".")===-1&&ke[ke.length-1]==="$*")return de.$__schemaType;if(Ve.indexOf(".")!==-1&&de.$__schemaType.schema&&ke[ke.length-1]==="$*")return de.$__schemaType.schema.path(Ve.slice(Ve.indexOf(".")+1))}}}catch(Je){je.e(Je)}finally{je.f()}return null}function oe(K,ie,ye){var je=ie.split(/\.(\d+)\.|\.(\d+)$/).filter(Boolean);if(je.length<2)return K.paths.hasOwnProperty(je[0])?K.paths[je[0]]:"adhocOrUndefined";var de=K.path(je[0]),De=!1;if(!de)return"adhocOrUndefined";for(var He=je.length-1,Ve=1;Ve<je.length;++Ve){De=!1;var ke=je[Ve];if(Ve===He&&de&&!/\D/.test(ke)){de=de.$isMongooseDocumentArray?de.$embeddedSchemaType:de instanceof S.Array?de.caster:void 0;break}if(/\D/.test(ke)){if(!de||!de.schema){de=void 0;break}De=de.schema.pathType(ke)==="nested",de=de.schema.path(ke)}else de instanceof S.Array&&Ve!==He&&(de=de.caster)}return K.subpaths[ye]=de,de?"real":De?"nested":"adhocOrUndefined"}function Oe(K,ie){var ye,je=_(K.childSchemas);try{for(je.s();!(ye=je.n()).done;){var de=ye.value.schema;de.$implicitlyCreated&&(Object.assign(de.options,ie),Oe(de,ie))}}catch(De){je.e(De)}finally{je.f()}}_e.prototype=_e.emit=_e.listeners=_e.removeListener=_e.collection=_e.errors=_e.get=_e.init=_e.isModified=_e.isNew=_e.populated=_e.remove=_e.save=_e.toObject=_e.validate=1,_e.collection=1,me.prototype.path=function(K,ie){if(ie===void 0){if(this.paths[K]!=null)return this.paths[K];var ye=L(K),je=function(Ge,ct,pt){if(Ge.paths.hasOwnProperty(ct))return Ge.paths[ct];if(Ge.subpaths.hasOwnProperty(pt)){var vt=Ge.subpaths[pt];return vt==="nested"?void 0:vt}if(Ge.singleNestedPaths.hasOwnProperty(pt)&&R(Ge.singleNestedPaths[pt])==="object"){var mt=Ge.singleNestedPaths[pt];return mt==="nested"?void 0:mt}return null}(this,K,ye);if(je!=null)return je;var de=X(this,K);return de??((je=this.hasMixedParent(ye))!=null?je:z.test(K)?function(Ge,ct,pt){return oe(Ge,ct,pt),Ge.subpaths[pt]}(this,K,ye):void 0)}var De=K.split(".")[0];if(_e[De]&&!this.options.suppressReservedKeysWarning){var He="`".concat(De,"` is a reserved schema pathname and may break some functionality. ")+"You are allowed to use it, but use at your own risk. To disable this warning pass `suppressReservedKeysWarning` as a schema option.";H.warn(He)}R(ie)==="object"&&H.hasUserDefinedProperty(ie,"ref")&&W(ie.ref,K);var Ve,ke=K.split(/\./),Je=ke.pop(),Ue=this.tree,tt="",xt=_(ke);try{for(xt.s();!(Ve=xt.n()).done;){var Tt=Ve.value;if(H.specialProperties.has(Tt))throw new Error("Cannot set special property `"+Tt+"` on a schema");if(tt=tt+=(tt.length>0?".":"")+Tt,Ue[Tt]||(this.nested[tt]=!0,Ue[Tt]={}),R(Ue[Tt])!=="object"){var It="Cannot set nested path `"+K+"`. Parent path `"+tt+"` already set to type "+Ue[Tt].name+".";throw new Error(It)}Ue=Ue[Tt]}}catch(Ge){xt.e(Ge)}finally{xt.f()}Ue[Je]=P(ie),this.paths[K]=this.interpretAsType(K,ie,this.options);var _t=this.paths[K];if(this.childSchemas=this.childSchemas.filter(function(Ge){return Ge.path!==K}),_t.$isSchemaMap){var gn=K+".$*";this.paths[gn]=_t.$__schemaType,this.mapPaths.push(this.paths[gn]),_t.$__schemaType.$isSingleNested&&this.childSchemas.push({schema:_t.$__schemaType.schema,model:_t.$__schemaType.caster,path:K})}if(_t.$isSingleNested){for(var Qt=0,nn=Object.keys(_t.schema.paths);Qt<nn.length;Qt++){var vn=nn[Qt];this.singleNestedPaths[K+"."+vn]=_t.schema.paths[vn]}for(var _n=0,Jt=Object.keys(_t.schema.singleNestedPaths);_n<Jt.length;_n++){var nr=Jt[_n];this.singleNestedPaths[K+"."+nr]=_t.schema.singleNestedPaths[nr]}for(var Xe=0,rr=Object.keys(_t.schema.subpaths);Xe<rr.length;Xe++){var Hn=rr[Xe];this.singleNestedPaths[K+"."+Hn]=_t.schema.subpaths[Hn]}for(var Be=0,fr=Object.keys(_t.schema.nested);Be<fr.length;Be++){var Si=fr[Be];this.singleNestedPaths[K+"."+Si]="nested"}Object.defineProperty(_t.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),_t.caster.base=this.base,this.childSchemas.push({schema:_t.schema,model:_t.caster,path:K})}else _t.$isMongooseDocumentArray&&(Object.defineProperty(_t.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),_t.casterConstructor.base=this.base,this.childSchemas.push({schema:_t.schema,model:_t.casterConstructor,path:K}));if(_t.$isMongooseArray&&_t.caster instanceof C){for(var Tn=K,Jn=_t;Jn.$isMongooseArray;)Tn+=".$",Jn.$isMongooseDocumentArray?(Jn.$embeddedSchemaType._arrayPath=Tn,Jn.$embeddedSchemaType._arrayParentPath=K,Jn=Jn.$embeddedSchemaType):(Jn.caster._arrayPath=Tn,Jn.caster._arrayParentPath=K,Jn=Jn.caster),this.subpaths[Tn]=Jn;for(var br=0,hi=[];br<hi.length;br++){var Xr=hi[br];this.subpaths[Xr.path]=Xr}}if(_t.$isMongooseDocumentArray){for(var Bi=0,Y=Object.keys(_t.schema.paths);Bi<Y.length;Bi++){var he=Y[Bi],Se=_t.schema.paths[he];this.subpaths[K+"."+he]=Se,R(Se)==="object"&&Se!=null&&Se.$parentSchemaDocArray==null&&(Se.$parentSchemaDocArray=_t)}for(var xe=0,Pe=Object.keys(_t.schema.subpaths);xe<Pe.length;xe++){var Ne=Pe[xe],Fe=_t.schema.subpaths[Ne];this.subpaths[K+"."+Ne]=Fe,R(Fe)==="object"&&Fe!=null&&Fe.$parentSchemaDocArray==null&&(Fe.$parentSchemaDocArray=_t)}for(var Le=0,st=Object.keys(_t.schema.singleNestedPaths);Le<st.length;Le++){var Ye=st[Le],nt=_t.schema.singleNestedPaths[Ye];this.subpaths[K+"."+Ye]=nt,R(nt)==="object"&&nt!=null&&nt.$parentSchemaDocArray==null&&(nt.$parentSchemaDocArray=_t)}}return this},me.prototype._gatherChildSchemas=function(){for(var K=[],ie=0,ye=Object.keys(this.paths);ie<ye.length;ie++){var je=ye[ie];if(typeof je=="string"){var de=this.paths[je];de.$isMongooseDocumentArray||de.$isSingleNested?K.push({schema:de.schema,model:de.caster,path:je}):de.$isSchemaMap&&de.$__schemaType.$isSingleNested&&K.push({schema:de.$__schemaType.schema,model:de.$__schemaType.caster,path:je})}}return this.childSchemas=K,K},Object.defineProperty(me.prototype,"base",{configurable:!0,enumerable:!1,writable:!0,value:null}),me.prototype.interpretAsType=function(K,ie,ye){if(ie instanceof C){if(ie.path===K)return ie;var je=ie.clone();return je.path=K,je}var de=this.base!=null?this.base.Schema.Types:me.Types,De=this.base!=null?this.base.Types:s(9600);if(!(H.isPOJO(ie)||ie instanceof w)&&H.getFunctionName(ie.constructor)!=="Object"){var He=ie;(ie={})[ye.typeKey]=He}var Ve,ke=ie[ye.typeKey]&&(ie[ye.typeKey]instanceof Function||ye.typeKey!=="type"||!ie.type.type)?ie[ye.typeKey]:{};if(ke instanceof C){if(ke.path===K)return ke;var Je=ke.clone();return Je.path=K,Je}if(H.isPOJO(ke)||ke==="mixed")return new de.Mixed(K,ie);if(Array.isArray(ke)||ke===Array||ke==="array"||ke===de.Array){var Ue=ke===Array||ke==="array"?ie.cast||ie.of:ke[0];if(Ue&&Ue.instanceOfSchema){if(!(Ue instanceof me)){if(!this.options._isMerging)throw new TypeError("Schema for array path `"+K+"` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with `npm list mongoose`. If you are still getting this error, please add `new Schema()` around the path: "+"".concat(K,": new Schema(...)"));Ue=new me(Ue)}return new de.DocumentArray(K,Ue,ie)}if(Ue&&Ue[ye.typeKey]&&Ue[ye.typeKey].instanceOfSchema){if(!(Ue[ye.typeKey]instanceof me)){if(!this.options._isMerging)throw new TypeError("Schema for array path `"+K+"` is from a different copy of the Mongoose module. Please make sure you're using the same version of Mongoose everywhere with `npm list mongoose`. If you are still getting this error, please add `new Schema()` around the path: "+"".concat(K,": new Schema(...)"));Ue[ye.typeKey]=new me(Ue[ye.typeKey])}return new de.DocumentArray(K,Ue[ye.typeKey],ie,Ue)}if(Ue!==void 0&&(Array.isArray(Ue)||Ue.type===Array||Ue.type=="Array"))return Ue&&Ue.type=="Array"&&(Ue.type=Array),new de.Array(K,this.interpretAsType(K,Ue,ye),ie);var tt=Ue==null||!Ue[ye.typeKey]||ye.typeKey==="type"&&Ue.type.type?Ue:Ue[ye.typeKey];if(typeof Ue=="string")Ue=de[Ue.charAt(0).toUpperCase()+Ue.substring(1)];else if(H.isPOJO(tt)){if(Object.keys(tt).length){var xt={minimize:ye.minimize};ye.typeKey&&(xt.typeKey=ye.typeKey),ye.hasOwnProperty("strict")&&(xt.strict=ye.strict),ye.hasOwnProperty("strictQuery")&&(xt.strictQuery=ye.strictQuery),ye.hasOwnProperty("toObject")&&(xt.toObject=H.omit(ye.toObject,["transform"])),ye.hasOwnProperty("toJSON")&&(xt.toJSON=H.omit(ye.toJSON,["transform"])),this._userProvidedOptions.hasOwnProperty("_id")?xt._id=this._userProvidedOptions._id:me.Types.DocumentArray.defaultOptions._id!=null&&(xt._id=me.Types.DocumentArray.defaultOptions._id);var Tt=new me(tt,xt);return Tt.$implicitlyCreated=!0,new de.DocumentArray(K,Tt,ie)}return new de.Array(K,de.Mixed,ie)}if(Ue){if(ke=!Ue[ye.typeKey]||ye.typeKey==="type"&&Ue.type.type?Ue:Ue[ye.typeKey],Array.isArray(ke))return new de.Array(K,this.interpretAsType(K,ke,ye),ie);if((Ve=typeof ke=="string"?ke:ke.schemaName||H.getFunctionName(ke))==="ClockDate"&&(Ve="Date"),Ve===void 0)throw new TypeError("Invalid schema configuration: "+"Could not determine the embedded type for array `".concat(K,"`. ")+"See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.");if(!de.hasOwnProperty(Ve))throw new TypeError("Invalid schema configuration: "+"`".concat(Ve,"` is not a valid type within the array `").concat(K,"`.")+"See https://bit.ly/mongoose-schematypes for a list of valid schema types.")}return new de.Array(K,Ue||de.Mixed,ie,ye)}if(ke&&ke.instanceOfSchema)return new de.Subdocument(ke,K,ie);if((Ve=f.isBuffer(ke)?"Buffer":typeof ke=="function"||R(ke)==="object"?ke.schemaName||H.getFunctionName(ke):ke===De.ObjectId?"ObjectId":ke===De.Decimal128?"Decimal128":ke==null?""+ke:ke.toString())&&(Ve=Ve.charAt(0).toUpperCase()+Ve.substring(1)),Ve==="ObjectID"&&(Ve="ObjectId"),Ve==="ClockDate"&&(Ve="Date"),Ve===void 0)throw new TypeError("Invalid schema configuration: `".concat(K,"` schematype definition is ")+"invalid. See https://mongoosejs.com/docs/guide.html#definition for more info on supported schema syntaxes.");if(de[Ve]==null)throw new TypeError("Invalid schema configuration: `".concat(Ve,"` is not ")+"a valid type at path `".concat(K,"`. See ")+"https://bit.ly/mongoose-schematypes for a list of valid schema types.");var It=new de[Ve](K,ie);return It.$isSchemaMap&&function(_t,gn,Qt,nn,vn){var _n=Qt+".$*",Jt={type:{}};H.hasUserDefinedProperty(nn,"of")&&((Jt=H.isPOJO(nn.of)&&Object.keys(nn.of).length>0&&!H.hasUserDefinedProperty(nn.of,_t.options.typeKey)?b({},_t.options.typeKey,new me(nn.of)):H.isPOJO(nn.of)?Object.assign({},nn.of):b({},_t.options.typeKey,nn.of))[_t.options.typeKey]&&Jt[_t.options.typeKey].instanceOfSchema&&Jt[_t.options.typeKey].eachPath(function(nr,Xe){if(Xe.options.select===!0||Xe.options.select===!1)throw new T('Cannot use schema-level projections (`select: true` or `select: false`) within maps at path "'+Qt+"."+nr+'"')}),H.hasUserDefinedProperty(nn,"ref")&&(Jt.ref=nn.ref)),gn.$__schemaType=_t.interpretAsType(_n,Jt,vn)}(this,It,K,ie,ye),It},me.prototype.eachPath=function(K){for(var ie=Object.keys(this.paths),ye=ie.length,je=0;je<ye;++je)K(ie[je],this.paths[ie[je]]);return this},me.prototype.requiredPaths=function(K){if(this._requiredpaths&&!K)return this._requiredpaths;for(var ie=Object.keys(this.paths),ye=ie.length,je=[];ye--;){var de=ie[ye];this.paths[de].isRequired&&je.push(de)}return this._requiredpaths=je,this._requiredpaths},me.prototype.indexedPaths=function(){return this._indexedpaths||(this._indexedpaths=this.indexes()),this._indexedpaths},me.prototype.pathType=function(K){if(this.paths.hasOwnProperty(K))return"real";if(this.virtuals.hasOwnProperty(K))return"virtual";if(this.nested.hasOwnProperty(K))return"nested";var ie=L(K);if(this.subpaths.hasOwnProperty(ie)||this.subpaths.hasOwnProperty(K))return"real";var ye=this.singleNestedPaths.hasOwnProperty(ie)||this.singleNestedPaths.hasOwnProperty(K);return ye?ye==="nested"?"nested":"real":X(this,K)!=null?"real":/\.\d+\.|\.\d+$/.test(K)?oe(this,K,ie):"adhocOrUndefined"},me.prototype.hasMixedParent=function(K){var ie=K.split(/\./g);K="";for(var ye=0;ye<ie.length;++ye)if(K=ye>0?K+"."+ie[ye]:ie[ye],this.paths.hasOwnProperty(K)&&this.paths[K]instanceof S.Mixed)return this.paths[K];return null},me.prototype.setupTimestamp=function(K){return V(this,K)},me.prototype.queue=function(K,ie){return this.callQueue.push([K,ie]),this},me.prototype.pre=function(K){if(K instanceof RegExp){var ie,ye=Array.prototype.slice.call(arguments,1),je=_(ne);try{for(je.s();!(ie=je.n()).done;){var de=ie.value;K.test(de)&&this.pre.apply(this,[de].concat(ye))}}catch(Je){je.e(Je)}finally{je.f()}return this}if(Array.isArray(K)){var De,He=Array.prototype.slice.call(arguments,1),Ve=_(K);try{for(Ve.s();!(De=Ve.n()).done;){var ke=De.value;this.pre.apply(this,[ke].concat(He))}}catch(Je){Ve.e(Je)}finally{Ve.f()}return this}return this.s.hooks.pre.apply(this.s.hooks,arguments),this},me.prototype.post=function(K){if(K instanceof RegExp){var ie,ye=Array.prototype.slice.call(arguments,1),je=_(ne);try{for(je.s();!(ie=je.n()).done;){var de=ie.value;K.test(de)&&this.post.apply(this,[de].concat(ye))}}catch(Je){je.e(Je)}finally{je.f()}return this}if(Array.isArray(K)){var De,He=Array.prototype.slice.call(arguments,1),Ve=_(K);try{for(Ve.s();!(De=Ve.n()).done;){var ke=De.value;this.post.apply(this,[ke].concat(He))}}catch(Je){Ve.e(Je)}finally{Ve.f()}return this}return this.s.hooks.post.apply(this.s.hooks,arguments),this},me.prototype.plugin=function(K,ie){if(typeof K!="function")throw new Error('First param to `schema.plugin()` must be a function, got "'+R(K)+'"');if(ie&&ie.deduplicate){var ye,je=_(this.plugins);try{for(je.s();!(ye=je.n()).done;)if(ye.value.fn===K)return this}catch(de){je.e(de)}finally{je.f()}}return this.plugins.push({fn:K,opts:ie}),K(this,ie),this},me.prototype.method=function(K,ie,ye){if(typeof K!="string")for(var je in K)this.methods[je]=K[je],this.methodOptions[je]=P(ye);else this.methods[K]=ie,this.methodOptions[K]=P(ye);return this},me.prototype.static=function(K,ie){if(typeof K!="string")for(var ye in K)this.statics[ye]=K[ye];else this.statics[K]=ie;return this},me.prototype.index=function(K,ie){for(var ye in K||(K={}),ie||(ie={}),ie.expires&&H.expires(ie),K)this.aliases[ye]&&(K=H.renameObjKey(K,ye,this.aliases[ye]));for(var je=0,de=Object.keys(K);je<de.length;je++){var De=de[je];K[De]==="ascending"||K[De]==="asc"?K[De]=1:K[De]!=="descending"&&K[De]!=="desc"||(K[De]=-1)}var He,Ve=_(this.indexes());try{for(Ve.s();!(He=Ve.n()).done;){var ke=He.value;ie.name==null&&ke[1].name==null&&re(ke[0],K)&&H.warn("Duplicate schema index on ".concat(JSON.stringify(K),' found. This is often due to declaring an index using both "index: true" and "schema.index()". Please remove the duplicate index definition.'))}}catch(Je){Ve.e(Je)}finally{Ve.f()}return this._indexes.push([K,ie]),this},me.prototype.set=function(K,ie,ye){if(arguments.length===1)return this.options[K];switch(K){case"read":typeof ie=="string"?this.options[K]={mode:Z(ie),tags:ye}:Array.isArray(ie)&&typeof ie[0]=="string"?this.options[K]={mode:Z(ie[0]),tags:ie[1]}:this.options[K]=ie,this._userProvidedOptions[K]=this.options[K];break;case"timestamps":this.setupTimestamp(ie),this.options[K]=ie,this._userProvidedOptions[K]=this.options[K];break;case"_id":this.options[K]=ie,this._userProvidedOptions[K]=this.options[K],ie&&!this.paths._id?N(this):!ie&&this.paths._id!=null&&this.paths._id.auto&&this.remove("_id");break;default:this.options[K]=ie,this._userProvidedOptions[K]=this.options[K]}return K==="strict"&&Oe(this,{strict:ie}),K==="strictQuery"&&Oe(this,{strictQuery:ie}),K==="toObject"&&(delete(ie=j({},ie)).transform,Oe(this,{toObject:ie})),K==="toJSON"&&(delete(ie=j({},ie)).transform,Oe(this,{toJSON:ie})),this},me.prototype.get=function(K){return this.options[K]};var le="2d 2dsphere hashed text".split(" ");function pe(K,ie){var ye,je=ie.split("."),de=je.pop(),De=K.tree,He=_(je);try{for(He.s();!(ye=He.n()).done;)De=De[ye.value]}catch(Ve){He.e(Ve)}finally{He.f()}delete De[de]}function Ae(K){return K.startsWith("$[")&&K.endsWith("]")}Object.defineProperty(me,"indexTypes",{get:function(){return le},set:function(){throw new Error("Cannot overwrite Schema.indexTypes")}}),me.prototype.indexes=function(){return ee(this)},me.prototype.virtual=function(K,ie){if(K instanceof E||B(K)==="VirtualType")return this.virtual(K.path,K.options);if(ie=new v(ie),H.hasUserDefinedProperty(ie,["ref","refPath"])){if(ie.localField==null)throw new Error("Reference virtuals require `localField` option");if(ie.foreignField==null)throw new Error("Reference virtuals require `foreignField` option");var ye=this.virtual(K);ye.options=ie,this.pre("init",function(tt,xt){if(ge.has(K,tt)){var Tt=ge.get(K,tt);if(this.$$populatedVirtuals||(this.$$populatedVirtuals={}),ie.justOne||ie.count?this.$$populatedVirtuals[K]=Array.isArray(Tt)?Tt[0]:Tt:this.$$populatedVirtuals[K]=Array.isArray(Tt)?Tt:Tt==null?[]:[Tt],xt!=null&&xt.hydratedPopulatedDocs&&!ie.count){var It=ye._getModelNamesForPopulate(this),_t=this.$$populatedVirtuals[K];if(Array.isArray(_t)||_t.$__||(It==null?void 0:It.length)!==1){if(Array.isArray(_t)&&(It==null?void 0:It.length)===1){for(var gn=this.db.model(It[0]),Qt=0;Qt<_t.length;++Qt)_t[Qt].$__||(_t[Qt]=gn.hydrate(_t[Qt],null,{hydratedPopulatedDocs:!0}));var nn=ie.foreignField;this.$populated(K,_t.map(function(_n){return _n==null?_n:_n.get(typeof nn=="function"?nn.call(_n,_n):nn)}),{populateModelSymbol:gn})}}else{var vn=this.db.model(It[0]);this.$$populatedVirtuals[K]=vn.hydrate(_t)}}ge.unset(K,tt)}}),ye.set(function(tt){return this.$$populatedVirtuals||(this.$$populatedVirtuals={}),F(this.$$populatedVirtuals,K,tt,ie)}),typeof ie.get=="function"&&ye.get(ie.get);for(var je=K.split("."),de=je[0],De=0;De<je.length-1;++De)if(this.paths[de]!=null){if(this.paths[de].$isMongooseDocumentArray||this.paths[de].$isSingleNested){var He=je.slice(De+1).join(".");this.paths[de].schema.virtual(He,ie);break}if(this.paths[de].$isSchemaMap){var Ve=je.slice(De+2).join(".");this.paths[de].$__schemaType.schema.virtual(Ve,ie);break}de+="."+je[De+1]}return ye}var ke=this.virtuals,Je=K.split(".");if(this.pathType(K)==="real")throw new Error('Virtual path "'+K+'" conflicts with a real path in the schema');if(ke[K]=Je.reduce(function(tt,xt,Tt){return tt[xt]||(tt[xt]=Tt===Je.length-1?new E(ie,K):{}),tt[xt]},this.tree),ie&&ie.applyToArray&&Je.length>1){var Ue=this.path(Je.slice(0,-1).join("."));if(Ue&&Ue.$isMongooseArray)return Ue.virtual(Je[Je.length-1],ie);throw new T('Path "'.concat(Ue,'" is not an array'))}return ke[K]},me.prototype.virtualpath=function(K){return this.virtuals.hasOwnProperty(K)?this.virtuals[K]:null},me.prototype.remove=function(K){return typeof K=="string"&&(K=[K]),Array.isArray(K)&&K.forEach(function(ie){if(this.path(ie)!=null||this.nested[ie]){if(this.nested[ie]){var ye,je=_(Object.keys(this.paths).concat(Object.keys(this.nested)));try{for(je.s();!(ye=je.n()).done;){var de=ye.value;de.startsWith(ie+".")&&(delete this.paths[de],delete this.nested[de],pe(this,de))}}catch(De){je.e(De)}finally{je.f()}return delete this.nested[ie],void pe(this,ie)}delete this.paths[ie],pe(this,ie),this._removeEncryptedField(ie)}},this),this},me.prototype.removeVirtual=function(K){if(typeof K=="string"&&(K=[K]),Array.isArray(K)){var ie,ye=_(K);try{for(ye.s();!(ie=ye.n()).done;){var je=ie.value;if(this.virtuals[je]==null)throw new T('Attempting to remove virtual "'.concat(je,'" that does not exist.'))}}catch(Ve){ye.e(Ve)}finally{ye.f()}var de,De=_(K);try{for(De.s();!(de=De.n()).done;){var He=de.value;delete this.paths[He],delete this.virtuals[He],He.indexOf(".")!==-1?ge.unset(He,this.tree):delete this.tree[He]}}catch(Ve){De.e(Ve)}finally{De.f()}}return this},me.prototype.loadClass=function(K,ie){return K===Object.prototype||K===Function.prototype||K.prototype.hasOwnProperty("$isMongooseModelPrototype")||K.prototype.hasOwnProperty("$isMongooseDocumentPrototype")||(this.loadClass(Object.getPrototypeOf(K),ie),ie||Object.getOwnPropertyNames(K).forEach(function(ye){if(!ye.match(/^(length|name|prototype|constructor|__proto__)$/)){var je=Object.getOwnPropertyDescriptor(K,ye);je.hasOwnProperty("value")&&this.static(ye,je.value)}},this),Object.getOwnPropertyNames(K.prototype).forEach(function(ye){if(!ye.match(/^(constructor)$/)){var je=Object.getOwnPropertyDescriptor(K.prototype,ye);ie||typeof je.value=="function"&&this.method(ye,je.value),typeof je.get=="function"&&(this.virtuals[ye]&&(this.virtuals[ye].getters=[]),this.virtual(ye).get(je.get)),typeof je.set=="function"&&(this.virtuals[ye]&&(this.virtuals[ye].setters=[]),this.virtual(ye).set(je.set))}},this)),this},me.prototype._getSchema=function(K){var ie=this.path(K),ye=[];if(ie)return ie.$fullPath=K,ie;for(var je=K.split("."),de=0;de<je.length;++de)(je[de]==="$"||Ae(je[de]))&&(je[de]="0"),we.test(je[de])&&(je[de]="$");return function De(He,Ve){for(var ke,Je,Ue=He.length+1;Ue--;)if(Je=He.slice(0,Ue).join("."),ke=Ve.path(Je)){if(ye.push(Je),ke.caster){if(ke.caster instanceof S.Mixed)return ke.caster.$fullPath=ye.join("."),ke.caster;if(Ue!==He.length){if(Ue+1===He.length&&ke.$embeddedSchemaType&&(He[Ue]==="$"||Ae(He[Ue])))return ke.$embeddedSchemaType;if(ke.schema){var tt=void 0;return He[Ue]==="$"||Ae(He[Ue])?Ue+1===He.length?ke.$embeddedSchemaType:((tt=De(He.slice(Ue+1),ke.schema))&&(tt.$parentSchemaDocArray=tt.$parentSchemaDocArray||(ke.schema.$isSingleNested?null:ke)),tt):((tt=De(He.slice(Ue),ke.schema))&&(tt.$parentSchemaDocArray=tt.$parentSchemaDocArray||(ke.schema.$isSingleNested?null:ke)),tt)}}}else if(ke.$isSchemaMap){if(Ue>=He.length)return ke;if(Ue+1>=He.length||ke.$__schemaType instanceof S.Mixed)return ke.$__schemaType;if(ke.$__schemaType.schema!=null)return De(He.slice(Ue+1),ke.$__schemaType.schema)}return ke.$fullPath=ye.join("."),ke}}(je,this)},me.prototype._getPathType=function(K){return this.path(K)?"real":function ie(ye,je){for(var de,De,He=ye.length+1;He--;){if(De=ye.slice(0,He).join("."),de=je.path(De))return de.caster?de.caster instanceof S.Mixed?{schema:de,pathType:"mixed"}:He!==ye.length&&de.schema?ye[He]==="$"||Ae(ye[He])?He===ye.length-1?{schema:de,pathType:"nested"}:ie(ye.slice(He+1),de.schema):ie(ye.slice(He),de.schema):{schema:de,pathType:de.$isSingleNested?"nested":"array"}:{schema:de,pathType:"real"};if(He===ye.length&&je.nested[De])return{schema:je,pathType:"nested"}}return{schema:de||je,pathType:"undefined"}}(K.split("."),this)},me.prototype._transformDuplicateKeyError=function(K){if(!this._duplicateKeyErrorMessagesByPath||K.code!==11e3&&K.code!==11001)return K;if(K.keyPattern!=null){var ie=K.keyPattern,ye=Object.keys(ie);if(ye.length!==1)return K;var je=ye[0];return this._duplicateKeyErrorMessagesByPath.hasOwnProperty(je)?new T(this._duplicateKeyErrorMessagesByPath[je],{cause:K}):K}return K},me.prototype._preCompile=function(){this.plugin(te,{deduplicate:!0})},me.prototype.toJSONSchema=function(K){for(var ie,ye=(ie=K==null?void 0:K.useBsonType)!==null&&ie!==void 0&&ie,je=ye?{required:[],properties:{}}:{type:"object",required:[],properties:{}},de=0,De=Object.keys(this.paths);de<De.length;de++){var He=De[de],Ve=this.paths[He];if(Ve._presplitPath.indexOf("$*")===-1){var ke=je;if(Ve._presplitPath.length>1)for(var Je=0;Je<Ve._presplitPath.length-1;++Je){var Ue=Ve._presplitPath[Je];ke.properties[Ue]==null&&(ke.properties[Ue]=ye?{bsonType:["object","null"],properties:{}}:{type:["object","null"],properties:{}}),ke=ke.properties[Ue]}var tt=Ve._presplitPath[Ve._presplitPath.length-1],xt=!1;He==="_id"?(ke.required||(ke.required=[]),ke.required.push("_id"),xt=!0):Ve.options.required&&typeof Ve.options.required!="function"&&(ke.required||(ke.required=[]),ke.required.push(tt),xt=!0),ke.properties[tt]=Ve.toJSONSchema(K),Ve.options.enum&&(ke.properties[tt].enum=xt?Ve.options.enum:[].concat(h(Ve.options.enum),[null]))}}return je.required.length===0&&delete je.required,je},u.exports=c=me,me.Types=S=s(7953),c.ObjectId=S.ObjectId},7160:(u,c)=>{c.schemaMixedSymbol=Symbol.for("mongoose:schema_mixed"),c.builtInMiddleware=Symbol.for("mongoose:built-in-middleware")},7219:(u,c,s)=>{function f(x){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},f(x)}function h(x,A){for(var T=0;T<A.length;T++){var C=A[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(x,m(C.key),C)}}function m(x){var A=function(T){if(f(T)!="object"||!T)return T;var C=T[Symbol.toPrimitive];if(C!==void 0){var w=C.call(T,"string");if(f(w)!="object")return w;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(T)}(x);return f(A)=="symbol"?A:A+""}function j(){try{var x=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j=function(){return!!x})()}function b(x){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(A){return A.__proto__||Object.getPrototypeOf(A)},b(x)}function R(x,A){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(T,C){return T.__proto__=C,T},R(x,A)}var d=s(8213),_=s(2900),$=s(4070),g=s(5497),S=function(x){function A(){return function(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}(this,A),function(w,v,E){return v=b(v),function(N,P){if(P&&(f(P)=="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(I){if(I===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I}(N)}(w,j()?Reflect.construct(v,E||[],b(w).constructor):v.apply(w,E))}(this,A,arguments)}return function(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),Object.defineProperty(w,"prototype",{writable:!1}),v&&R(w,v)}(A,x),T=A,(C=[{key:"assimilateError",value:function(w){var v=w.reason,E=$(v)&&_(v)&&w.message.indexOf("bad auth")===-1&&w.message.indexOf("Authentication failed")===-1;for(var N in E?this.message="Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/":g(v)?this.message="Mongoose is connecting with SSL enabled, but the server is not accepting SSL connections. Please ensure that the MongoDB server you are connecting to is configured to accept SSL connections. Learn more: https://mongoosejs.com/docs/tutorials/ssl.html":this.message=w.message,w)N!=="name"&&(this[N]=w[N]);return this.cause=v,this}}])&&h(T.prototype,C),Object.defineProperty(T,"prototype",{writable:!1}),T;var T,C}(d);Object.defineProperty(S.prototype,"name",{value:"MongooseServerSelectionError"}),u.exports=S},7236:u=>{function c(s){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},c(s)}u.exports=function(s){if(s==null||c(s)!=="object")return s;if(Array.isArray(s))for(var f=s.length-1;f>=0;--f)s[f]===void 0&&s.splice(f,1);for(var h=0,m=Object.keys(s);h<m.length;h++){var j=m[h];s[j]===void 0&&delete s[j]}return s}},7291:(u,c)=>{function s(h){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},s(h)}var f=Symbol("mongoose#trustedSymbol");c.trustedSymbol=f,c.trusted=function(h){return h==null||s(h)!=="object"||(h[f]=!0),h}},7300:u=>{function c(s){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},c(s)}u.exports=function(s){return s==null||c(s)!=="object"||!("$meta"in s)&&!("$slice"in s)}},7352:(u,c,s)=>{function f(V){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},f(V)}var h=Object.getOwnPropertyDescriptors||function(V){for(var H=Object.keys(V),W={},z=0;z<H.length;z++)W[H[z]]=Object.getOwnPropertyDescriptor(V,H[z]);return W},m=/%[sdj%]/g;c.format=function(V){if(!v(V)){for(var H=[],W=0;W<arguments.length;W++)H.push(d(arguments[W]));return H.join(" ")}W=1;for(var z=arguments,M=z.length,q=String(V).replace(m,function(fe){if(fe==="%%")return"%";if(W>=M)return fe;switch(fe){case"%s":return String(z[W++]);case"%d":return Number(z[W++]);case"%j":try{return JSON.stringify(z[W++])}catch{return"[Circular]"}default:return fe}}),ne=z[W];W<M;ne=z[++W])C(ne)||!P(ne)?q+=" "+ne:q+=" "+d(ne);return q},c.deprecate=function(V,H){if({}.noDeprecation===!0)return V;var W=!1;return function(){if(!W){if({}.throwDeprecation)throw new Error(H);({}).traceDeprecation?console.trace(H):console.error(H),W=!0}return V.apply(this,arguments)}};var j={},b=/^$/;if({}.NODE_DEBUG){var R={}.NODE_DEBUG;R=R.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),b=new RegExp("^"+R+"$","i")}function d(V,H){var W={seen:[],stylize:$};return arguments.length>=3&&(W.depth=arguments[2]),arguments.length>=4&&(W.colors=arguments[3]),T(H)?W.showHidden=H:H&&c._extend(W,H),E(W.showHidden)&&(W.showHidden=!1),E(W.depth)&&(W.depth=2),E(W.colors)&&(W.colors=!1),E(W.customInspect)&&(W.customInspect=!0),W.colors&&(W.stylize=_),g(W,V,W.depth)}function _(V,H){var W=d.styles[H];return W?"\x1B["+d.colors[W][0]+"m"+V+"\x1B["+d.colors[W][1]+"m":V}function $(V,H){return V}function g(V,H,W){if(V.customInspect&&H&&ee(H.inspect)&&H.inspect!==c.inspect&&(!H.constructor||H.constructor.prototype!==H)){var z=H.inspect(W,V);return v(z)||(z=g(V,z,W)),z}var M=function(_e,L){if(E(L))return _e.stylize("undefined","undefined");if(v(L)){var X="'"+JSON.stringify(L).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return _e.stylize(X,"string")}return w(L)?_e.stylize(""+L,"number"):T(L)?_e.stylize(""+L,"boolean"):C(L)?_e.stylize("null","null"):void 0}(V,H);if(M)return M;var q=Object.keys(H),ne=function(_e){var L={};return _e.forEach(function(X,oe){L[X]=!0}),L}(q);if(V.showHidden&&(q=Object.getOwnPropertyNames(H)),B(H)&&(q.indexOf("message")>=0||q.indexOf("description")>=0))return S(H);if(q.length===0){if(ee(H)){var fe=H.name?": "+H.name:"";return V.stylize("[Function"+fe+"]","special")}if(N(H))return V.stylize(RegExp.prototype.toString.call(H),"regexp");if(I(H))return V.stylize(Date.prototype.toString.call(H),"date");if(B(H))return S(H)}var ve,we="",me=!1,ue=["{","}"];return A(H)&&(me=!0,ue=["[","]"]),ee(H)&&(we=" [Function"+(H.name?": "+H.name:"")+"]"),N(H)&&(we=" "+RegExp.prototype.toString.call(H)),I(H)&&(we=" "+Date.prototype.toUTCString.call(H)),B(H)&&(we=" "+S(H)),q.length!==0||me&&H.length!=0?W<0?N(H)?V.stylize(RegExp.prototype.toString.call(H),"regexp"):V.stylize("[Object]","special"):(V.seen.push(H),ve=me?function(_e,L,X,oe,Oe){for(var le=[],pe=0,Ae=L.length;pe<Ae;++pe)ce(L,String(pe))?le.push(x(_e,L,X,oe,String(pe),!0)):le.push("");return Oe.forEach(function(K){K.match(/^\d+$/)||le.push(x(_e,L,X,oe,K,!0))}),le}(V,H,W,ne,q):q.map(function(_e){return x(V,H,W,ne,_e,me)}),V.seen.pop(),function(_e,L,X){return _e.reduce(function(oe,Oe){return Oe.indexOf(`
`),oe+Oe.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?X[0]+(L===""?"":L+`
 `)+" "+_e.join(`,
  `)+" "+X[1]:X[0]+L+" "+_e.join(", ")+" "+X[1]}(ve,we,ue)):ue[0]+we+ue[1]}function S(V){return"["+Error.prototype.toString.call(V)+"]"}function x(V,H,W,z,M,q){var ne,fe,ve;if((ve=Object.getOwnPropertyDescriptor(H,M)||{value:H[M]}).get?fe=ve.set?V.stylize("[Getter/Setter]","special"):V.stylize("[Getter]","special"):ve.set&&(fe=V.stylize("[Setter]","special")),ce(z,M)||(ne="["+M+"]"),fe||(V.seen.indexOf(ve.value)<0?(fe=C(W)?g(V,ve.value,null):g(V,ve.value,W-1)).indexOf(`
`)>-1&&(fe=q?fe.split(`
`).map(function(we){return"  "+we}).join(`
`).slice(2):`
`+fe.split(`
`).map(function(we){return"   "+we}).join(`
`)):fe=V.stylize("[Circular]","special")),E(ne)){if(q&&M.match(/^\d+$/))return fe;(ne=JSON.stringify(""+M)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(ne=ne.slice(1,-1),ne=V.stylize(ne,"name")):(ne=ne.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ne=V.stylize(ne,"string"))}return ne+": "+fe}function A(V){return Array.isArray(V)}function T(V){return typeof V=="boolean"}function C(V){return V===null}function w(V){return typeof V=="number"}function v(V){return typeof V=="string"}function E(V){return V===void 0}function N(V){return P(V)&&Z(V)==="[object RegExp]"}function P(V){return f(V)==="object"&&V!==null}function I(V){return P(V)&&Z(V)==="[object Date]"}function B(V){return P(V)&&(Z(V)==="[object Error]"||V instanceof Error)}function ee(V){return typeof V=="function"}function Z(V){return Object.prototype.toString.call(V)}function te(V){return V<10?"0"+V.toString(10):V.toString(10)}c.debuglog=function(V){if(V=V.toUpperCase(),!j[V])if(b.test(V)){var H={}.pid;j[V]=function(){var W=c.format.apply(c,arguments);console.error("%s %d: %s",V,H,W)}}else j[V]=function(){};return j[V]},c.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},c.types=s(7595),c.isArray=A,c.isBoolean=T,c.isNull=C,c.isNullOrUndefined=function(V){return V==null},c.isNumber=w,c.isString=v,c.isSymbol=function(V){return f(V)==="symbol"},c.isUndefined=E,c.isRegExp=N,c.types.isRegExp=N,c.isObject=P,c.isDate=I,c.types.isDate=I,c.isError=B,c.types.isNativeError=B,c.isFunction=ee,c.isPrimitive=function(V){return V===null||typeof V=="boolean"||typeof V=="number"||typeof V=="string"||f(V)==="symbol"||V===void 0},c.isBuffer=s(7944);var re=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ce(V,H){return Object.prototype.hasOwnProperty.call(V,H)}c.log=function(){var V,H;console.log("%s - %s",(H=[te((V=new Date).getHours()),te(V.getMinutes()),te(V.getSeconds())].join(":"),[V.getDate(),re[V.getMonth()],H].join(" ")),c.format.apply(c,arguments))},c.inherits=s(1679),c._extend=function(V,H){if(!H||!P(H))return V;for(var W=Object.keys(H),z=W.length;z--;)V[W[z]]=H[W[z]];return V};var ge=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function F(V,H){if(!V){var W=new Error("Promise was rejected with a falsy value");W.reason=V,V=W}return H(V)}c.promisify=function(V){if(typeof V!="function")throw new TypeError('The "original" argument must be of type Function');if(ge&&V[ge]){var H;if(typeof(H=V[ge])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(H,ge,{value:H,enumerable:!1,writable:!1,configurable:!0}),H}function H(){for(var W,z,M=new Promise(function(fe,ve){W=fe,z=ve}),q=[],ne=0;ne<arguments.length;ne++)q.push(arguments[ne]);q.push(function(fe,ve){fe?z(fe):W(ve)});try{V.apply(this,q)}catch(fe){z(fe)}return M}return Object.setPrototypeOf(H,Object.getPrototypeOf(V)),ge&&Object.defineProperty(H,ge,{value:H,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(H,h(V))},c.promisify.custom=ge,c.callbackify=function(V){if(typeof V!="function")throw new TypeError('The "original" argument must be of type Function');function H(){for(var W=[],z=0;z<arguments.length;z++)W.push(arguments[z]);var M=W.pop();if(typeof M!="function")throw new TypeError("The last argument must be of type Function");var q=this,ne=function(){return M.apply(q,arguments)};V.apply(this,W).then(function(fe){({env:{}}).nextTick(ne.bind(null,null,fe))},function(fe){({env:{}}).nextTick(F.bind(null,fe,ne))})}return Object.setPrototypeOf(H,Object.getPrototypeOf(V)),Object.defineProperties(H,h(V)),H}},7425:(u,c,s)=>{var f=s(2696);u.exports=function(h,m){if(h==null||h.discriminators==null)return null;for(var j=0,b=Object.keys(h.discriminators);j<b.length;j++){var R=b[j],d=h.discriminators[R];if(d.discriminatorMapping!=null&&f(d.discriminatorMapping.value,m))return d}return null}},7430:(u,c,s)=>{var f=s(5832).hp;function h(d){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},h(d)}var m=s(6353).Binary,j=s(3305),b=s(2497);s(3672),s(7352);function R(d){return d&&h(d)==="object"&&!(d instanceof Date)&&!j(d,"ObjectId")&&(!Array.isArray(d)||d.length!==0)&&!(d instanceof f)&&!j(d,"Decimal128")&&!(d instanceof m)}c.B=function d(_,$,g,S){var x,A=(x=_&&b(_)&&!f.isBuffer(_)?Object.keys(_.toObject({transform:!1,virtuals:!1})||{}):Object.keys(_||{})).length,T={};$=$?$+".":"";for(var C=0;C<A;++C){var w=x[C],v=_[w];T[$+w]=v;var E=S&&S.path&&S.path($+w),N=S&&S.nested&&S.nested[$+w];if(!E||E.instance!=="Mixed"){if(R(v)){if(g&&g.skipArrays&&Array.isArray(v))continue;var P=d(v,$+w,g,S);for(var I in P)T[I]=P[I];Array.isArray(v)&&(T[$+w]=v)}if(N)for(var B=0,ee=Object.keys(S.paths);B<ee.length;B++){var Z=ee[B];Z.startsWith($+w+".")&&!T.hasOwnProperty(Z)&&(T[Z]=void 0)}}}return T}},7494:(u,c,s)=>{function f(d){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},f(d)}function h(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!d})()}function m(d){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},m(d)}function j(d,_){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,g){return $.__proto__=g,$},j(d,_)}var b=function(d){function _(){return function(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,_),function(g,S,x){return S=m(S),function(A,T){if(T&&(f(T)=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(A)}(g,h()?Reflect.construct(S,x||[],m(g).constructor):S.apply(g,x))}(this,_,arguments)}return function(g,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(S&&S.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),S&&j(g,S)}(_,d),$=_,Object.defineProperty($,"prototype",{writable:!1}),$;var $}(s(8879)),R=s(5761);Object.defineProperty(b.prototype,"_id",R),Object.defineProperty(b.prototype,"minimize",R),u.exports=b},7557:(u,c,s)=>{function f(S){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},f(S)}function h(S,x,A){return(x=function(T){var C=function(w){if(f(w)!="object"||!w)return w;var v=w[Symbol.toPrimitive];if(v!==void 0){var E=v.call(w,"string");if(f(E)!="object")return E;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}(T);return f(C)=="symbol"?C:C+""}(x))in S?Object.defineProperty(S,x,{value:A,enumerable:!0,configurable:!0,writable:!0}):S[x]=A,S}var m=s(8920),j=s(7930).arrayAtomicsSymbol,b=s(7930).arrayAtomicsBackupSymbol,R=s(7930).arrayParentSymbol,d=s(7930).arrayPathSymbol,_=s(7930).arraySchemaSymbol,$=Array.prototype.push,g=/^\d+$/;u.exports=function(S,x,A,T){var C;if(Array.isArray(S)){var w=S.length;if(w===0)C=new Array;else if(w===1)(C=new Array(1))[0]=S[0];else if(w<1e4)C=new Array,$.apply(C,S);else{C=new Array;for(var v=0;v<w;++v)$.call(C,S[v])}}else C=[];var E=h(h(h(h(h(h(h(h({},j,{}),b,void 0),d,x),_,T),R,void 0),"isMongooseArray",!0),"isMongooseArrayProxy",!0),"__array",C);S&&S[j]!=null&&(E[j]=S[j]),A!=null&&A.$__&&(E[R]=A,E[_]=T||A.schema.path(x));var N=new Proxy(C,{get:function(P,I){return E.hasOwnProperty(I)?E[I]:m.hasOwnProperty(I)?m[I]:T&&T.virtuals&&T.virtuals.hasOwnProperty(I)?T.virtuals[I].applyGetters(void 0,P):typeof I=="string"&&g.test(I)&&(T==null?void 0:T.$embeddedSchemaType)!=null?T.$embeddedSchemaType.applyGetters(C[I],A):C[I]},set:function(P,I,B){return typeof I=="string"&&g.test(I)?m.set.call(N,I,B,!1):E.hasOwnProperty(I)?E[I]=B:T&&T.virtuals&&T.virtuals.hasOwnProperty(I)?T.virtuals[I].applySetters(B,P):C[I]=B,!0}});return N}},7591:u=>{var c=null;u.exports.get=function(){return c},u.exports.set=function(s){c=s}},7595:(u,c,s)=>{function f(W){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(z){return typeof z}:function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},f(W)}var h=s(5899),m=s(1905),j=s(9834),b=s(7911);function R(W){return W.call.bind(W)}var d=typeof BigInt<"u",_=typeof Symbol<"u",$=R(Object.prototype.toString),g=R(Number.prototype.valueOf),S=R(String.prototype.valueOf),x=R(Boolean.prototype.valueOf);if(d)var A=R(BigInt.prototype.valueOf);if(_)var T=R(Symbol.prototype.valueOf);function C(W,z){if(f(W)!=="object")return!1;try{return z(W),!0}catch{return!1}}function w(W){return $(W)==="[object Map]"}function v(W){return $(W)==="[object Set]"}function E(W){return $(W)==="[object WeakMap]"}function N(W){return $(W)==="[object WeakSet]"}function P(W){return $(W)==="[object ArrayBuffer]"}function I(W){return typeof ArrayBuffer<"u"&&(P.working?P(W):W instanceof ArrayBuffer)}function B(W){return $(W)==="[object DataView]"}function ee(W){return typeof DataView<"u"&&(B.working?B(W):W instanceof DataView)}c.isArgumentsObject=h,c.isGeneratorFunction=m,c.isTypedArray=b,c.isPromise=function(W){return typeof Promise<"u"&&W instanceof Promise||W!==null&&f(W)==="object"&&typeof W.then=="function"&&typeof W.catch=="function"},c.isArrayBufferView=function(W){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(W):b(W)||ee(W)},c.isUint8Array=function(W){return j(W)==="Uint8Array"},c.isUint8ClampedArray=function(W){return j(W)==="Uint8ClampedArray"},c.isUint16Array=function(W){return j(W)==="Uint16Array"},c.isUint32Array=function(W){return j(W)==="Uint32Array"},c.isInt8Array=function(W){return j(W)==="Int8Array"},c.isInt16Array=function(W){return j(W)==="Int16Array"},c.isInt32Array=function(W){return j(W)==="Int32Array"},c.isFloat32Array=function(W){return j(W)==="Float32Array"},c.isFloat64Array=function(W){return j(W)==="Float64Array"},c.isBigInt64Array=function(W){return j(W)==="BigInt64Array"},c.isBigUint64Array=function(W){return j(W)==="BigUint64Array"},w.working=typeof Map<"u"&&w(new Map),c.isMap=function(W){return typeof Map<"u"&&(w.working?w(W):W instanceof Map)},v.working=typeof Set<"u"&&v(new Set),c.isSet=function(W){return typeof Set<"u"&&(v.working?v(W):W instanceof Set)},E.working=typeof WeakMap<"u"&&E(new WeakMap),c.isWeakMap=function(W){return typeof WeakMap<"u"&&(E.working?E(W):W instanceof WeakMap)},N.working=typeof WeakSet<"u"&&N(new WeakSet),c.isWeakSet=function(W){return N(W)},P.working=typeof ArrayBuffer<"u"&&P(new ArrayBuffer),c.isArrayBuffer=I,B.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&B(new DataView(new ArrayBuffer(1),0,1)),c.isDataView=ee;var Z=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function te(W){return $(W)==="[object SharedArrayBuffer]"}function re(W){return Z!==void 0&&(te.working===void 0&&(te.working=te(new Z)),te.working?te(W):W instanceof Z)}function ce(W){return C(W,g)}function ge(W){return C(W,S)}function F(W){return C(W,x)}function V(W){return d&&C(W,A)}function H(W){return _&&C(W,T)}c.isSharedArrayBuffer=re,c.isAsyncFunction=function(W){return $(W)==="[object AsyncFunction]"},c.isMapIterator=function(W){return $(W)==="[object Map Iterator]"},c.isSetIterator=function(W){return $(W)==="[object Set Iterator]"},c.isGeneratorObject=function(W){return $(W)==="[object Generator]"},c.isWebAssemblyCompiledModule=function(W){return $(W)==="[object WebAssembly.Module]"},c.isNumberObject=ce,c.isStringObject=ge,c.isBooleanObject=F,c.isBigIntObject=V,c.isSymbolObject=H,c.isBoxedPrimitive=function(W){return ce(W)||ge(W)||F(W)||V(W)||H(W)},c.isAnyArrayBuffer=function(W){return typeof Uint8Array<"u"&&(I(W)||re(W))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(W){Object.defineProperty(c,W,{enumerable:!1,value:function(){throw new Error(W+" is not supported in userland")}})})},7760:(u,c,s)=>{function f(z,M){var q=Object.keys(z);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(z);M&&(ne=ne.filter(function(fe){return Object.getOwnPropertyDescriptor(z,fe).enumerable})),q.push.apply(q,ne)}return q}function h(z){for(var M=1;M<arguments.length;M++){var q=arguments[M]!=null?arguments[M]:{};M%2?f(Object(q),!0).forEach(function(ne){m(z,ne,q[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(q)):f(Object(q)).forEach(function(ne){Object.defineProperty(z,ne,Object.getOwnPropertyDescriptor(q,ne))})}return z}function m(z,M,q){return(M=function(ne){var fe=function(ve){if(b(ve)!="object"||!ve)return ve;var we=ve[Symbol.toPrimitive];if(we!==void 0){var me=we.call(ve,"string");if(b(me)!="object")return me;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ve)}(ne);return b(fe)=="symbol"?fe:fe+""}(M))in z?Object.defineProperty(z,M,{value:q,enumerable:!0,configurable:!0,writable:!0}):z[M]=q,z}function j(z,M){(M==null||M>z.length)&&(M=z.length);for(var q=0,ne=Array(M);q<M;q++)ne[q]=z[q];return ne}function b(z){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},b(z)}var R,d,_=s(8499),$=s(2555),g=s(8213),S=s(4592),x=s(6426),A=x.CastError,T=s(5022),C=s(2069),w=s(622),v=s(2073),E=s(7982),N=s(4450),P=s(8260),I=s(5110),B=s(7352),ee=s(8768),Z=s(5558).G,te=s(4327),re=s(9604),ce=s(1058),ge=Symbol("mongoose#isNestedArray"),F=Object.freeze({});function V(z,M,q,ne){d||(d=s(9600).Embedded);var fe,ve,we="type";if(ne&&ne.typeKey&&(we=ne.typeKey),this.schemaOptions=ne,M){var me={};ee.isPOJO(M)&&(M[we]?(delete(me=N(M))[we],M=M[we]):M=T),q!=null&&q.ref!=null&&me.ref==null&&(me.ref=q.ref),M===Object&&(M=T);var ue=typeof M=="string"?M:ee.getFunctionName(M),_e=s(7953),L=_e.hasOwnProperty(ue)?_e[ue]:M;if(this.casterConstructor=L,this.casterConstructor instanceof V&&(this.casterConstructor[ge]=!0),typeof L!="function"||L.$isArraySubdocument||L.$isSchemaMap)this.caster=L,this.caster instanceof d||(this.caster.path=z);else{var X=this.caster instanceof d?null:z;this.caster=new L(X,me)}this.$embeddedSchemaType=this.caster}if(this.$isMongooseArray=!0,x.call(this,z,q,"Array"),this.defaultValue!=null&&(fe=this.defaultValue,ve=typeof fe=="function"),!("defaultValue"in this)||this.defaultValue!=null){var oe=function(){return ve?fe.call(this):fe!=null?[].concat(fe):[]};oe.$runBeforeSetters=!ve,this.default(oe)}}V.schemaName="Array",V.options={castNonArrays:!0},V.defaultOptions={},V.set=x.set,V.setters=[],V.get=x.get,V.prototype=Object.create(x.prototype),V.prototype.constructor=V,V.prototype.OptionsConstructor=S,V._checkRequired=x.prototype.checkRequired,V.checkRequired=x.checkRequired,V.prototype.virtuals=null,V.prototype.checkRequired=function(z,M){return b(z)==="object"&&x._isRef(this,z,M,!0)?!!z:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():V.checkRequired())(z)},V.prototype.enum=function(){for(var z=this;;){var M=z&&z.caster&&z.caster.instance;if(M!=="Array"){if(M!=="String"&&M!=="Number")throw new Error("`enum` can only be set on an array of strings or numbers , not "+M);break}z=z.caster}var q=arguments;return!Array.isArray(arguments)&&ee.isObject(arguments)&&(q=ee.object.vals(q)),z.caster.enum.apply(z.caster,q),this},V.prototype.applyGetters=function(z,M){return M!=null&&M.$__!=null&&M.$populated(this.path)?z:x.prototype.applyGetters.call(this,z,M)},V.prototype._applySetters=function(z,M,q,ne){if(this.casterConstructor.$isMongooseArray&&V.options.castNonArrays&&!this[ge]){for(var fe=0,ve=this;ve!=null&&ve.$isMongooseArray&&!ve.$isMongooseDocumentArray;)++fe,ve=ve.casterConstructor;if(z!=null&&z.length!==0){var we=v(z);if(we.min===we.max&&we.max<fe&&we.containsNonArrayItem)for(var me=we.max;me<fe;++me)z=[z]}}return x.prototype._applySetters.call(this,z,M,q,ne)},V.prototype.cast=function(z,M,q,ne,fe){var ve,we;if(R||(R=s(9600).Array),Array.isArray(z)){if(!z.length&&M){var me=M.schema.indexedPaths(),ue=this.path;for(ve=0,we=me.length;ve<we;++ve){var _e=me[ve][0][ue];if(_e==="2dsphere"||_e==="2d")return}var L=this.path.endsWith(".coordinates")?this.path.substring(0,this.path.lastIndexOf(".")):null;if(L!=null){for(ve=0,we=me.length;ve<we;++ve)if(me[ve][0][L]==="2dsphere")return}}fe=fe||F;var X=ee.isMongooseArray(z)?z.__array:z,oe=fe.path||this.path;if(fe.arrayPathIndex!=null&&(oe+="."+fe.arrayPathIndex),X=(z=R(X,oe,M,this)).__array,q&&M!=null&&M.$__!=null&&M.$populated(this.path))return z;var Oe=this.caster,le=Oe.$isMongooseArray;if(Oe&&this.casterConstructor!==T)try{var pe=X.length;for(ve=0;ve<pe;ve++){var Ae={};le&&(fe.arrayPath!=null||Oe._arrayParentPath!=null)&&(Ae.arrayPathIndex=ve),fe.hydratedPopulatedDocs&&(Ae.hydratedPopulatedDocs=fe.hydratedPopulatedDocs),X[ve]=Oe.applySetters(X[ve],M,q,void 0,Ae)}}catch(ie){throw new A("["+ie.kind+"]",B.inspect(z),this.path+"."+ve,ie,this)}return z}var K=this.options.castNonArrays!=null?this.options.castNonArrays:V.options.castNonArrays;if(q||K)return M&&q&&M.markModified(this.path),this.cast([z],M,q);throw new A("Array",B.inspect(z),this.path,null,this)},V.prototype._castForPopulate=function(z,M){if(R||(R=s(9600).Array),Array.isArray(z)){var q,ne=z.__array?z.__array:z,fe=ne.length,ve=this.caster;if(ve&&this.casterConstructor!==T)try{for(q=0;q<fe;q++){var we={};ve.$isMongooseArray&&ve._arrayParentPath!=null&&(we.arrayPathIndex=q),ne[q]=ve.cast(ne[q],M,!1,void 0,we)}}catch(me){throw new A("["+me.kind+"]",B.inspect(z),this.path+"."+q,me,this)}return z}throw new A("Array",B.inspect(z),this.path,null,this)},V.prototype.$toObject=V.prototype.toObject,V.prototype.discriminator=function(){for(var z,M=this;M.$isMongooseArray&&!M.$isMongooseDocumentArray;)if((M=M.casterConstructor)==null||typeof M=="function")throw new g("You can only add an embedded discriminator on a document array, "+this.path+" is a plain array");return(z=M).discriminator.apply(z,arguments)},V.prototype.clone=function(){var z=Object.assign({},this.options),M=new this.constructor(this.path,this.caster,z,this.schemaOptions);return M.validators=this.validators.slice(),this.requiredValidator!==void 0&&(M.requiredValidator=this.requiredValidator),M},V.prototype._castForQuery=function(z,M){var q=this,ne=this.casterConstructor;if(z&&ne.discriminators&&ne.schema&&ne.schema.options&&ne.schema.options.discriminatorKey)if(typeof z[ne.schema.options.discriminatorKey]=="string"&&ne.discriminators[z[ne.schema.options.discriminatorKey]])ne=ne.discriminators[z[ne.schema.options.discriminatorKey]];else{var fe=ce(ne.discriminators,z[ne.schema.options.discriminatorKey]);fe&&(ne=fe)}var ve=this.casterConstructor.prototype,we=ve&&ve.castForQuery,me=ve&&ve.cast,ue=ne.castForQuery,_e=this.caster;return Array.isArray(z)?(this.setters.reverse().forEach(function(L){z=L.call(q,z,q)}),z=z.map(function(L){return ee.isObject(L)&&L.$elemMatch?L:we?L=we.call(_e,null,L,M):me?L=me.call(_e,L):ue?L=ue.call(_e,null,L,M):L!=null?L=new ne(L):L})):we?z=we.call(_e,null,z,M):me?z=me.call(_e,z):ue?z=ue.call(_e,null,z,M):z!=null&&(z=new ne(z)),z},V.prototype.castForQuery=function(z,M,q){var ne;if(z!=null){if(!(ne=this.$conditionalHandlers[z]))throw new Error("Can't use "+z+" with Array.");return ne.call(this,M,q)}return this._castForQuery(M,q)},V.prototype.virtual=function(z,M){if(z instanceof w||P(z)==="VirtualType")return this.virtual(z.path,z.options);if(M=new C(M),ee.hasUserDefinedProperty(M,["ref","refPath"]))throw new g("Cannot set populate virtual as a property of an array");var q=new w(M,z);return this.virtuals===null&&(this.virtuals={}),this.virtuals[z]=q,q};var H=V.prototype.$conditionalHandlers={};function W(z){return function(M,q){if(!Array.isArray(M))throw new TypeError("conditional "+z+" requires an array");var ne,fe=[],ve=function(ue,_e){var L=typeof Symbol<"u"&&ue[Symbol.iterator]||ue["@@iterator"];if(!L){if(Array.isArray(ue)||(L=function(Ae,K){if(Ae){if(typeof Ae=="string")return j(Ae,K);var ie={}.toString.call(Ae).slice(8,-1);return ie==="Object"&&Ae.constructor&&(ie=Ae.constructor.name),ie==="Map"||ie==="Set"?Array.from(Ae):ie==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ie)?j(Ae,K):void 0}}(ue))||_e){L&&(ue=L);var X=0,oe=function(){};return{s:oe,n:function(){return X>=ue.length?{done:!0}:{done:!1,value:ue[X++]}},e:function(Ae){throw Ae},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Oe,le=!0,pe=!1;return{s:function(){L=L.call(ue)},n:function(){var Ae=L.next();return le=Ae.done,Ae},e:function(Ae){pe=!0,Oe=Ae},f:function(){try{le||L.return==null||L.return()}finally{if(pe)throw Oe}}}}(M);try{for(ve.s();!(ne=ve.n()).done;){var we,me=ne.value;fe.push(E((we=this.casterConstructor.schema)!==null&&we!==void 0?we:q.schema,me,null,this&&this.$$context))}}catch(ue){ve.e(ue)}finally{ve.f()}return fe}}H.$all=function(z,M){var q=this;return Array.isArray(z)||(z=[z]),z=z.map(function(ne){if(!ee.isObject(ne))return ne;if(ne.$elemMatch!=null)return{$elemMatch:E(q.casterConstructor.schema,ne.$elemMatch,null,q&&q.$$context)};var fe={};return fe[q.path]=ne,E(q.casterConstructor.schema,fe,null,q&&q.$$context)[q.path]},this),this.castForQuery(null,z,M)},H.$options=String,H.$elemMatch=function(z,M){for(var q=Object.keys(z),ne=q.length,fe=0;fe<ne;++fe){var ve=q[fe],we=z[ve];I(ve)&&we!=null&&(z[ve]=this.castForQuery(ve,we,M))}return z},H.$geoIntersects=re.cast$geoIntersects,H.$or=W("$or"),H.$and=W("$and"),H.$nor=W("$nor"),H.$near=H.$nearSphere=re.cast$near,H.$within=H.$geoWithin=re.cast$within,H.$size=H.$minDistance=H.$maxDistance=Z,H.$exists=_,H.$type=$,H.$eq=H.$gt=H.$gte=H.$lt=H.$lte=H.$not=H.$regex=H.$ne=V.prototype._castForQuery,H.$nin=x.prototype.$conditionalHandlers.$nin,H.$in=x.prototype.$conditionalHandlers.$in,V.prototype.toJSONSchema=function(z){var M=this.getEmbeddedSchemaType(),q=this.options.required&&typeof this.options.required!="function";return h(h({},te("array","array",z==null?void 0:z.useBsonType,q)),{},{items:M.toJSONSchema(z)})},V.prototype.autoEncryptionType=function(){return"array"},u.exports=V},7768:(u,c,s)=>{var f=s(2402);u.exports=function(h){return h==null?h:h===""?null:(typeof h!="string"&&typeof h!="boolean"||(h=Number(h)),f.ok(!isNaN(h)),h instanceof Number?h.valueOf():typeof h=="number"?h:Array.isArray(h)||typeof h.valueOf!="function"?h.toString&&!Array.isArray(h)&&h.toString()==Number(h)?Number(h):void f.ok(!1):Number(h.valueOf()))}},7834:u=>{function c(s){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},c(s)}u.exports=function(s,f,h,m){return m.justOne||m.count?(s[f]=Array.isArray(h)?h[0]:h,c(s[f])!=="object"&&(s[f]=m.count?h:null)):(s[f]=Array.isArray(h)?h:h==null?[]:[h],s[f]=s[f].filter(function(j){return j&&c(j)==="object"})),s[f]}},7860:u=>{u.exports=function(c){for(var s=[],f="",h="DEFAULT",m=0;m<c.length;++m)h!=="IN_SQUARE_BRACKETS"||/\d/.test(c[m])||c[m]==="]"||(h="DEFAULT",f=s[s.length-1]+"["+f,s.splice(s.length-1,1)),c[m]==="["?(h!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&(s.push(f),f=""),h="IN_SQUARE_BRACKETS"):c[m]==="]"?h==="IN_SQUARE_BRACKETS"?(h="IMMEDIATELY_AFTER_SQUARE_BRACKETS",s.push(f),f=""):(h="DEFAULT",f+=c[m]):c[m]==="."?(h!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&(s.push(f),f=""),h="DEFAULT"):f+=c[m];return h!=="IMMEDIATELY_AFTER_SQUARE_BRACKETS"&&s.push(f),s}},7878:(u,c,s)=>{var f=s(2273),h=s(4183);u.exports=function(){var m=h();return f(Number,{isNaN:m},{isNaN:function(){return Number.isNaN!==m}}),m}},7910:(u,c,s)=>{var f=s(1058);u.exports=function(h,m,j){var b=h.schema.options.discriminatorKey,R=m!=null&&m[b];if(R==null&&(R=j),h.discriminators&&R!=null)if(h.discriminators[R])h=h.discriminators[R];else{var d=f(h.discriminators,R);d&&(h=d)}return h}},7911:(u,c,s)=>{var f=s(9834);u.exports=function(h){return!!f(h)}},7930:(u,c)=>{c.arrayAtomicsBackupSymbol=Symbol("mongoose#Array#atomicsBackup"),c.arrayAtomicsSymbol=Symbol("mongoose#Array#_atomics"),c.arrayParentSymbol=Symbol("mongoose#Array#_parent"),c.arrayPathSymbol=Symbol("mongoose#Array#_path"),c.arraySchemaSymbol=Symbol("mongoose#Array#_schema"),c.documentArrayParent=Symbol("mongoose#documentArrayParent"),c.documentIsSelected=Symbol("mongoose#Document#isSelected"),c.documentIsModified=Symbol("mongoose#Document#isModified"),c.documentModifiedPaths=Symbol("mongoose#Document#modifiedPaths"),c.documentSchemaSymbol=Symbol("mongoose#Document#schema"),c.getSymbol=Symbol("mongoose#Document#get"),c.modelSymbol=Symbol("mongoose#Model"),c.objectIdSymbol=Symbol("mongoose#ObjectId"),c.populateModelSymbol=Symbol("mongoose#PopulateOptions#Model"),c.schemaTypeSymbol=Symbol("mongoose#schemaType"),c.sessionNewDocuments=Symbol("mongoose#ClientSession#newDocuments"),c.scopeSymbol=Symbol("mongoose#Document#scope"),c.validatorErrorSymbol=Symbol("mongoose#validatorError")},7944:u=>{function c(s){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},c(s)}u.exports=function(s){return s&&c(s)==="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},7953:(u,c,s)=>{c.Array=s(7760),c.BigInt=s(3318),c.Boolean=s(6413),c.Buffer=s(2307),c.Date=s(2345),c.Decimal128=c.Decimal=s(7045),c.DocumentArray=s(9123),c.Map=s(6867),c.Mixed=s(5022),c.Number=s(3660),c.ObjectId=s(3091),c.String=s(8728),c.Subdocument=s(5098),c.UUID=s(2134),c.Double=s(1732),c.Int32=s(433),c.Oid=c.ObjectId,c.Object=c.Mixed,c.Bool=c.Boolean,c.ObjectID=c.ObjectId},7982:(u,c,s)=>{function f(P,I){var B=typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(!B){if(Array.isArray(P)||(B=function(ge,F){if(ge){if(typeof ge=="string")return h(ge,F);var V={}.toString.call(ge).slice(8,-1);return V==="Object"&&ge.constructor&&(V=ge.constructor.name),V==="Map"||V==="Set"?Array.from(ge):V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V)?h(ge,F):void 0}}(P))||I){B&&(P=B);var ee=0,Z=function(){};return{s:Z,n:function(){return ee>=P.length?{done:!0}:{done:!1,value:P[ee++]}},e:function(ge){throw ge},f:Z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var te,re=!0,ce=!1;return{s:function(){B=B.call(P)},n:function(){var ge=B.next();return re=ge.done,ge},e:function(ge){ce=!0,te=ge},f:function(){try{re||B.return==null||B.return()}finally{if(ce)throw te}}}}function h(P,I){(I==null||I>P.length)&&(I=P.length);for(var B=0,ee=Array(I);B<I;B++)ee[B]=P[B];return ee}function m(P){return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},m(P)}var j=s(3609),b=s(8995),R=s(7953),d=s(170),_=s(1244),$=s(9064),g=s(3703),S=s(7425),x=s(5110),A=s(7352),T=s(608),C=s(2497),w=s(8768),v=["Polygon","MultiPolygon"];function E(P,I,B){if(Array.isArray(P))P.forEach(function(ce,ge){if(Array.isArray(ce)||T(ce))return E(ce,I,B);P[ge]=I.castForQuery(null,ce,B)});else for(var ee=Object.keys(P),Z=ee.length;Z--;){var te=ee[Z],re=P[te];Array.isArray(re)||T(re)?(E(re,I,B),P[te]=re):P[te]=I.castForQuery({val:re,context:B})}}function N(P,I,B,ee){if("strictQuery"in P)return P.strictQuery;if("strictQuery"in I)return I.strictQuery;var Z=ee&&ee.mongooseCollection&&ee.mongooseCollection.conn&&ee.mongooseCollection.conn.base&&ee.mongooseCollection.conn.base.options;return Z&&"strictQuery"in Z?Z.strictQuery:B.strictQuery}u.exports=function P(I,B,ee,Z){if(Array.isArray(B))throw new Error("Query filter must be an object, got an array ",A.inspect(B));if(B==null)return B;I!=null&&I.discriminators!=null&&B[I.options.discriminatorKey]!=null&&(I=S(I,B[I.options.discriminatorKey])||I);var te,re,ce,ge,F,V,H=Object.keys(B),W=H.length;for(ee=ee||{};W--;)if(V=B[ge=H[W]],ge==="$or"||ge==="$nor"||ge==="$and"){if(!Array.isArray(V))throw new j("Array",V,ge);for(var z=V.length-1;z>=0;z--){if(V[z]==null||m(V[z])!=="object")throw new j("Object",V[z],ge+"."+z);var M=Object.keys(V[z]).length,q=V[z][I.options.discriminatorKey];if(q==null)V[z]=P(I,V[z],ee,Z);else{var ne=S(Z.schema,q);V[z]=P(ne||I,V[z],ee,Z)}Object.keys(V[z]).length===0&&M!==0&&V.splice(z,1)}V.length===0&&delete B[ge]}else{if(ge==="$where"){if((F=m(V))!=="string"&&F!=="function")throw new Error("Must have a string or function for $where");F==="function"&&(B[ge]=V.toString());continue}if(ge==="$expr"){V=d(V,I);continue}if(ge==="$elemMatch")V=P(I,V,ee,Z);else if(ge==="$text")V=$(V,ge);else if(ge!=="$comment"||I.paths.hasOwnProperty("$comment")){if(!I)continue;if(!(re=I.path(ge)))for(var fe=ge.split("."),ve=fe.length;ve--;){var we=fe.slice(0,ve).join("."),me=fe.slice(ve).join("."),ue=I.path(we),_e=ue&&ue.schema&&ue.schema.options&&ue.schema.options.discriminatorKey;if(ue!=null&&(ue.schema&&ue.schema.discriminators)!=null&&_e!=null&&me!==_e){var L=g(B,we+"."+_e),X=ue.schema.discriminators;typeof L=="string"&&X[L]!=null?re=X[L].path(me):L!=null&&Object.keys(L).length===1&&Array.isArray(L.$in)&&L.$in.length===1&&typeof L.$in[0]=="string"&&X[L.$in[0]]!=null&&(re=X[L.$in[0]].path(me))}}if(re){if(V==null)continue;if(w.isPOJO(V))if(Object.keys(V).some(x))for(var oe=Object.keys(V),Oe=void 0,le=oe.length;le--;)if(ce=V[Oe=oe[le]],Oe==="$elemMatch")ce&&re!=null&&re.schema!=null?P(re.schema,ce,ee,Z):ce&&re!=null&&re.$isMongooseArray&&(w.isPOJO(ce)&&ce.$not!=null?P(I,ce,ee,Z):V[Oe]=re.castForQuery(Oe,ce,Z));else if(Oe==="$not"){if(ce&&re){if((te=Object.keys(ce)).length&&x(te[0]))for(var pe in ce)ce[pe]=re.castForQuery(pe,ce[pe],Z);else V[Oe]=re.castForQuery(Oe,ce,Z);continue}}else V[Oe]=re.castForQuery(Oe,ce,Z);else B[ge]=re.castForQuery(null,V,Z);else if(Array.isArray(V)&&["Buffer","Array"].indexOf(re.instance)===-1&&!ee.sanitizeFilter){var Ae,K=[],ie=f(V);try{for(ie.s();!(Ae=ie.n()).done;){var ye=Ae.value;K.push(re.castForQuery(null,ye,Z))}}catch(gn){ie.e(gn)}finally{ie.f()}B[ge]={$in:K}}else B[ge]=re.castForQuery(null,V,Z)}else{for(var je=ge.split("."),de=je.length,De=void 0,He=void 0,Ve=void 0;de--&&(De=je.slice(0,de).join("."),!(re=I.path(De))););if(re){if(re.caster&&re.caster.schema){(Ve={})[He=je.slice(de).join(".")]=V;var ke=P(re.caster.schema,Ve,ee,Z)[He];ke===void 0?delete B[ge]:B[ge]=ke}else B[ge]=V;continue}if(T(V)){var Je="";if(V.$near?Je="$near":V.$nearSphere?Je="$nearSphere":V.$within?Je="$within":V.$geoIntersects?Je="$geoIntersects":V.$geoWithin&&(Je="$geoWithin"),Je){var Ue=new R.Number("__QueryCasting__"),tt=V[Je];if(V.$maxDistance!=null&&(V.$maxDistance=Ue.castForQuery(null,V.$maxDistance,Z)),V.$minDistance!=null&&(V.$minDistance=Ue.castForQuery(null,V.$minDistance,Z)),Je==="$within"){var xt=tt.$center||tt.$centerSphere||tt.$box||tt.$polygon;if(!xt)throw new Error("Bad $within parameter: "+JSON.stringify(V));tt=xt}else if(Je==="$near"&&typeof tt.type=="string"&&Array.isArray(tt.coordinates))tt=tt.coordinates;else if((Je==="$near"||Je==="$nearSphere"||Je==="$geoIntersects")&&tt.$geometry&&typeof tt.$geometry.type=="string"&&Array.isArray(tt.$geometry.coordinates))tt.$maxDistance!=null&&(tt.$maxDistance=Ue.castForQuery(null,tt.$maxDistance,Z)),tt.$minDistance!=null&&(tt.$minDistance=Ue.castForQuery(null,tt.$minDistance,Z)),C(tt.$geometry)&&(tt.$geometry=tt.$geometry.toObject({transform:!1,virtuals:!1})),tt=tt.$geometry.coordinates;else if(Je==="$geoWithin")if(tt.$geometry){C(tt.$geometry)&&(tt.$geometry=tt.$geometry.toObject({virtuals:!1}));var Tt=tt.$geometry.type;if(v.indexOf(Tt)===-1)throw new Error('Invalid geoJSON type for $geoWithin "'+Tt+'", must be "Polygon" or "MultiPolygon"');tt=tt.$geometry.coordinates}else tt=tt.$box||tt.$polygon||tt.$center||tt.$centerSphere,C(tt)&&(tt=tt.toObject({virtuals:!1}));E(tt,Ue,Z);continue}}if(I.nested[ge])continue;var It="strict"in ee?ee.strict:I.options.strict,_t=N(ee,I._userProvidedOptions,I.options,Z);if(ee.upsert&&It)throw It==="throw"?new b(ge):new b(ge,'Path "'+ge+'" is not in schema, strict mode is `true`, and upsert is `true`.');if(_t==="throw")throw new b(ge,'Path "'+ge+`" is not in schema and strictQuery is 'throw'.`);_t&&delete B[ge]}}else V=_(V,ge),B[ge]=V}return B}},8063:(u,c,s)=>{function f(R){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},f(R)}function h(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!R})()}function m(R){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},m(R)}function j(R,d){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,$){return _.__proto__=$,_},j(R,d)}var b=function(R){function d($){return function(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,d),function(g,S,x){return S=m(S),function(A,T){if(T&&(f(T)=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(A)}(g,h()?Reflect.construct(S,x||[],m(g).constructor):S.apply(g,x))}(this,d,[`Schema hasn't been registered for model "`+$+`".
Use mongoose.model(name, schema)`])}return function($,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(g&&g.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),g&&j($,g)}(d,R),_=d,Object.defineProperty(_,"prototype",{writable:!1}),_;var _}(s(8213));Object.defineProperty(b.prototype,"name",{value:"MissingSchemaError"}),u.exports=b},8093:u=>{u.exports=Object},8133:(u,c,s)=>{var f=s(8995);u.exports=function(h){var m,j;h.$immutable?(h.$immutableSetter=(m=h.path,j=h.options.immutable,function(b,R,d,_){if(this==null||this.$__==null||this.isNew||_&&_.overwriteImmutable||!(typeof j=="function"?j.call(this,this):j))return b;var $=this.$__.priorDoc!=null?this.$__.priorDoc.$__getValue(m):this.$__getValue(m);if(this.$__.strictMode==="throw"&&b!==$)throw new f(m,"Path `"+m+"` is immutable and strict mode is set to throw.",!0);return $}),h.set(h.$immutableSetter)):h.$immutableSetter&&(h.setters=h.setters.filter(function(b){return b!==h.$immutableSetter}),delete h.$immutableSetter)}},8188:u=>{u.exports=URIError},8213:u=>{function c(b){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},c(b)}function s(b){var R=typeof Map=="function"?new Map:void 0;return s=function(d){if(d===null||!function($){try{return Function.toString.call($).indexOf("[native code]")!==-1}catch{return typeof $=="function"}}(d))return d;if(typeof d!="function")throw new TypeError("Super expression must either be null or a function");if(R!==void 0){if(R.has(d))return R.get(d);R.set(d,_)}function _(){return function($,g,S){if(f())return Reflect.construct.apply(null,arguments);var x=[null];x.push.apply(x,g);var A=new($.bind.apply($,x));return S&&h(A,S.prototype),A}(d,arguments,m(this).constructor)}return _.prototype=Object.create(d.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),h(_,d)},s(b)}function f(){try{var b=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f=function(){return!!b})()}function h(b,R){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,_){return d.__proto__=_,d},h(b,R)}function m(b){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(R){return R.__proto__||Object.getPrototypeOf(R)},m(b)}var j=function(b){function R(){return function(_,$){if(!(_ instanceof $))throw new TypeError("Cannot call a class as a function")}(this,R),function(_,$,g){return $=m($),function(S,x){if(x&&(c(x)=="object"||typeof x=="function"))return x;if(x!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}(S)}(_,f()?Reflect.construct($,g||[],m(_).constructor):$.apply(_,g))}(this,R,arguments)}return function(_,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create($&&$.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),$&&h(_,$)}(R,b),d=R,Object.defineProperty(d,"prototype",{writable:!1}),d;var d}(s(Error));Object.defineProperty(j.prototype,"name",{value:"MongooseError"}),u.exports=j},8235:(u,c,s)=>{var f=s(8213),h=s(6426),m=s(5098),j=s(7910);function b(R,d){if(this.$parentSchemaType=d&&d.$parentSchemaType,!this.$parentSchemaType)throw new f("Cannot create DocumentArrayElement schematype without a parent");delete d.$parentSchemaType,h.call(this,R,d,"DocumentArrayElement"),this.$isMongooseDocumentArrayElement=!0}b.schemaName="DocumentArrayElement",b.defaultOptions={},b.prototype=Object.create(h.prototype),b.prototype.constructor=b,b.prototype.cast=function(){var R;return(R=this.$parentSchemaType).cast.apply(R,arguments)[0]},b.prototype.doValidate=function(R,d,_,$){var g=j(this.caster,R);return!R||R instanceof g||(R=new g(R,_,null,null,$&&$.index!=null?$.index:null)),m.prototype.doValidate.call(this,R,d,_,$)},b.prototype.clone=function(){this.options.$parentSchemaType=this.$parentSchemaType;var R=h.prototype.clone.apply(this,arguments);return delete this.options.$parentSchemaType,R.caster=this.caster,R.schema=this.schema,R},u.exports=b},8250:(u,c,s)=>{var f=s(5832).hp,h=s(6365),m=/[0-9a-f]{8}-[0-9a-f]{4}-[0-9][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}/i,j=h.Binary;function b(R){typeof R!="string"&&(R="");var d,_=(d=R.replace(/[{}-]/g,""))!=null&&f.from(d,"hex"),$=new h(_);return $._subtype=4,$}u.exports=function(R){if(R==null)return R;function d(_){var $=new h(_);return $._subtype=4,$}if(typeof R=="string"){if(m.test(R))return b(R);throw new Error('"'.concat(R,'" is not a valid UUID string'))}if(f.isBuffer(R))return d(R);if(R instanceof j)return d(R.value(!0));if(R.toString&&R.toString!==Object.prototype.toString&&m.test(R.toString()))return b(R.toString());throw new Error('"'.concat(R,'" cannot be casted to a UUID'))},u.exports.UUID_FORMAT=m},8260:u=>{u.exports=function(c){if(c!=null&&typeof c.constructor=="function")return c.constructor.name}},8285:(u,c,s)=>{var f=s(2400),h=s(2580),m=!1;u.exports=function(){return m?h:f},u.exports.setBrowser=function(j){m=j}},8297:u=>{function c(x,A){var T=typeof Symbol<"u"&&x[Symbol.iterator]||x["@@iterator"];if(!T){if(Array.isArray(x)||(T=f(x))||A){T&&(x=T);var C=0,w=function(){};return{s:w,n:function(){return C>=x.length?{done:!0}:{done:!1,value:x[C++]}},e:function(P){throw P},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,E=!0,N=!1;return{s:function(){T=T.call(x)},n:function(){var P=T.next();return E=P.done,P},e:function(P){N=!0,v=P},f:function(){try{E||T.return==null||T.return()}finally{if(N)throw v}}}}function s(x){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},s(x)}function f(x,A){if(x){if(typeof x=="string")return h(x,A);var T={}.toString.call(x).slice(8,-1);return T==="Object"&&x.constructor&&(T=x.constructor.name),T==="Map"||T==="Set"?Array.from(x):T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T)?h(x,A):void 0}}function h(x,A){(A==null||A>x.length)&&(A=x.length);for(var T=0,C=Array(A);T<A;T++)C[T]=x[T];return C}function m(x,A,T){if(j())return Reflect.construct.apply(null,arguments);var C=[null];C.push.apply(C,A);var w=new(x.bind.apply(x,C));return w}function j(){try{var x=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j=function(){return!!x})()}function b(){this._pres=new Map,this._posts=new Map}function R(x,A,T,C,w,v,E){return v.useErrorHandlers?x.execPost(T,C,w,{error:A},function(N){return typeof E=="function"&&E(N)}):typeof E=="function"&&E(A)}function d(x,A,T,C){var w;try{w=x.apply(A,T)}catch(v){return C(v)}_(w)&&w.then(function(){return C()},function(v){return C(v)})}function _(x){return s(x)==="object"&&x!==null&&typeof x.then=="function"}function $(x){var A=!1,T=this;return function(){var C=arguments;if(!A)return A=!0,g(function(){return x.apply(T,C)})}}b.skipWrappedFunction=function(){if(!(this instanceof b.skipWrappedFunction))return m(b.skipWrappedFunction,Array.prototype.slice.call(arguments));this.args=Array.prototype.slice.call(arguments)},b.overwriteResult=function(){if(!(this instanceof b.overwriteResult))return m(b.overwriteResult,Array.prototype.slice.call(arguments));this.args=Array.prototype.slice.call(arguments)},b.prototype.execPre=function(x,A,T,C){arguments.length===3&&(C=T,T=[]);var w=this._pres.get(x)||[],v=w.length,E=w.numAsync||0,N=0,P=E,I=!1,B=T,ee=null;if(!v)return g(function(){C(null)});function Z(){if(!(N>=v)){var re=w[N];if(re.isAsync){var ce=[$(te),$(function(W){if(W){if(I)return;if(!(W instanceof b.skipWrappedFunction))return I=!0,C(W);ee=W}if(--P===0&&N>=v)return C(ee)})];d(re.fn,A,ce,ce[0])}else if(re.fn.length>0){for(var ge=[$(te)],F=arguments.length>=2?arguments:[null].concat(B),V=1;V<F.length;++V)V===F.length-1&&typeof F[V]=="function"||ge.push(F[V]);d(re.fn,A,ge,ge[0])}else{var H=null;try{H=re.fn.call(A)}catch(W){if(W!=null)return C(W)}if(_(H))H.then(function(){return te()},function(W){return te(W)});else{if(++N>=v)return P>0?void 0:g(function(){C(ee)});Z()}}}}function te(re){if(re){if(I)return;if(!(re instanceof b.skipWrappedFunction))return I=!0,C(re);ee=re}if(++N>=v)return P>0?void 0:C(ee);Z.apply(A,arguments)}Z.apply(null,[null].concat(T))},b.prototype.execPreSync=function(x,A,T){for(var C=this._pres.get(x)||[],w=C.length,v=0;v<w;++v)C[v].fn.apply(A,T||[])},b.prototype.execPost=function(x,A,T,C,w){arguments.length<5&&(w=C,C=null);var v=this._posts.get(x)||[],E=v.length,N=0,P=null;if(C&&C.error&&(P=C.error),!E)return g(function(){w.apply(null,[P].concat(T))});(function I(){for(var B=v[N].fn,ee=0,Z=T.length,te=[],re=0;re<Z;++re)ee+=T[re]&&T[re]._kareemIgnore?0:1,T[re]&&T[re]._kareemIgnore||te.push(T[re]);if(P)if(S(v[N],ee)){var ce=$(function(H){if(H){if(H instanceof b.overwriteResult)return T=H.args,++N>=E?w.call(null,P):I();P=H}if(++N>=E)return w.call(null,P);I()});d(B,A,[P].concat(te).concat([ce]),ce)}else{if(++N>=E)return w.call(null,P);I()}else{var ge=$(function(H){return H?H instanceof b.overwriteResult?(T=H.args,++N>=E?w.apply(null,[null].concat(T)):I()):(P=H,I()):++N>=E?w.apply(null,[null].concat(T)):void I()});if(S(v[N],ee))return++N>=E?w.apply(null,[null].concat(T)):I();if(B.length===ee+1)d(B,A,te.concat([ge]),ge);else{var F,V;try{V=B.apply(A,te)}catch(H){F=H,P=H}if(_(V))return V.then(function(H){ge(H instanceof b.overwriteResult?H:null)},function(H){return ge(H)});if(V instanceof b.overwriteResult&&(T=V.args),++N>=E)return w.apply(null,[F].concat(T));I()}}})()},b.prototype.execPostSync=function(x,A,T){for(var C=this._posts.get(x)||[],w=C.length,v=0;v<w;++v){var E=C[v].fn.apply(A,T||[]);E instanceof b.overwriteResult&&(T=E.args)}return T},b.prototype.createWrapperSync=function(x,A){var T=this;return function(){T.execPreSync(x,this,arguments);var C=A.apply(this,arguments);return T.execPostSync(x,this,[C])[0]}},b.prototype.wrap=function(x,A,T,C,w){var v=C.length>0?C[C.length-1]:null,E=Array.from(C);typeof v=="function"&&E.pop();var N=this,P=(w=w||{}).checkForPromise;this.execPre(x,T,C,function(I){if(I&&!(I instanceof b.skipWrappedFunction)){for(var B=w.numCallbackParams||0,ee=w.contextParameter?[T]:[],Z=ee.length;Z<B;++Z)ee.push(null);return R(N,I,x,T,ee,w,v)}var te,re,ce=A.length;if(I instanceof b.skipWrappedFunction)return te=I.args[0],ge.apply(void 0,[null].concat(function(F){if(Array.isArray(F))return h(F)}(re=I.args)||function(F){if(typeof Symbol<"u"&&F[Symbol.iterator]!=null||F["@@iterator"]!=null)return Array.from(F)}(re)||f(re)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()));try{te=A.apply(T,E.concat(ge))}catch(F){return ge(F)}if(P){if(_(te))return te.then(function(F){return ge(null,F)},function(F){return ge(F)});if(ce<E.length+1)return ge(null,te)}function ge(){var F=Array.from(arguments);if(F.shift(),w.nullResultByDefault&&F.length===0&&F.push(null),arguments[0])return R(N,arguments[0],x,T,F,w,v);N.execPost(x,T,F,function(){v!==null&&(arguments[0]?v(arguments[0]):v.apply(T,arguments))})}})},b.prototype.filter=function(x){for(var A=this,T=this.clone(),C=Array.from(T._pres.keys()),w=function(){var ee=E[v],Z=A._pres.get(ee).map(function(te){return Object.assign({},te,{name:ee})}).filter(x);if(Z.length===0)return T._pres.delete(ee),1;Z.numAsync=Z.filter(function(te){return te.isAsync}).length,T._pres.set(ee,Z)},v=0,E=C;v<E.length;v++)w();for(var N=Array.from(T._posts.keys()),P=function(){var ee=B[I],Z=A._posts.get(ee).map(function(te){return Object.assign({},te,{name:ee})}).filter(x);if(Z.length===0)return T._posts.delete(ee),1;T._posts.set(ee,Z)},I=0,B=N;I<B.length;I++)P();return T},b.prototype.hasHooks=function(x){return this._pres.has(x)||this._posts.has(x)},b.prototype.createWrapper=function(x,A,T,C){var w=this;return this.hasHooks(x)?function(){var v=T||this;w.wrap(x,A,v,Array.from(arguments),C)}:function(){var v=arguments,E=this;g(function(){return A.apply(E,v)})}},b.prototype.pre=function(x,A,T,C,w){var v={};s(A)==="object"&&A!==null?A=(v=A).isAsync:typeof arguments[1]!="boolean"&&(T=A,A=!1);var E=this._pres.get(x)||[];if(this._pres.set(x,E),A&&(E.numAsync=E.numAsync||0,++E.numAsync),typeof T!="function")throw new Error('pre() requires a function, got "'+s(T)+'"');return w?E.unshift(Object.assign({},v,{fn:T,isAsync:A})):E.push(Object.assign({},v,{fn:T,isAsync:A})),this},b.prototype.post=function(x,A,T,C){var w=this._posts.get(x)||[];if(typeof A=="function"&&(C=!!T,T=A,A={}),typeof T!="function")throw new Error('post() requires a function, got "'+s(T)+'"');return C?w.unshift(Object.assign({},A,{fn:T})):w.push(Object.assign({},A,{fn:T})),this._posts.set(x,w),this},b.prototype.clone=function(){var x,A=new b,T=c(this._pres.keys());try{for(T.s();!(x=T.n()).done;){var C=x.value,w=this._pres.get(C).slice();w.numAsync=this._pres.get(C).numAsync,A._pres.set(C,w)}}catch(P){T.e(P)}finally{T.f()}var v,E=c(this._posts.keys());try{for(E.s();!(v=E.n()).done;){var N=v.value;A._posts.set(N,this._posts.get(N).slice())}}catch(P){E.e(P)}finally{E.f()}return A},b.prototype.merge=function(x,A){var T,C=(A=arguments.length===1||A)?this.clone():this,w=c(x._pres.keys());try{var v=function(){var I=T.value,B=C._pres.get(I)||[],ee=x._pres.get(I).filter(function(te){return B.map(function(re){return re.fn}).indexOf(te.fn)===-1}),Z=B.concat(ee);Z.numAsync=B.numAsync||0,Z.numAsync+=ee.filter(function(te){return te.isAsync}).length,C._pres.set(I,Z)};for(w.s();!(T=w.n()).done;)v()}catch(I){w.e(I)}finally{w.f()}var E,N=c(x._posts.keys());try{var P=function(){var I=E.value,B=C._posts.get(I)||[],ee=x._posts.get(I).filter(function(Z){return B.indexOf(Z)===-1});C._posts.set(I,B.concat(ee))};for(N.s();!(E=N.n()).done;)P()}catch(I){N.e(I)}finally{N.f()}return C};var g=s({env:{}})==="object"&&{}!==null&&{}.nextTick||function(x){setTimeout(x,0)};function S(x,A){return!!x.errorHandler||x.fn.length===A+2}u.exports=b},8435:u=>{u.exports=Math.min},8442:(u,c,s)=>{var f=s(1898);u.exports=function(h){for(var m=0,j=Object.values(f);m<j.length;m++)(0,j[m])(h,{deduplicate:!0});h.plugins=Object.values(f).map(function(b){return{fn:b,opts:{deduplicate:!0}}}).concat(h.plugins)}},8499:(u,c,s)=>{var f=s(8953);u.exports=function(h){var m=this!=null?this.path:null;return f(h,m)}},8517:(u,c,s)=>{function f(R){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},f(R)}function h(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!R})()}function m(R){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},m(R)}function j(R,d){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,$){return _.__proto__=$,_},j(R,d)}var b=function(R){function d($,g,S){var x,A,T;(function(N,P){if(!(N instanceof P))throw new TypeError("Cannot call a class as a function")})(this,d);var C=(x=S==null?void 0:S.matchedCount)!==null&&x!==void 0?x:0,w=(A=S==null?void 0:S.insertedCount)!==null&&A!==void 0?A:0,v=g.map(function(N){return N._id}).join(", ");v.length>100&&(v=v.slice(0,100)+"...");var E=g.length-C-w;return(T=function(N,P,I){return P=m(P),function(B,ee){if(ee&&(f(ee)=="object"||typeof ee=="function"))return ee;if(ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Z){if(Z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}(B)}(N,h()?Reflect.construct(P,I||[],m(N).constructor):P.apply(N,I))}(this,d,["".concat($,".bulkSave() was not able to update ").concat(E," of the given documents due to incorrect version or optimistic concurrency, document ids: ").concat(v)])).modelName=$,T.documents=g,T.bulkWriteResult=S,T.numDocumentsNotUpdated=E,T}return function($,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(g&&g.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),g&&j($,g)}(d,R),_=d,Object.defineProperty(_,"prototype",{writable:!1}),_;var _}(s(8213));Object.defineProperty(b.prototype,"name",{value:"MongooseBulkSaveIncompleteError"}),u.exports=b},8533:(u,c,s)=>{var f=s(5832).hp;function h(d){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},h(d)}function m(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m=function(){return!!d})()}function j(d){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},j(d)}function b(d,_){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,g){return $.__proto__=g,$},b(d,_)}s(7591).set(s(4026));var R=s(8285);R.setBrowser(!0),c.Error=s(3672),c.Schema=s(7058),c.Types=s(9600),c.VirtualType=s(622),c.SchemaType=s(6426),c.SchemaTypeOptions=s(8879),c.utils=s(8768),c.Document=R(),c.model=function(d,_){var $=function(g){function S(A,T){return function(C,w){if(!(C instanceof w))throw new TypeError("Cannot call a class as a function")}(this,S),function(C,w,v){return w=j(w),function(E,N){if(N&&(h(N)=="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P}(E)}(C,m()?Reflect.construct(w,v||[],j(C).constructor):w.apply(C,v))}(this,S,[A,_,T])}return function(A,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(T&&T.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),T&&b(A,T)}(S,g),x=S,Object.defineProperty(x,"prototype",{writable:!1}),x;var x}(c.Document);return $.modelName=d,$},typeof window<"u"&&(window.mongoose=u.exports,window.Buffer=f)},8633:u=>{u.exports=Math.pow},8728:(u,c,s)=>{function f(E,N){var P=Object.keys(E);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(E);N&&(I=I.filter(function(B){return Object.getOwnPropertyDescriptor(E,B).enumerable})),P.push.apply(P,I)}return P}function h(E){for(var N=1;N<arguments.length;N++){var P=arguments[N]!=null?arguments[N]:{};N%2?f(Object(P),!0).forEach(function(I){m(E,I,P[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(P)):f(Object(P)).forEach(function(I){Object.defineProperty(E,I,Object.getOwnPropertyDescriptor(P,I))})}return E}function m(E,N,P){return(N=function(I){var B=function(ee){if(j(ee)!="object"||!ee)return ee;var Z=ee[Symbol.toPrimitive];if(Z!==void 0){var te=Z.call(ee,"string");if(j(te)!="object")return te;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(ee)}(I);return j(B)=="symbol"?B:B+""}(N))in E?Object.defineProperty(E,N,{value:P,enumerable:!0,configurable:!0,writable:!0}):E[N]=P,E}function j(E){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},j(E)}function b(E,N){(N==null||N>E.length)&&(N=E.length);for(var P=0,I=Array(N);P<N;P++)I[P]=E[P];return I}var R=s(6426),d=s(3672),_=s(9528),$=s(1244),g=s(4327),S=s(8768),x=s(3305),A=R.CastError;function T(E,N){this.enumValues=[],this.regExp=null,R.call(this,E,N,"String")}function C(E,N){return this.castForQuery(null,E,N)}function w(E){return E==null?this._castNullish(E):this.cast(E,this)}T.schemaName="String",T.defaultOptions={},T.prototype=Object.create(R.prototype),T.prototype.constructor=T,Object.defineProperty(T.prototype,"OptionsConstructor",{configurable:!1,enumerable:!1,writable:!1,value:_}),T._cast=$,T.cast=function(E){return arguments.length===0||(E===!1&&(E=this._defaultCaster),this._cast=E),this._cast},T._defaultCaster=function(E){if(E!=null&&typeof E!="string")throw new Error;return E},T.get=R.get,T.set=R.set,T.setters=[],T._checkRequired=function(E){return(E instanceof String||typeof E=="string")&&E.length},T.checkRequired=R.checkRequired,T.prototype.enum=function(){if(this.enumValidator&&(this.validators=this.validators.filter(function(Z){return Z.validator!==this.enumValidator},this),this.enumValidator=!1),arguments[0]===void 0||arguments[0]===!1)return this;var E,N;S.isObject(arguments[0])?Array.isArray(arguments[0].values)?(E=arguments[0].values,N=arguments[0].message):(E=S.object.vals(arguments[0]),N=d.messages.String.enum):(E=arguments,N=d.messages.String.enum);var P,I=function(Z,te){var re=typeof Symbol<"u"&&Z[Symbol.iterator]||Z["@@iterator"];if(!re){if(Array.isArray(Z)||(re=function(W,z){if(W){if(typeof W=="string")return b(W,z);var M={}.toString.call(W).slice(8,-1);return M==="Object"&&W.constructor&&(M=W.constructor.name),M==="Map"||M==="Set"?Array.from(W):M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M)?b(W,z):void 0}}(Z))||te){re&&(Z=re);var ce=0,ge=function(){};return{s:ge,n:function(){return ce>=Z.length?{done:!0}:{done:!1,value:Z[ce++]}},e:function(W){throw W},f:ge}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var F,V=!0,H=!1;return{s:function(){re=re.call(Z)},n:function(){var W=re.next();return V=W.done,W},e:function(W){H=!0,F=W},f:function(){try{V||re.return==null||re.return()}finally{if(H)throw F}}}}(E);try{for(I.s();!(P=I.n()).done;){var B=P.value;B!==void 0&&this.enumValues.push(this.cast(B))}}catch(Z){I.e(Z)}finally{I.f()}var ee=this.enumValues;return this.enumValidator=function(Z){return Z==null||~ee.indexOf(Z)},this.validators.push({validator:this.enumValidator,message:N,type:"enum",enumValues:ee}),this},T.prototype.lowercase=function(E){var N=this;return arguments.length>0&&!E?this:this.set(function(P){return typeof P!="string"&&(P=N.cast(P)),P&&P.toLowerCase()})},T.prototype.uppercase=function(E){var N=this;return arguments.length>0&&!E?this:this.set(function(P){return typeof P!="string"&&(P=N.cast(P)),P&&P.toUpperCase()})},T.prototype.trim=function(E){var N=this;return arguments.length>0&&!E?this:this.set(function(P){return typeof P!="string"&&(P=N.cast(P)),P&&P.trim()})},T.prototype.minlength=function(E,N){if(this.minlengthValidator&&(this.validators=this.validators.filter(function(I){return I.validator!==this.minlengthValidator},this)),E!=null){var P=N||d.messages.String.minlength;P=P.replace(/{MINLENGTH}/,E),this.validators.push({validator:this.minlengthValidator=function(I){return I===null||I.length>=E},message:P,type:"minlength",minlength:E})}return this},T.prototype.minLength=T.prototype.minlength,T.prototype.maxlength=function(E,N){if(this.maxlengthValidator&&(this.validators=this.validators.filter(function(I){return I.validator!==this.maxlengthValidator},this)),E!=null){var P=N||d.messages.String.maxlength;P=P.replace(/{MAXLENGTH}/,E),this.validators.push({validator:this.maxlengthValidator=function(I){return I===null||I.length<=E},message:P,type:"maxlength",maxlength:E})}return this},T.prototype.maxLength=T.prototype.maxlength,T.prototype.match=function(E,N){var P=N||d.messages.String.match;return this.validators.push({validator:function(I){return!!E&&(E.lastIndex=0,I==null||I===""||E.test(I))},message:P,type:"regexp",regexp:E}),this},T.prototype.checkRequired=function(E,N){return j(E)==="object"&&R._isRef(this,E,N,!0)?E!=null:(typeof this.constructor.checkRequired=="function"?this.constructor.checkRequired():T.checkRequired())(E)},T.prototype.cast=function(E,N,P,I,B){if(typeof E!="string"&&R._isRef(this,E,N,P))return this._castRef(E,N,P,B);var ee;ee=typeof this._castFunction=="function"?this._castFunction:typeof this.constructor.cast=="function"?this.constructor.cast():T.cast();try{return ee(E)}catch{throw new A("string",E,this.path,null,this)}};var v=h(h({},R.prototype.$conditionalHandlers),{},{$all:function(E,N){var P=this;return Array.isArray(E)?E.map(function(I){return P.castForQuery(null,I,N)}):[this.castForQuery(null,E,N)]},$gt:C,$gte:C,$lt:C,$lte:C,$options:w,$regex:function(E){return Object.prototype.toString.call(E)==="[object RegExp]"?E:w.call(this,E)},$not:C});Object.defineProperty(T.prototype,"$conditionalHandlers",{enumerable:!1,value:v}),T.prototype.castForQuery=function(E,N,P){var I;if(E!=null){if(!(I=this.$conditionalHandlers[E]))throw new Error("Can't use "+E+" with String.");return I.call(this,N,P)}if(Object.prototype.toString.call(N)==="[object RegExp]"||x(N,"BSONRegExp"))return N;try{return this.applySetters(N,P)}catch(B){throw B instanceof A&&B.path===this.path&&this.$fullPath!=null&&(B.path=this.$fullPath),B}},T.prototype.toJSONSchema=function(E){var N=this.options.required&&typeof this.options.required!="function";return g("string","string",E==null?void 0:E.useBsonType,N)},T.prototype.autoEncryptionType=function(){return"string"},u.exports=T},8759:u=>{u.exports=function(c){return c.replace(/\.\$(\[[^\]]*\])?(?=\.)/g,".0").replace(/\.\$(\[[^\]]*\])?$/g,".0")}},8768:(u,c,s)=>{var f=s(5832).hp;function h(M,q){var ne=Object.keys(M);if(Object.getOwnPropertySymbols){var fe=Object.getOwnPropertySymbols(M);q&&(fe=fe.filter(function(ve){return Object.getOwnPropertyDescriptor(M,ve).enumerable})),ne.push.apply(ne,fe)}return ne}function m(M,q,ne){return(q=function(fe){var ve=function(we){if(d(we)!="object"||!we)return we;var me=we[Symbol.toPrimitive];if(me!==void 0){var ue=me.call(we,"string");if(d(ue)!="object")return ue;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(we)}(fe);return d(ve)=="symbol"?ve:ve+""}(q))in M?Object.defineProperty(M,q,{value:ne,enumerable:!0,configurable:!0,writable:!0}):M[q]=ne,M}function j(M,q){var ne=typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(!ne){if(Array.isArray(M)||(ne=b(M))||q){ne&&(M=ne);var fe=0,ve=function(){};return{s:ve,n:function(){return fe>=M.length?{done:!0}:{done:!1,value:M[fe++]}},e:function(_e){throw _e},f:ve}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var we,me=!0,ue=!1;return{s:function(){ne=ne.call(M)},n:function(){var _e=ne.next();return me=_e.done,_e},e:function(_e){ue=!0,we=_e},f:function(){try{me||ne.return==null||ne.return()}finally{if(ue)throw we}}}}function b(M,q){if(M){if(typeof M=="string")return R(M,q);var ne={}.toString.call(M).slice(8,-1);return ne==="Object"&&M.constructor&&(ne=M.constructor.name),ne==="Map"||ne==="Set"?Array.from(M):ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne)?R(M,q):void 0}}function R(M,q){(q==null||q>M.length)&&(q=M.length);for(var ne=0,fe=Array(q);ne<q;ne++)fe[ne]=M[ne];return fe}function d(M){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},d(M)}var _,$=s(6353).UUID,g=s(354),S=s(5678),x=s(5549),A=s(6948),T=s(4450),C=s(2746),w=s(608),v=s(1243),E=s(1347),N=s(3305),P=s(2789),I=s(9696),B=s(2497),ee=s(5268),Z=s(9539),te=s(2793),re=s(7291).trustedSymbol;c.specialProperties=te,c.isMongooseArray=v.isMongooseArray,c.isMongooseDocumentArray=E.isMongooseDocumentArray,c.registerMongooseArray=v.registerMongooseArray,c.registerMongooseDocumentArray=E.registerMongooseDocumentArray;var ce=/\s/,ge=/\s+/;c.toCollectionName=function(M,q){if(M==="system.profile"||M==="system.indexes")return M;if(typeof q=="function"){if(typeof M!="string")throw new TypeError("Collection name must be a string");if(M.length===0)throw new TypeError("Collection name cannot be empty");return q(M)}return M},c.deepEqual=function M(q,ne){if(q===ne)return!0;if(d(q)!=="object"||d(ne)!=="object")return q===ne;if(q instanceof Date&&ne instanceof Date)return q.getTime()===ne.getTime();if(N(q,"ObjectId")&&N(ne,"ObjectId")||N(q,"Decimal128")&&N(ne,"Decimal128"))return q.toString()===ne.toString();if(q instanceof RegExp&&ne instanceof RegExp)return q.source===ne.source&&q.ignoreCase===ne.ignoreCase&&q.multiline===ne.multiline&&q.global===ne.global&&q.dotAll===ne.dotAll&&q.unicode===ne.unicode&&q.sticky===ne.sticky&&q.hasIndices===ne.hasIndices;if(q==null||ne==null||q.prototype!==ne.prototype)return!1;if(q instanceof Map||ne instanceof Map)return q instanceof Map&&ne instanceof Map&&M(Array.from(q.keys()),Array.from(ne.keys()))&&M(Array.from(q.values()),Array.from(ne.values()));if(q instanceof Number&&ne instanceof Number)return q.valueOf()===ne.valueOf();if(f.isBuffer(q))return c.buffer.areEqual(q,ne);if(Array.isArray(q)||Array.isArray(ne)){if(!Array.isArray(q)||!Array.isArray(ne))return!1;var fe=q.length;if(fe!==ne.length)return!1;for(var ve=0;ve<fe;++ve)if(!M(q[ve],ne[ve]))return!1;return!0}q.$__!=null?q=q._doc:B(q)&&(q=q.toObject()),ne.$__!=null?ne=ne._doc:B(ne)&&(ne=ne.toObject());var we=Object.keys(q),me=Object.keys(ne),ue=we.length;if(ue!==me.length)return!1;for(var _e=ue-1;_e>=0;_e--)if(we[_e]!==me[_e])return!1;for(var L=0,X=we;L<X.length;L++){var oe=X[L];if(!M(q[oe],ne[oe]))return!1}return!0},c.last=function(M){if(M.length>0)return M[M.length-1]},c.promiseOrCallback=ee,c.cloneArrays=function(M){return Array.isArray(M)?M.map(function(q){return c.cloneArrays(q)}):M},c.omit=function(M,q){if(q==null)return Object.assign({},M);Array.isArray(q)||(q=[q]);var ne,fe=Object.assign({},M),ve=j(q);try{for(ve.s();!(ne=ve.n()).done;)delete fe[ne.value]}catch(we){ve.e(we)}finally{ve.f()}return fe},c.clonePOJOsAndArrays=function(M){if(M==null||M.$__!=null)return M;if(P(M)){M=function(me){for(var ue=1;ue<arguments.length;ue++){var _e=arguments[ue]!=null?arguments[ue]:{};ue%2?h(Object(_e),!0).forEach(function(L){m(me,L,_e[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(me,Object.getOwnPropertyDescriptors(_e)):h(Object(_e)).forEach(function(L){Object.defineProperty(me,L,Object.getOwnPropertyDescriptor(_e,L))})}return me}({},M);for(var q=0,ne=Object.keys(M);q<ne.length;q++){var fe=ne[q];M[fe]=c.clonePOJOsAndArrays(M[fe])}return M}if(Array.isArray(M)){M=function(me){if(Array.isArray(me))return R(me)}(we=M)||function(me){if(typeof Symbol<"u"&&me[Symbol.iterator]!=null||me["@@iterator"]!=null)return Array.from(me)}(we)||b(we)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}();for(var ve=0;ve<M.length;++ve)M[ve]=c.clonePOJOsAndArrays(M[ve]);return M}var we;return M},c.merge=function M(q,ne,fe,ve){fe=fe||{};var we,me=Object.keys(ne),ue=0,_e=me.length;ne[re]&&(q[re]=ne[re]),ve=ve||"";for(var L=fe.omitNested||{};ue<_e;)if(we=me[ue++],!(fe.omit&&fe.omit[we]||L[ve]||te.has(we)))if(q[we]==null)q[we]=c.clonePOJOsAndArrays(ne[we]);else if(c.isObject(ne[we])){if(c.isObject(q[we])||(q[we]={}),ne[we]!=null){if(fe.isDiscriminatorSchemaMerge&&ne[we].$isSingleNested&&q[we].$isMongooseDocumentArray||ne[we].$isMongooseDocumentArray&&q[we].$isSingleNested)continue;if(ne[we].instanceOfSchema){q[we].instanceOfSchema?Z(q[we],ne[we].clone(),fe.isDiscriminatorSchemaMerge):q[we]=ne[we].clone();continue}if(N(ne[we],"ObjectId")){q[we]=new x(ne[we]);continue}}M(q[we],ne[we],fe,ve?ve+"."+we:we)}else fe.overwrite&&(q[we]=ne[we]);return q},c.toObject=function M(q){var ne;if(_||(_=s(2400)),q==null)return q;if(q instanceof _)return q.toObject();if(Array.isArray(q)){ne=[];var fe,ve=j(q);try{for(ve.s();!(fe=ve.n()).done;){var we=fe.value;ne.push(M(we))}}catch(L){ve.e(L)}finally{ve.f()}return ne}if(c.isPOJO(q)){ne={},q[re]&&(ne[re]=q[re]);for(var me=0,ue=Object.keys(q);me<ue.length;me++){var _e=ue[me];te.has(_e)||(ne[_e]=M(q[_e]))}return ne}return q},c.isObject=w,c.isPOJO=s(2789),c.isNonBuiltinObject=function(M){return!(d(M)!=="object"||c.isNativeObject(M)||c.isMongooseType(M)||M instanceof $||M==null)},c.isNativeObject=function(M){return Array.isArray(M)||M instanceof Date||M instanceof Boolean||M instanceof Number||M instanceof String},c.isEmptyObject=function(M){return M!=null&&d(M)==="object"&&Object.keys(M).length===0},c.hasKey=function(M,q){for(var ne=0,fe=Object.keys(M);ne<fe.length;ne++){var ve=fe[ne];if(ve===q||c.isPOJO(M[ve])&&c.hasKey(M[ve],q))return!0}return!1},c.tick=function(M){if(typeof M=="function")return function(){try{M.apply(this,arguments)}catch(q){C(function(){throw q})}}},c.isMongooseType=function(M){return N(M,"ObjectId")||N(M,"Decimal128")||M instanceof f},c.isMongooseObject=B,c.expires=function(M){M&&M.constructor.name==="Object"&&"expires"in M&&(M.expireAfterSeconds=typeof M.expires!="string"?M.expires:Math.round(g(M.expires)/1e3),delete M.expires)},c.populate=function(M,q,ne,fe,ve,we,me,ue){var _e,L=null;if(arguments.length===1){if(M instanceof A)return M._docs={},M._childDocs=[],[M];if(Array.isArray(M)){var X=(_e=[],M.forEach(function(oe){ce.test(oe.path)?oe.path.split(ge).forEach(function(Oe){var le=Object.assign({},oe);le.path=Oe,_e.push(le)}):_e.push(oe)}),_e);return X.map(function(oe){return c.populate(oe)[0]})}L=c.isObject(M)?Object.assign({},M):{path:M}}else L=d(ne)==="object"?{path:M,select:q,match:ne,options:fe}:{path:M,select:q,model:ne,match:fe,options:ve,populate:we,justOne:me,count:ue};if(!(typeof L.path=="string"||Array.isArray(L.path)&&L.path.every(function(oe){return typeof oe=="string"})))throw new TypeError("utils.populate: invalid path. Expected string or array of strings. Got typeof `"+d(M)+"`");return function(oe){if(Array.isArray(oe.populate)){var Oe=[];oe.populate.forEach(function(ye){if(ce.test(ye.path)){var je=Object.assign({},ye);je.path.split(ge).forEach(function(de){je.path=de,Oe.push(c.populate(je)[0])})}else Oe.push(c.populate(ye)[0])}),oe.populate=c.populate(Oe)}else oe.populate!=null&&d(oe.populate)==="object"&&(oe.populate=c.populate(oe.populate));var le=[],pe=ce.test(oe.path)?oe.path.split(ge):Array.isArray(oe.path)?oe.path:[oe.path];oe.options!=null&&(oe.options=T(oe.options));var Ae,K=j(pe);try{for(K.s();!(Ae=K.n()).done;){var ie=Ae.value;le.push(new A(Object.assign({},oe,{path:ie})))}}catch(ye){K.e(ye)}finally{K.f()}return le}(L)},c.getValue=function(M,q,ne){return S.get(M,q,V,ne)};var F=Object.freeze({getters:!1});function V(M,q){if(q==="$*"&&M instanceof Map)return M;var ne=(M==null?void 0:M._doc)||M;return ne!=null&&ne.isMongooseArrayProxy&&(ne=ne.__array),ne instanceof Map?ne.get(q,F):ne[q]}c.setValue=function(M,q,ne,fe,ve){S.set(M,q,ne,"_doc",fe,ve)},c.object={},c.object.vals=function(M){for(var q=Object.keys(M),ne=q.length,fe=[];ne--;)fe.push(M[q[ne]]);return fe};var H=Object.prototype.hasOwnProperty;c.object.hasOwnProperty=function(M,q){return H.call(M,q)},c.isNullOrUndefined=function(M){return M==null},c.array={},c.array.flatten=function M(q,ne,fe){return fe||(fe=[]),q.forEach(function(ve){Array.isArray(ve)?M(ve,ne,fe):ne&&!ne(ve)||fe.push(ve)}),fe};var W=Object.prototype.hasOwnProperty;c.hasUserDefinedProperty=function(M,q){if(M==null)return!1;if(Array.isArray(q)){var ne,fe=j(q);try{for(fe.s();!(ne=fe.n()).done;){var ve=ne.value;if(c.hasUserDefinedProperty(M,ve))return!0}}catch(me){fe.e(me)}finally{fe.f()}return!1}if(W.call(M,q))return!0;if(d(M)==="object"&&q in M){var we=M[q];return we!==Object.prototype[q]&&we!==Array.prototype[q]}return!1};var z=Math.pow(2,32)-1;c.isArrayIndex=function(M){return typeof M=="number"?M>=0&&M<=z:typeof M=="string"&&!!/^\d+$/.test(M)&&(M=+M)>=0&&M<=z},c.array.unique=function(M){var q,ne=new Set,fe=new Set,ve=[],we=j(M);try{for(we.s();!(q=we.n()).done;){var me=q.value;if(typeof me=="number"||typeof me=="string"||me==null){if(ne.has(me))continue;ve.push(me),ne.add(me)}else if(N(me,"ObjectId")){if(fe.has(me.toString()))continue;ve.push(me),fe.add(me.toString())}else ve.push(me)}}catch(ue){we.e(ue)}finally{we.f()}return ve},c.buffer={},c.buffer.areEqual=function(M,q){if(!f.isBuffer(M)||!f.isBuffer(q)||M.length!==q.length)return!1;for(var ne=0,fe=M.length;ne<fe;++ne)if(M[ne]!==q[ne])return!1;return!0},c.getFunctionName=I,c.decorate=function(M,q){for(var ne in q)te.has(ne)||(M[ne]=q[ne])},c.mergeClone=function(M,q){B(q)&&(q=q.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1}));for(var ne,fe=Object.keys(q),ve=fe.length,we=0;we<ve;)if(ne=fe[we++],!te.has(ne))if(M[ne]===void 0)M[ne]=T(q[ne],{transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});else{var me=q[ne];if(me==null||!me.valueOf||me instanceof Date||(me=me.valueOf()),c.isObject(me)){var ue=me;B(me)&&!me.isMongooseBuffer&&(ue=ue.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1})),me.isMongooseBuffer&&(ue=f.from(ue)),c.mergeClone(M[ne],ue)}else M[ne]=T(me,{flattenDecimals:!1})}},c.each=function(M,q){var ne,fe=j(M);try{for(fe.s();!(ne=fe.n()).done;)q(ne.value)}catch(ve){fe.e(ve)}finally{fe.f()}},c.renameObjKey=function(M,q,ne){return Object.keys(M).reduce(function(fe,ve){return ve===q?fe[ne]=M[q]:fe[ve]=M[ve],fe},{})},c.getOption=function(M){var q,ne=j(Array.prototype.slice.call(arguments,1));try{for(ne.s();!(q=ne.n()).done;){var fe=q.value;if(fe!=null&&fe[M]!=null)return fe[M]}}catch(ve){ne.e(ve)}finally{ne.f()}return null},c.noop=function(){},c.errorToPOJO=function(M){if(!(M instanceof Error))throw new Error("`error` must be `instanceof Error`.");var q,ne={},fe=j(Object.getOwnPropertyNames(M));try{for(fe.s();!(q=fe.n()).done;){var ve=q.value;ne[ve]=M[ve]}}catch(we){fe.e(we)}finally{fe.f()}return ne},c.warn=function(M){return{env:{}}.emitWarning(M,{code:"MONGOOSE"})},c.injectTimestampsOption=function(M,q){q!=null&&(M.timestamps=q)}},8863:(u,c,s)=>{var f=s(2354),h=s(2268),m=s(3123),j=s(5477);u.exports=function(b){if(b.length<1||typeof b[0]!="function")throw new h("a function is required");return j(f,m,b)}},8879:(u,c,s)=>{function f(b,R,d){return Object.defineProperty(b,"prototype",{writable:!1}),b}var h=s(4450),m=f(function b(R){if(function(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")}(this,b),R==null)return this;Object.assign(this,h(R))}),j=s(5761);Object.defineProperty(m.prototype,"type",j),Object.defineProperty(m.prototype,"validate",j),Object.defineProperty(m.prototype,"cast",j),Object.defineProperty(m.prototype,"required",j),Object.defineProperty(m.prototype,"default",j),Object.defineProperty(m.prototype,"ref",j),Object.defineProperty(m.prototype,"refPath",j),Object.defineProperty(m.prototype,"select",j),Object.defineProperty(m.prototype,"index",j),Object.defineProperty(m.prototype,"unique",j),Object.defineProperty(m.prototype,"immutable",j),Object.defineProperty(m.prototype,"sparse",j),Object.defineProperty(m.prototype,"text",j),Object.defineProperty(m.prototype,"transform",j),u.exports=m},8920:(u,c,s)=>{var f=s(5832).hp;function h(F){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},h(F)}function m(F,V){var H=typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(!H){if(Array.isArray(F)||(H=j(F))||V){H&&(F=H);var W=0,z=function(){};return{s:z,n:function(){return W>=F.length?{done:!0}:{done:!1,value:F[W++]}},e:function(fe){throw fe},f:z}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var M,q=!0,ne=!1;return{s:function(){H=H.call(F)},n:function(){var fe=H.next();return q=fe.done,fe},e:function(fe){ne=!0,M=fe},f:function(){try{q||H.return==null||H.return()}finally{if(ne)throw M}}}}function j(F,V){if(F){if(typeof F=="string")return b(F,V);var H={}.toString.call(F).slice(8,-1);return H==="Object"&&F.constructor&&(H=F.constructor.name),H==="Map"||H==="Set"?Array.from(F):H==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(H)?b(F,V):void 0}}function b(F,V){(V==null||V>F.length)&&(V=F.length);for(var H=0,W=Array(V);H<V;H++)W[H]=F[H];return W}var R=s(2400),d=s(6547),_=s(8213),$=s(4473),g=s(4450),S=s(3303)._,x=s(5678),A=s(8768),T=s(3305),C=s(7930).arrayAtomicsSymbol,w=s(7930).arrayParentSymbol,v=s(7930).arrayPathSymbol,E=s(7930).arraySchemaSymbol,N=s(7930).populateModelSymbol,P=Symbol("mongoose#Array#sliced"),I=Array.prototype.push,B={$__getAtomics:function(){var F=[],V=Object.keys(this[C]||{}),H=V.length,W=Object.assign({},S,{_isNested:!0});if(H===0)return F[0]=["$set",this.toObject(W)],F;for(;H--;){var z=V[H],M=this[C][z];A.isMongooseObject(M)?M=M.toObject(W):Array.isArray(M)?M=this.toObject.call(M,W):M!=null&&Array.isArray(M.$each)?M.$each=this.toObject.call(M.$each,W):M!=null&&typeof M.valueOf=="function"&&(M=M.valueOf()),z==="$addToSet"&&(M={$each:M}),F.push([z,M])}return F},$atomics:function(){return this[C]},$parent:function(){return this[w]},$path:function(){return this[v]},$shift:function(){this._registerAtomic("$pop",-1),this._markModified();var F=this.__array;if(!F._shifted)return F._shifted=!0,[].shift.call(F)},$pop:function(){if(this._registerAtomic("$pop",1),this._markModified(),!this._popped)return this._popped=!0,[].pop.call(this)},$schema:function(){return this[E]},_cast:function(F){var V,H=!1,W=this[w];if(W&&(H=W.$populated(this[v],!0)),H&&F!=null){if((V=H.options[N])==null)throw new _("No populated model found for path `"+this[v]+"`. This is likely a bug in Mongoose, please report an issue on github.com/Automattic/mongoose.");return(f.isBuffer(F)||T(F,"ObjectId")||!A.isObject(F))&&(F={_id:F}),F.schema&&F.schema.discriminatorMapping&&F.schema.discriminatorMapping.key!==void 0||(F=new V(F)),this[E].caster.applySetters(F,W,!0)}return this[E].caster.applySetters(F,W,!1)},_mapCast:function(F,V){return this._cast(F,this.length+V)},_markModified:function(F){var V,H=this[w];if(H){if(V=this[v],arguments.length&&(V=V+"."+F),V!=null&&V.endsWith(".$"))return this;H.markModified(V,arguments.length!==0?F:H)}return this},_registerAtomic:function(F,V){if(!this[P]){if(F==="$set")return this[C]={$set:V},$(this[w],this[v]),this._markModified(),this;var H,W=this[C];if(F==="$pop"&&!("$pop"in W)){var z=this;this[w].once("save",function(){z._popped=z._shifted=null})}if(W.$set||Object.keys(W).length&&!(F in W))return this[C]={$set:this},this;if(F==="$pullAll"||F==="$addToSet")W[F]||(W[F]=[]),W[F]=W[F].concat(V);else if(F==="$pullDocs"){var M=W.$pull||(W.$pull={});V[0]instanceof d?(H=M.$or||(M.$or=[]),Array.prototype.push.apply(H,V.map(function(me){return me.toObject({transform:function(ue,_e){return me==null||me.$__==null||Object.keys(me.$__.activePaths.getStatePaths("default")).forEach(function(L){x.unset(L,_e),ee(_e,L)}),_e},virtuals:!1})}))):(H=M._id||(M._id={$in:[]})).$in=H.$in.concat(V)}else if(F==="$push")if(W.$push=W.$push||{$each:[]},V!=null&&A.hasUserDefinedProperty(V,"$each"))W.$push=V;else if(V.length===1)W.$push.$each.push(V[0]);else if(V.length<1e4){var q;(q=W.$push.$each).push.apply(q,function(me){if(Array.isArray(me))return b(me)}(we=V)||function(me){if(typeof Symbol<"u"&&me[Symbol.iterator]!=null||me["@@iterator"]!=null)return Array.from(me)}(we)||j(we)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())}else{var ne,fe=m(V);try{for(fe.s();!(ne=fe.n()).done;){var ve=ne.value;W.$push.$each.push(ve)}}catch(me){fe.e(me)}finally{fe.f()}}else W[F]=V;return this}var we},addToSet:function(){Z(this,arguments),te(this,arguments);var F=[].map.call(arguments,this._mapCast,this),V=[],H="";F[0]instanceof d?H="doc":F[0]instanceof Date?H="date":T(F[0],"ObjectId")&&(H="ObjectId");var W=A.isMongooseArray(F)?F.__array:F,z=A.isMongooseArray(this)?this.__array:this;return W.forEach(function(M){var q,ne=+M;switch(H){case"doc":q=this.some(function(fe){return fe.equals(M)});break;case"date":q=this.some(function(fe){return+fe===ne});break;case"ObjectId":q=this.find(function(fe){return fe.toString()===M.toString()});break;default:q=~this.indexOf(M)}q||(this._markModified(),z.push(M),this._registerAtomic("$addToSet",M),[].push.call(V,M))},this),V},hasAtomics:function(){return A.isPOJO(this[C])?Object.keys(this[C]).length:0},includes:function(F,V){return this.indexOf(F,V)!==-1},indexOf:function(F,V){T(F,"ObjectId")&&(F=F.toString()),V=V??0;for(var H=this.length,W=V;W<H;++W)if(F==this[W])return W;return-1},inspect:function(){return JSON.stringify(this)},nonAtomicPush:function(){var F=[].map.call(arguments,this._mapCast,this);this._markModified();var V=[].push.apply(this,F);return this._registerAtomic("$set",this),V},pop:function(){this._markModified();var F=[].pop.call(this);return this._registerAtomic("$set",this),F},pull:function(){var F=this,V=[].map.call(arguments,function(M,q){return F._cast(M,q,{defaults:!1})},this),H=this[w].get(this[v]);A.isMongooseArray(H)&&(H=H.__array);var W,z=H.length;for(this._markModified();z--;)(W=H[z])instanceof R?V.some(function(M){return W.equals(M)})&&H.splice(z,1):~this.indexOf.call(V,W)&&H.splice(z,1);return V[0]instanceof d?this._registerAtomic("$pullDocs",V.map(function(M){var q=M.$__getValue("_id");return q===void 0||M.$isDefault("_id")?M:q})):this._registerAtomic("$pullAll",V),$(this[w],this[v])>0&&this._registerAtomic("$set",this),this},push:function(){var F,V=arguments,H=V,W=V[0]!=null&&A.hasUserDefinedProperty(V[0],"$each"),z=A.isMongooseArray(this)?this.__array:this;if(W&&(H=V[0],V=V[0].$each),this[E]==null)return I.apply(this,V);Z(this,V),te(this,V),V=[].map.call(V,this._mapCast,this);var M=this[C];return this._markModified(),W?(H.$each=V,(M.$push&&M.$push.$each&&M.$push.$each.length||0)!==0&&M.$push.$position!=H.$position?(H.$position!=null?([].splice.apply(z,[H.$position,0].concat(V)),F=z.length):F=[].push.apply(z,V),this._registerAtomic("$set",this)):H.$position!=null?([].splice.apply(z,[H.$position,0].concat(V)),F=this.length):F=[].push.apply(z,V)):(H=V,F=I.apply(z,V)),this._registerAtomic("$push",H),F},remove:function(){return this.pull.apply(this,arguments)},set:function(F,V,H){var W=this.__array;if(H)return W[F]=V,this;var z=B._cast.call(this,V,F);return B._markModified.call(this,F),W[F]=z,this},shift:function(){var F=A.isMongooseArray(this)?this.__array:this;this._markModified();var V=[].shift.call(F);return this._registerAtomic("$set",this),V},sort:function(){var F=A.isMongooseArray(this)?this.__array:this,V=[].sort.apply(F,arguments);return this._registerAtomic("$set",this),V},splice:function(){var F,V=A.isMongooseArray(this)?this.__array:this;if(this._markModified(),Z(this,Array.prototype.slice.call(arguments,2)),arguments.length){var H;if(this[E]==null)H=arguments;else{H=[];for(var W=0;W<arguments.length;++W)H[W]=W<2?arguments[W]:this._cast(arguments[W],arguments[0]+(W-2))}F=[].splice.apply(V,H),this._registerAtomic("$set",this)}return F},toBSON:function(){return this.toObject(S)},toObject:function(F){var V=A.isMongooseArray(this)?this.__array:this;return F&&F.depopulate?((F=g(F))._isNested=!0,[].concat(V).map(function(H){return H instanceof R?H.toObject(F):H})):[].concat(V)},$toObject:function(){return this.constructor.prototype.toObject.apply(this,arguments)},unshift:function(){var F;Z(this,arguments),F=this[E]==null?arguments:[].map.call(arguments,this._cast,this);var V=A.isMongooseArray(this)?this.__array:this;return this._markModified(),[].unshift.apply(V,F),this._registerAtomic("$set",this),this.length}};function ee(F,V,H){if(typeof V=="string"){if(V.indexOf(".")===-1)return;V=x.stringToParts(V)}(H=H||0)>=V.length||F!=null&&h(F)==="object"&&(ee(F[V[0]],V,H+1),F[V[0]]!=null&&h(F[V[0]])==="object"&&Object.keys(F[V[0]]).length===0&&delete F[V[0]])}function Z(F,V){var H,W,z,M=F==null?null:F[E]&&F[E].caster&&F[E].caster.options&&F[E].caster.options.ref||null;F.length===0&&V.length!==0&&function(q,ne){if(!ne)return!1;var fe,ve=m(q);try{for(ve.s();!(fe=ve.n()).done;){var we=fe.value;if(we==null)return!1;var me=we.constructor;if(!(we instanceof R)||me.modelName!==ne&&me.baseModelName!==ne)return!1}}catch(ue){ve.e(ue)}finally{ve.f()}return!0}(V,M)&&F[w].$populated(F[v],[],(H={},W=N,z=V[0].constructor,(W=function(q){var ne=function(fe){if(h(fe)!="object"||!fe)return fe;var ve=fe[Symbol.toPrimitive];if(ve!==void 0){var we=ve.call(fe,"string");if(h(we)!="object")return we;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(fe)}(q);return h(ne)=="symbol"?ne:ne+""}(W))in H?Object.defineProperty(H,W,{value:z,enumerable:!0,configurable:!0,writable:!0}):H[W]=z,H))}function te(F,V){var H=F==null?null:F[E]&&F[E].caster&&F[E].caster.options&&F[E].caster.options.ref||null,W=F[w],z=F[v];if(H&&W.populated(z)){var M,q=m(V);try{for(q.s();!(M=q.n()).done;){var ne=M.value;if(ne!=null&&(h(ne)!=="object"||ne instanceof String||ne instanceof Number||ne instanceof f||A.isMongooseType(ne))){W.depopulate(z);break}}}catch(fe){q.e(fe)}finally{q.f()}}}for(var re=function(){var F=ge[ce];if(Array.prototype[F]==null)return 1;B[F]=function(){var V=A.isMongooseArray(this)?this.__array:this,H=[].concat(V);return H[F].apply(H,arguments)}},ce=0,ge=["filter","flat","flatMap","map","slice"];ce<ge.length;ce++)re();u.exports=B},8953:(u,c,s)=>{var f=s(3609);u.exports=function(h,m){if(u.exports.convertToTrue.has(h))return!0;if(u.exports.convertToFalse.has(h))return!1;if(h==null)return h;throw new f("boolean",h,m)},u.exports.convertToTrue=new Set([!0,"true",1,"1","yes"]),u.exports.convertToFalse=new Set([!1,"false",0,"0","no"])},8995:(u,c,s)=>{function f(R){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},f(R)}function h(){try{var R=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!R})()}function m(R){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(d){return d.__proto__||Object.getPrototypeOf(d)},m(R)}function j(R,d){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(_,$){return _.__proto__=$,_},j(R,d)}var b=function(R){function d($,g,S){var x;return function(A,T){if(!(A instanceof T))throw new TypeError("Cannot call a class as a function")}(this,d),(x=function(A,T,C){return T=m(T),function(w,v){if(v&&(f(v)=="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(w)}(A,h()?Reflect.construct(T,C||[],m(A).constructor):T.apply(A,C))}(this,d,[g=g||"Field `"+$+"` is not in schema and strict mode is set to throw."])).isImmutableError=!!S,x.path=$,x}return function($,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(g&&g.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),g&&j($,g)}(d,R),_=d,Object.defineProperty(_,"prototype",{writable:!1}),_;var _}(s(8213));Object.defineProperty(b.prototype,"name",{value:"StrictModeError"}),u.exports=b},9064:(u,c,s)=>{function f(b){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},f(b)}var h=s(3609),m=s(8953),j=s(1244);u.exports=function(b,R){if(b==null||f(b)!=="object")throw new h("$text",b,R);return b.$search!=null&&(b.$search=j(b.$search,R+".$search")),b.$language!=null&&(b.$language=j(b.$language,R+".$language")),b.$caseSensitive!=null&&(b.$caseSensitive=m(b.$caseSensitive,R+".$castSensitive")),b.$diacriticSensitive!=null&&(b.$diacriticSensitive=m(b.$diacriticSensitive,R+".$diacriticSensitive")),b}},9068:(u,c,s)=>{function f(B){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ee){return typeof ee}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":typeof ee},f(B)}function h(B,ee,Z){return ee in B?Object.defineProperty(B,ee,{value:Z,enumerable:!0,configurable:!0,writable:!0}):B[ee]=Z,B}function m(B,ee){for(var Z=0;Z<ee.length;Z++){var te=ee[Z];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(B,te.key,te)}}function j(B,ee){return!ee||g(ee)!=="object"&&typeof ee!="function"?b(B):ee}function b(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}function R(B){var ee=typeof Map=="function"?new Map:void 0;return R=function(Z){if(Z===null||(te=Z,Function.toString.call(te).indexOf("[native code]")===-1))return Z;var te;if(typeof Z!="function")throw new TypeError("Super expression must either be null or a function");if(ee!==void 0){if(ee.has(Z))return ee.get(Z);ee.set(Z,re)}function re(){return d(Z,arguments,$(this).constructor)}return re.prototype=Object.create(Z.prototype,{constructor:{value:re,enumerable:!1,writable:!0,configurable:!0}}),_(re,Z)},R(B)}function d(B,ee,Z){return d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(te,re,ce){var ge=[null];ge.push.apply(ge,re);var F=new(Function.bind.apply(te,ge));return ce&&_(F,ce.prototype),F},d.apply(null,arguments)}function _(B,ee){return _=Object.setPrototypeOf||function(Z,te){return Z.__proto__=te,Z},_(B,ee)}function $(B){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(ee){return ee.__proto__||Object.getPrototypeOf(ee)},$(B)}function g(B){return g=typeof Symbol=="function"&&f(Symbol.iterator)==="symbol"?function(ee){return f(ee)}:function(ee){return ee&&typeof Symbol=="function"&&ee.constructor===Symbol&&ee!==Symbol.prototype?"symbol":f(ee)},g(B)}var S=s(7352).inspect,x=s(3743).codes.ERR_INVALID_ARG_TYPE;function A(B,ee,Z){return(Z===void 0||Z>B.length)&&(Z=B.length),B.substring(Z-ee.length,Z)===ee}var T="",C="",w="",v="",E={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function N(B){var ee=Object.keys(B),Z=Object.create(Object.getPrototypeOf(B));return ee.forEach(function(te){Z[te]=B[te]}),Object.defineProperty(Z,"message",{value:B.message}),Z}function P(B){return S(B,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var I=function(B){function ee(re){var ce;if(function(we,me){if(!(we instanceof me))throw new TypeError("Cannot call a class as a function")}(this,ee),g(re)!=="object"||re===null)throw new x("options","Object",re);var ge=re.message,F=re.operator,V=re.stackStartFn,H=re.actual,W=re.expected,z=Error.stackTraceLimit;if(Error.stackTraceLimit=0,ge!=null)ce=j(this,$(ee).call(this,String(ge)));else if({}.stderr&&{}.stderr.isTTY&&({}.stderr&&{}.stderr.getColorDepth&&{}.stderr.getColorDepth()!==1?(T="\x1B[34m",C="\x1B[32m",v="\x1B[39m",w="\x1B[31m"):(T="",C="",v="",w="")),g(H)==="object"&&H!==null&&g(W)==="object"&&W!==null&&"stack"in H&&H instanceof Error&&"stack"in W&&W instanceof Error&&(H=N(H),W=N(W)),F==="deepStrictEqual"||F==="strictEqual")ce=j(this,$(ee).call(this,function(we,me,ue){var _e="",L="",X=0,oe="",Oe=!1,le=P(we),pe=le.split(`
`),Ae=P(me).split(`
`),K=0,ie="";if(ue==="strictEqual"&&g(we)==="object"&&g(me)==="object"&&we!==null&&me!==null&&(ue="strictEqualObject"),pe.length===1&&Ae.length===1&&pe[0]!==Ae[0]){var ye=pe[0].length+Ae[0].length;if(ye<=10){if(!(g(we)==="object"&&we!==null||g(me)==="object"&&me!==null||we===0&&me===0))return"".concat(E[ue],`

`)+"".concat(pe[0]," !== ").concat(Ae[0],`
`)}else if(ue!=="strictEqualObject"&&ye<({}.stderr&&{}.stderr.isTTY?{}.stderr.columns:80)){for(;pe[0][K]===Ae[0][K];)K++;K>2&&(ie=`
  `.concat(function(It,_t){if(_t=Math.floor(_t),It.length==0||_t==0)return"";var gn=It.length*_t;for(_t=Math.floor(Math.log(_t)/Math.log(2));_t;)It+=It,_t--;return It+It.substring(0,gn-It.length)}(" ",K),"^"),K=0)}}for(var je=pe[pe.length-1],de=Ae[Ae.length-1];je===de&&(K++<2?oe=`
  `.concat(je).concat(oe):_e=je,pe.pop(),Ae.pop(),pe.length!==0&&Ae.length!==0);)je=pe[pe.length-1],de=Ae[Ae.length-1];var De=Math.max(pe.length,Ae.length);if(De===0){var He=le.split(`
`);if(He.length>30)for(He[26]="".concat(T,"...").concat(v);He.length>27;)He.pop();return"".concat(E.notIdentical,`

`).concat(He.join(`
`),`
`)}K>3&&(oe=`
`.concat(T,"...").concat(v).concat(oe),Oe=!0),_e!==""&&(oe=`
  `.concat(_e).concat(oe),_e="");var Ve=0,ke=E[ue]+`
`.concat(C,"+ actual").concat(v," ").concat(w,"- expected").concat(v),Je=" ".concat(T,"...").concat(v," Lines skipped");for(K=0;K<De;K++){var Ue=K-X;if(pe.length<K+1)Ue>1&&K>2&&(Ue>4?(L+=`
`.concat(T,"...").concat(v),Oe=!0):Ue>3&&(L+=`
  `.concat(Ae[K-2]),Ve++),L+=`
  `.concat(Ae[K-1]),Ve++),X=K,_e+=`
`.concat(w,"-").concat(v," ").concat(Ae[K]),Ve++;else if(Ae.length<K+1)Ue>1&&K>2&&(Ue>4?(L+=`
`.concat(T,"...").concat(v),Oe=!0):Ue>3&&(L+=`
  `.concat(pe[K-2]),Ve++),L+=`
  `.concat(pe[K-1]),Ve++),X=K,L+=`
`.concat(C,"+").concat(v," ").concat(pe[K]),Ve++;else{var tt=Ae[K],xt=pe[K],Tt=xt!==tt&&(!A(xt,",")||xt.slice(0,-1)!==tt);Tt&&A(tt,",")&&tt.slice(0,-1)===xt&&(Tt=!1,xt+=","),Tt?(Ue>1&&K>2&&(Ue>4?(L+=`
`.concat(T,"...").concat(v),Oe=!0):Ue>3&&(L+=`
  `.concat(pe[K-2]),Ve++),L+=`
  `.concat(pe[K-1]),Ve++),X=K,L+=`
`.concat(C,"+").concat(v," ").concat(xt),_e+=`
`.concat(w,"-").concat(v," ").concat(tt),Ve+=2):(L+=_e,_e="",Ue!==1&&K!==0||(L+=`
  `.concat(xt),Ve++))}if(Ve>20&&K<De-2)return"".concat(ke).concat(Je,`
`).concat(L,`
`).concat(T,"...").concat(v).concat(_e,`
`)+"".concat(T,"...").concat(v)}return"".concat(ke).concat(Oe?Je:"",`
`).concat(L).concat(_e).concat(oe).concat(ie)}(H,W,F)));else if(F==="notDeepStrictEqual"||F==="notStrictEqual"){var M=E[F],q=P(H).split(`
`);if(F==="notStrictEqual"&&g(H)==="object"&&H!==null&&(M=E.notStrictEqualObject),q.length>30)for(q[26]="".concat(T,"...").concat(v);q.length>27;)q.pop();ce=q.length===1?j(this,$(ee).call(this,"".concat(M," ").concat(q[0]))):j(this,$(ee).call(this,"".concat(M,`

`).concat(q.join(`
`),`
`)))}else{var ne=P(H),fe="",ve=E[F];F==="notDeepEqual"||F==="notEqual"?(ne="".concat(E[F],`

`).concat(ne)).length>1024&&(ne="".concat(ne.slice(0,1021),"...")):(fe="".concat(P(W)),ne.length>512&&(ne="".concat(ne.slice(0,509),"...")),fe.length>512&&(fe="".concat(fe.slice(0,509),"...")),F==="deepEqual"||F==="equal"?ne="".concat(ve,`

`).concat(ne,`

should equal

`):fe=" ".concat(F," ").concat(fe)),ce=j(this,$(ee).call(this,"".concat(ne).concat(fe)))}return Error.stackTraceLimit=z,ce.generatedMessage=!ge,Object.defineProperty(b(ce),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),ce.code="ERR_ASSERTION",ce.actual=H,ce.expected=W,ce.operator=F,Error.captureStackTrace&&Error.captureStackTrace(b(ce),V),ce.stack,ce.name="AssertionError",j(ce)}var Z,te;return function(re,ce){if(typeof ce!="function"&&ce!==null)throw new TypeError("Super expression must either be null or a function");re.prototype=Object.create(ce&&ce.prototype,{constructor:{value:re,writable:!0,configurable:!0}}),ce&&_(re,ce)}(ee,B),Z=ee,te=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:S.custom,value:function(re,ce){return S(this,function(ge){for(var F=1;F<arguments.length;F++){var V=arguments[F]!=null?arguments[F]:{},H=Object.keys(V);typeof Object.getOwnPropertySymbols=="function"&&(H=H.concat(Object.getOwnPropertySymbols(V).filter(function(W){return Object.getOwnPropertyDescriptor(V,W).enumerable}))),H.forEach(function(W){h(ge,W,V[W])})}return ge}({},ce,{customInspect:!1,depth:0}))}}],te&&m(Z.prototype,te),ee}(R(Error));u.exports=I},9122:(u,c,s)=>{var f=s(3900),h=s(988),m=s(8863),j=s(5804);u.exports=function(b){var R=m(arguments),d=b.length-(arguments.length-1);return f(R,1+(d>0?d:0),!0)},h?h(u.exports,"apply",{value:j}):u.exports.apply=j},9123:(u,c,s)=>{function f(V){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},f(V)}function h(V,H){var W=Object.keys(V);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(V);H&&(z=z.filter(function(M){return Object.getOwnPropertyDescriptor(V,M).enumerable})),W.push.apply(W,z)}return W}function m(V){for(var H=1;H<arguments.length;H++){var W=arguments[H]!=null?arguments[H]:{};H%2?h(Object(W),!0).forEach(function(z){j(V,z,W[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(W)):h(Object(W)).forEach(function(z){Object.defineProperty(V,z,Object.getOwnPropertyDescriptor(W,z))})}return V}function j(V,H,W){return(H=function(z){var M=function(q){if(f(q)!="object"||!q)return q;var ne=q[Symbol.toPrimitive];if(ne!==void 0){var fe=ne.call(q,"string");if(f(fe)!="object")return fe;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(q)}(z);return f(M)=="symbol"?M:M+""}(H))in V?Object.defineProperty(V,H,{value:W,enumerable:!0,configurable:!0,writable:!0}):V[H]=W,V}var b,R,d=s(3609),_=s(8235),$=s(3550).EventEmitter,g=s(7760),S=s(4561),x=s(6426),A=s(7982),T=s(4327),C=s(1469),w=s(1313),v=s(3216),E=s(5110),N=s(8768),P=s(7910),I=s(5537),B=s(7930).arrayAtomicsSymbol,ee=s(7930).arrayPathSymbol,Z=s(7930).documentArrayParent;function te(V,H,W,z){if(H.options&&H.options.timeseries)throw new I(V,"timeseries");var M=te.defaultOptions&&te.defaultOptions._id;M!=null&&((z=z||{})._id=M),z!=null&&z._id!=null?H=w(H,z):W!=null&&W._id!=null&&(H=w(H,W));var q=re(H,W);q.prototype.$basePath=V,g.call(this,V,q,W),this.schema=H,this.schemaOptions=z||{},this.$isMongooseDocumentArray=!0,this.Constructor=q,q.base=H.base;var ne=this.defaultValue;"defaultValue"in this&&ne==null||this.default(function(){var fe=ne.call(this);return fe==null||Array.isArray(fe)||(fe=[fe]),fe}),this.$embeddedSchemaType=new _(V+".$",m(m({},z||{}),{},{$parentSchemaType:this})),this.$embeddedSchemaType.caster=this.Constructor,this.$embeddedSchemaType.schema=this.schema}function re(V,H,W){function z(){R.apply(this,arguments),this.__parentArray!=null&&this.__parentArray.getArrayParent()!=null&&this.$session(this.__parentArray.getArrayParent().$session())}R||(R=s(6547)),V._preCompile();var M=W!=null?W.prototype:R.prototype;for(var q in z.prototype=Object.create(M),z.prototype.$__setSchema(V),z.schema=V,z.prototype.constructor=z,z.$isArraySubdocument=!0,z.events=new $,z.base=V.base,V.methods)z.prototype[q]=V.methods[q];for(var ne in V.statics)z[ne]=V.statics[ne];for(var fe in $.prototype)z[fe]=$.prototype[fe];return z.options=H,z}te.schemaName="DocumentArray",te.options={castNonArrays:!0},te.prototype=Object.create(g.prototype),te.prototype.constructor=te,te.prototype.OptionsConstructor=S,Object.defineProperty(te.prototype,"$conditionalHandlers",{enumerable:!1,value:m({},g.prototype.$conditionalHandlers)}),te.prototype.discriminator=function(V,H,W){var z;typeof V=="function"&&(V=N.getFunctionName(V)),W=W||{};var M=N.isPOJO(W)?W.value:W,q=typeof W.clone!="boolean"||W.clone;H.instanceOfSchema&&q&&(H=H.clone());var ne=re(H=C(this.casterConstructor,V,H,M,null,null,(z=W)===null||z===void 0?void 0:z.overwriteExisting),null,this.casterConstructor);ne.baseCasterConstructor=this.casterConstructor;try{Object.defineProperty(ne,"name",{value:V})}catch{}return this.casterConstructor.discriminators[V]=ne,this.casterConstructor.discriminators[V]},te.prototype.doValidate=function(V,H,W,z){b||(b=s(4878));var M=this;try{x.prototype.doValidate.call(this,V,function(q){if(q)return H(q);var ne,fe=V&&V.length;if(!fe||z&&z.updateValidator)return H();function ve(L){L!=null&&(ne=L),--fe||H(ne)}N.isMongooseDocumentArray(V)||(V=new b(V,M.path,W));for(var we=0,me=fe;we<me;++we){var ue=V[we];if(ue!=null){if(!(ue instanceof R)){var _e=P(M.casterConstructor,V[we]);ue=V[we]=new _e(ue,V,void 0,void 0,we)}z==null||!z.validateModifiedOnly||ue.$isModified()?ue.$__validate(null,z,ve):--fe||H(ne)}else--fe||H(ne)}},W)}catch(q){return H(q)}},te.prototype.doValidateSync=function(V,H,W){var z=x.prototype.doValidateSync.call(this,V,H);if(z!=null)return z;var M=V&&V.length,q=null;if(M){for(var ne=0,fe=M;ne<fe;++ne){var ve=V[ne];if(ve){if(!(ve instanceof R)){var we=P(this.casterConstructor,V[ne]);ve=V[ne]=new we(ve,V,void 0,void 0,ne)}if(W==null||!W.validateModifiedOnly||ve.$isModified()){var me=ve.validateSync(W);me&&q==null&&(q=me)}}}return q}},te.prototype.getDefault=function(V,H,W){var z=typeof this.defaultValue=="function"?this.defaultValue.call(V):this.defaultValue;if(z==null||W&&W.skipCast)return z;b||(b=s(4878)),Array.isArray(z)||(z=[z]),z=new b(z,this.path,V);for(var M=0;M<z.length;++M){var q=new(P(this.casterConstructor,z[M]))({},z,void 0,void 0,M);q.$init(z[M]),q.isNew=!0,Object.assign(q.$__.activePaths.default,q.$__.activePaths.init),q.$__.activePaths.init={},z[M]=q}return z};var ce=Object.freeze({transform:!1,virtuals:!1}),ge=Object.freeze({skipId:!1,willInit:!0});function F(V,H,W){if(W&&H){for(var z,M,q,ne=V.path+".",fe=Object.keys(H),ve=fe.length,we={};ve--;)if((M=fe[ve]).startsWith(ne)){if((q=M.substring(ne.length))==="$")continue;q.startsWith("$.")&&(q=q.substring(2)),z||(z=!0),we[q]=H[M]}return z&&we||void 0}}te.prototype.cast=function(V,H,W,z,M){if(b||(b=s(4878)),V!=null&&V[ee]!=null&&V===z)return V;var q,ne,fe=(M=M||{}).path||this.path;if(!Array.isArray(V)){if(!W&&!te.options.castNonArrays)throw new d("DocumentArray",V,this.path,null,this);return H&&W&&H.markModified(fe),this.cast([V],H,W,z,M)}M.skipDocumentArrayCast&&!N.isMongooseDocumentArray(V)||(V=new b(V,fe,H,this)),z!=null&&(V[B]=z[B]||{}),M.arrayPathIndex!=null&&(V[ee]=fe+"."+M.arrayPathIndex);for(var ve=N.isMongooseDocumentArray(V)?V.__array:V,we=ve.length,me=0;me<we;++me)if(ve[me]){var ue=P(this.casterConstructor,ve[me]),_e=v(ve[me],!0);if(ve[me]!==_e&&(ve[me]=_e),ve[me]instanceof R){if(ve[me][Z]!==H)if(W){var L=new ue(null,V,ge,q,me);ve[me]=L.$init(ve[me])}else{var X=new ue(ve[me],V,void 0,void 0,me);ve[me]=X}ve[me].__index==null&&ve[me].$setIndex(me)}else if(ve[me]!=null)if(W)H?q||(q=F(this,H.$__.selected,W)):q=!0,ne=new ue(null,V,ge,q,me),ve[me]=ne.$init(ve[me]);else if(z&&typeof z.id=="function"&&(ne=z.id(ve[me]._id)),z&&ne&&N.deepEqual(ne.toObject(ce),ve[me]))ne.set(ve[me]),ve[me]=ne;else try{ne=new ue(ve[me],V,void 0,void 0,me),ve[me]=ne}catch(oe){throw new d("embedded",ve[me],V[ee],oe,this)}}return V},te.prototype.clone=function(){var V=Object.assign({},this.options),H=new this.constructor(this.path,this.schema,V,this.schemaOptions);return H.validators=this.validators.slice(),this.requiredValidator!==void 0&&(H.requiredValidator=this.requiredValidator),H.Constructor.discriminators=Object.assign({},this.Constructor.discriminators),H._appliedDiscriminators=this._appliedDiscriminators,H},te.prototype.applyGetters=function(V,H){return x.prototype.applyGetters.call(this,V,H)},te.defaultOptions={},te.set=x.set,te.setters=[],te.get=x.get,te.prototype.$conditionalHandlers.$elemMatch=function(V,H){for(var W,z=Object.keys(V),M=z.length,q=0;q<M;++q){var ne=z[q],fe=V[ne];E(ne)&&fe!=null&&(V[ne]=this.castForQuery(ne,fe,H))}var ve=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.options&&this.casterConstructor.schema.options.discriminatorKey,we=this&&this.casterConstructor&&this.casterConstructor.schema&&this.casterConstructor.schema.discriminators||{};if(ve!=null&&V[ve]!=null&&we[V[ve]]!=null)return A(we[V[ve]],V,null,this&&this.$$context);var me=(W=this.casterConstructor.schema)!==null&&W!==void 0?W:H.schema;return A(me,V,null,this&&this.$$context)},te.prototype.toJSONSchema=function(V){var H=T("object","object",V==null?void 0:V.useBsonType,!1),W=this.options.required&&typeof this.options.required!="function";return m(m({},T("array","array",V==null?void 0:V.useBsonType,W)),{},{items:m(m({},H),this.schema.toJSONSchema(V))})},u.exports=te},9166:(u,c,s)=>{function f(d,_){var $=typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(!$){if(Array.isArray(d)||($=function(C,w){if(C){if(typeof C=="string")return h(C,w);var v={}.toString.call(C).slice(8,-1);return v==="Object"&&C.constructor&&(v=C.constructor.name),v==="Map"||v==="Set"?Array.from(C):v==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(v)?h(C,w):void 0}}(d))||_){$&&(d=$);var g=0,S=function(){};return{s:S,n:function(){return g>=d.length?{done:!0}:{done:!1,value:d[g++]}},e:function(C){throw C},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x,A=!0,T=!1;return{s:function(){$=$.call(d)},n:function(){var C=$.next();return A=C.done,C},e:function(C){T=!0,x=C},f:function(){try{A||$.return==null||$.return()}finally{if(T)throw x}}}}function h(d,_){(_==null||_>d.length)&&(_=d.length);for(var $=0,g=Array(_);$<_;$++)g[$]=d[$];return g}var m=s(8759),j=s(3696);function b(d,_,$){if(_!=null){var g=Object.keys(_).some(function(B){return B[0]==="$"});if(g){if(_.$push&&I(_.$push),_.$addToSet&&I(_.$addToSet),_.$set!=null)for(var S=0,x=Object.keys(_.$set);S<x.length;S++){var A=x[S];R($,A,_.$set,d)}if(_.$setOnInsert!=null)for(var T=0,C=Object.keys(_.$setOnInsert);T<C.length;T++){var w=C[T];R($,w,_.$setOnInsert,d)}}var v,E=Object.keys(_).filter(function(B){return B[0]!=="$"}),N=f(E);try{for(N.s();!(v=N.n()).done;){var P=v.value;R($,P,_,d)}}catch(B){N.e(B)}finally{N.f()}}function I(B){for(var ee=function(){var re=te[Z],ce=$.path(re.replace(/\.\$\./i,".").replace(/.\$$/,""));if(B[re]&&ce&&ce.$isMongooseDocumentArray&&ce.schema.options.timestamps){var ge=ce.schema.options.timestamps,F=j(ge,"createdAt"),V=j(ge,"updatedAt");B[re].$each?B[re].$each.forEach(function(H){V!=null&&(H[V]=d),F!=null&&(H[F]=d),b(d,H,ce.schema)}):(V!=null&&(B[re][V]=d),F!=null&&(B[re][F]=d),b(d,B[re],ce.schema))}},Z=0,te=Object.keys(B);Z<te.length;Z++)ee()}}function R(d,_,$,g){var S=m(_),x=d.path(S);if(x){for(var A=[],T=S.split("."),C=T.length-1;C>0;--C){var w=d.path(T.slice(0,C).join("."));w!=null&&(w.$isMongooseDocumentArray||w.$isSingleNested)&&A.push({parentPath:_.split(".").slice(0,C).join("."),parentSchemaType:w})}if(Array.isArray($[_])&&x.$isMongooseDocumentArray)(function(F,V,H){var W=V.schema.options.timestamps,z=F.length;if(W)for(var M=j(W,"createdAt"),q=j(W,"updatedAt"),ne=0;ne<z;++ne)q!=null&&(F[ne][q]=H),M!=null&&(F[ne][M]=H),b(H,F[ne],V.schema);else for(var fe=0;fe<z;++fe)b(H,F[fe],V.schema)})($[_],x,g);else if($[_]&&x.$isSingleNested)(function(F,V,H){var W=V.schema.options.timestamps;if(W){var z=j(W,"createdAt"),M=j(W,"updatedAt");M!=null&&(F[M]=H),z!=null&&(F[z]=H),b(H,F,V.schema)}else b(H,F,V.schema)})($[_],x,g);else if(A.length>0){var v,E=f(A);try{for(E.s();!(v=E.n()).done;){var N=v.value,P=N.parentPath,I=N.parentSchemaType,B=I.schema.options.timestamps,ee=j(B,"updatedAt");if(B&&ee!=null){if(I.$isSingleNested)$[P+"."+ee]=g;else if(I.$isMongooseDocumentArray){var Z=_.substring(P.length+1);if(/^\d+$/.test(Z)){$[P+"."+Z][ee]=g;continue}var te=Z.indexOf(".");$[P+"."+(Z=te!==-1?Z.substring(0,te):Z)+"."+ee]=g}}}}catch(F){E.e(F)}finally{E.f()}}else if(x.schema!=null&&x.schema!=d&&$[_]){var re=x.schema.options.timestamps,ce=j(re,"createdAt"),ge=j(re,"updatedAt");if(!re)return;ge!=null&&($[_][ge]=g),ce!=null&&($[_][ce]=g)}}}u.exports=b},9183:u=>{u.exports=function(c){return typeof c=="function"&&c.constructor&&c.constructor.name==="AsyncFunction"}},9206:u=>{u.exports=EvalError},9247:(u,c,s)=>{var f=s(2481),h=s(2273);u.exports=function(){var m=f();return h(Object,{is:m},{is:function(){return Object.is!==m}}),m}},9344:(u,c,s)=>{function f(x){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},f(x)}var h,m=s(3071),j=s(953)(),b=s(5994),R=s(1464);if(j){var d=m("RegExp.prototype.exec"),_={},$=function(){throw _},g={toString:$,valueOf:$};f(Symbol.toPrimitive)==="symbol"&&(g[Symbol.toPrimitive]=$),h=function(x){if(!x||f(x)!=="object")return!1;var A=R(x,"lastIndex");if(!A||!b(A,"value"))return!1;try{d(x,g)}catch(T){return T===_}}}else{var S=m("Object.prototype.toString");h=function(x){return!(!x||f(x)!=="object"&&typeof x!="function")&&S(x)==="[object RegExp]"}}u.exports=h},9380:(u,c,s)=>{function f(){var S,x,A=typeof Symbol=="function"?Symbol:{},T=A.iterator||"@@iterator",C=A.toStringTag||"@@toStringTag";function w(Z,te,re,ce){var ge=te&&te.prototype instanceof E?te:E,F=Object.create(ge.prototype);return h(F,"_invoke",function(V,H,W){var z,M,q,ne=0,fe=W||[],ve=!1,we={p:0,n:0,v:S,a:me,f:me.bind(S,4),d:function(ue,_e){return z=ue,M=0,q=S,we.n=_e,v}};function me(ue,_e){for(M=ue,q=_e,x=0;!ve&&ne&&!L&&x<fe.length;x++){var L,X=fe[x],oe=we.p,Oe=X[2];ue>3?(L=Oe===_e)&&(q=X[(M=X[4])?5:(M=3,3)],X[4]=X[5]=S):X[0]<=oe&&((L=ue<2&&oe<X[1])?(M=0,we.v=_e,we.n=X[1]):oe<Oe&&(L=ue<3||X[0]>_e||_e>Oe)&&(X[4]=ue,X[5]=_e,we.n=Oe,M=0))}if(L||ue>1)return v;throw ve=!0,_e}return function(ue,_e,L){if(ne>1)throw TypeError("Generator is already running");for(ve&&_e===1&&me(_e,L),M=_e,q=L;(x=M<2?S:q)||!ve;){z||(M?M<3?(M>1&&(we.n=-1),me(M,q)):we.n=q:we.v=q);try{if(ne=2,z){if(M||(ue="next"),x=z[ue]){if(!(x=x.call(z,q)))throw TypeError("iterator result is not an object");if(!x.done)return x;q=x.value,M<2&&(M=0)}else M===1&&(x=z.return)&&x.call(z),M<2&&(q=TypeError("The iterator does not provide a '"+ue+"' method"),M=1);z=S}else if((x=(ve=we.n<0)?q:V.call(H,we))!==v)break}catch(X){z=S,M=1,q=X}finally{ne=1}}return{value:x,done:ve}}}(Z,re,ce),!0),F}var v={};function E(){}function N(){}function P(){}x=Object.getPrototypeOf;var I=[][T]?x(x([][T]())):(h(x={},T,function(){return this}),x),B=P.prototype=E.prototype=Object.create(I);function ee(Z){return Object.setPrototypeOf?Object.setPrototypeOf(Z,P):(Z.__proto__=P,h(Z,C,"GeneratorFunction")),Z.prototype=Object.create(B),Z}return N.prototype=P,h(B,"constructor",P),h(P,"constructor",N),N.displayName="GeneratorFunction",h(P,C,"GeneratorFunction"),h(B),h(B,C,"Generator"),h(B,T,function(){return this}),h(B,"toString",function(){return"[object Generator]"}),(f=function(){return{w,m:ee}})()}function h(S,x,A,T){var C=Object.defineProperty;try{C({},"",{})}catch{C=0}h=function(w,v,E,N){function P(I,B){h(w,I,function(ee){return this._invoke(I,B,ee)})}v?C?C(w,v,{value:E,enumerable:!N,configurable:!N,writable:!N}):w[v]=E:(P("next",0),P("throw",1),P("return",2))},h(S,x,A,T)}function m(S,x,A,T,C,w,v){try{var E=S[w](v),N=E.value}catch(P){return void A(P)}E.done?x(N):Promise.resolve(N).then(T,C)}function j(S){return j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},j(S)}var b=s(2400),R=s(2746),d=s(3303)._,_=s(7352),$=s(8768);function g(S,x,A,T,C){if(j(T)==="object"&&T!=null&&C==null&&(C=T,T=void 0),A!=null){var w={isNew:A.isNew};"defaults"in A.$__&&(w.defaults=A.$__.defaults),C=Object.assign(w,C)}C!=null&&C.path!=null&&(this.$basePath=C.path),b.call(this,S,x,T,C),delete this.$__.priorDoc}u.exports=g,g.prototype=Object.create(b.prototype),Object.defineProperty(g.prototype,"$isSubdocument",{configurable:!1,writable:!1,value:!0}),Object.defineProperty(g.prototype,"$isSingleNested",{configurable:!1,writable:!1,value:!0}),g.prototype.toBSON=function(){return this.toObject(d)},g.prototype.save=function(){var S,x=(S=f().m(function A(T){var C=this;return f().w(function(w){for(;;)if(w.n===0)return(T=T||{}).suppressWarning||$.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you're sure this behavior is right for your app."),w.a(2,new Promise(function(v,E){C.$__save(function(N){if(N!=null)return E(N);v(C)})}))},A)}),function(){var A=this,T=arguments;return new Promise(function(C,w){var v=S.apply(A,T);function E(P){m(v,C,w,E,N,"next",P)}function N(P){m(v,C,w,E,N,"throw",P)}E(void 0)})});return function(A){return x.apply(this,arguments)}}(),g.prototype.$__fullPath=function(S){return this.$__.fullPath||this.ownerDocument(),S?this.$__.fullPath+"."+S:this.$__.fullPath},g.prototype.$__pathRelativeToParent=function(S){return S==null?this.$basePath:[this.$basePath,S].join(".")},g.prototype.$__save=function(S){var x=this;return R(function(){return S(null,x)})},g.prototype.$isValid=function(S){var x=this.$parent(),A=this.$__pathRelativeToParent(S);return x!=null&&A!=null?x.$isValid(A):b.prototype.$isValid.call(this,S)},g.prototype.markModified=function(S){b.prototype.markModified.call(this,S);var x=this.$parent(),A=this.$__pathRelativeToParent(S);if(x!=null&&A!=null){var T=this.$__pathRelativeToParent().replace(/\.$/,"");x.isDirectModified(T)||this.isNew||this.$__parent.markModified(A,this)}},g.prototype.isModified=function(S,x,A){var T=this,C=this.$parent();return C!=null?(Array.isArray(S)||typeof S=="string"?S=(S=Array.isArray(S)?S:S.split(" ")).map(function(w){return T.$__pathRelativeToParent(w)}).filter(function(w){return w!=null}):S||(S=this.$__pathRelativeToParent()),C.$isModified(S,x,A)):b.prototype.isModified.call(this,S,x,A)},g.prototype.$markValid=function(S){b.prototype.$markValid.call(this,S);var x=this.$parent(),A=this.$__pathRelativeToParent(S);x!=null&&A!=null&&x.$markValid(A)},g.prototype.invalidate=function(S,x,A){b.prototype.invalidate.call(this,S,x,A);var T=this.$parent(),C=this.$__pathRelativeToParent(S);if(T!=null&&C!=null)T.invalidate(C,x,A);else if(x.kind==="cast"||x.name==="CastError"||C==null)throw x;return this.ownerDocument().$__.validationError},g.prototype.$ignore=function(S){b.prototype.$ignore.call(this,S);var x=this.$parent(),A=this.$__pathRelativeToParent(S);x!=null&&A!=null&&x.$ignore(A)},g.prototype.ownerDocument=function(){if(this.$__.ownerDocument)return this.$__.ownerDocument;for(var S=this,x=[],A=new Set([S]);typeof S.$__pathRelativeToParent=="function";){x.unshift(S.$__pathRelativeToParent(void 0,!0));var T=S.$parent();if(T==null)break;if(S=T,A.has(S))throw new Error("Infinite subdocument loop: subdoc with _id "+S._id+" is a parent of itself");A.add(S)}return this.$__.fullPath=x.join("."),this.$__.ownerDocument=S,this.$__.ownerDocument},g.prototype.$__fullPathWithIndexes=function(){for(var S=this,x=[],A=new Set([S]);typeof S.$__pathRelativeToParent=="function";){x.unshift(S.$__pathRelativeToParent(void 0,!1));var T=S.$parent();if(T==null)break;if(S=T,A.has(S))throw new Error("Infinite subdocument loop: subdoc with _id "+S._id+" is a parent of itself");A.add(S)}return x.join(".")},g.prototype.parent=function(){return this.$__parent},g.prototype.$parent=g.prototype.parent,g.prototype.$__deleteOne=function(S){if(S!=null)return S(null,this)},g.prototype.$__removeFromParent=function(){this.$__parent.set(this.$basePath,null)},g.prototype.deleteOne=function(S,x){if(typeof S=="function"&&(x=S,S=null),function(T){var C=T.ownerDocument();function w(){C.$removeListener("save",w),C.$removeListener("deleteOne",w),T.emit("deleteOne",T),T.constructor.emit("deleteOne",T)}C.$on("save",w),C.$on("deleteOne",w)}(this),!S||!S.noop){this.$__removeFromParent();var A=this.ownerDocument();A.$__.removedSubdocs=A.$__.removedSubdocs||[],A.$__.removedSubdocs.push(this)}return this.$__deleteOne(x)},g.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.nested.populate("path")`, use `doc.populate("nested.path")`')},g.prototype.inspect=function(){return this.toObject()},_.inspect.custom&&(g.prototype[_.inspect.custom]=g.prototype.inspect),g.prototype.$toObject=function(S,x){var A,T,C,w,v=b.prototype.$toObject.call(this,S,x);if(Object.keys(v).length!==0||(S==null?void 0:S._calledWithOptions)==null||!((A=(T=(C=S._calledWithOptions)===null||C===void 0?void 0:C.minimize)!==null&&T!==void 0?T:this==null||(w=this.$__schemaTypeOptions)===null||w===void 0?void 0:w.minimize)!==null&&A!==void 0?A:S.minimize)||this.constructor.$__required)return v}},9460:(u,c,s)=>{var f=s(5832).hp,h=s(3609);function m(j,b){var R=Number(b);if(isNaN(R))throw new h("number",b,j);return R}u.exports=function(j){var b=this;return Array.isArray(j)?j.map(function(R){return m(b.path,R)}):f.isBuffer(j)?j:m(b.path,j)}},9471:u=>{u.exports=Math.abs},9528:(u,c,s)=>{function f(d){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},f(d)}function h(){try{var d=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h=function(){return!!d})()}function m(d){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},m(d)}function j(d,_){return j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function($,g){return $.__proto__=g,$},j(d,_)}var b=function(d){function _(){return function(g,S){if(!(g instanceof S))throw new TypeError("Cannot call a class as a function")}(this,_),function(g,S,x){return S=m(S),function(A,T){if(T&&(f(T)=="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}(A)}(g,h()?Reflect.construct(S,x||[],m(g).constructor):S.apply(g,x))}(this,_,arguments)}return function(g,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(S&&S.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),S&&j(g,S)}(_,d),$=_,Object.defineProperty($,"prototype",{writable:!1}),$;var $}(s(8879)),R=s(5761);Object.defineProperty(b.prototype,"enum",R),Object.defineProperty(b.prototype,"match",R),Object.defineProperty(b.prototype,"lowercase",R),Object.defineProperty(b.prototype,"trim",R),Object.defineProperty(b.prototype,"uppercase",R),Object.defineProperty(b.prototype,"minLength",R),Object.defineProperty(b.prototype,"minlength",R),Object.defineProperty(b.prototype,"maxLength",R),Object.defineProperty(b.prototype,"maxlength",R),Object.defineProperty(b.prototype,"populate",R),u.exports=b},9538:(u,c,s)=>{function f(g){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},f(g)}function h(g,S){for(var x=0;x<S.length;x++){var A=S[x];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(g,m(A.key),A)}}function m(g){var S=function(x){if(f(x)!="object"||!x)return x;var A=x[Symbol.toPrimitive];if(A!==void 0){var T=A.call(x,"string");if(f(T)!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(x)}(g);return f(S)=="symbol"?S:S+""}function j(){try{var g=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(j=function(){return!!g})()}function b(g){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(S){return S.__proto__||Object.getPrototypeOf(S)},b(g)}function R(g,S){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(x,A){return x.__proto__=A,x},R(g,S)}var d=s(8213),_=function(g){function S(T,C){var w;(function(N,P){if(!(N instanceof P))throw new TypeError("Cannot call a class as a function")})(this,S);var v=T.message;v||(v=d.messages.general.default);var E=$(v,T,C);return w=function(N,P,I){return P=b(P),function(B,ee){if(ee&&(f(ee)=="object"||typeof ee=="function"))return ee;if(ee!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(Z){if(Z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}(B)}(N,j()?Reflect.construct(P,I||[],b(N).constructor):P.apply(N,I))}(this,S,[E]),T=Object.assign({},T,{message:E}),w.properties=T,w.kind=T.type,w.path=T.path,w.value=T.value,w.reason=T.reason,w}return function(T,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(C&&C.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),C&&R(T,C)}(S,g),x=S,(A=[{key:"toString",value:function(){return this.message}},{key:"toJSON",value:function(){return Object.assign({name:this.name,message:this.message},this)}}])&&h(x.prototype,A),Object.defineProperty(x,"prototype",{writable:!1}),x;var x,A}(d);function $(g,S,x){if(typeof g=="function")return g(S,x);for(var A=0,T=Object.keys(S);A<T.length;A++){var C=T[A];C!=="message"&&(g=g.replace("{"+C.toUpperCase()+"}",S[C]))}return g}Object.defineProperty(_.prototype,"name",{value:"ValidatorError"}),Object.defineProperty(_.prototype,"properties",{enumerable:!1,writable:!0,value:null}),_.prototype.formatMessage=$,u.exports=_},9539:u=>{function c(f,h){return function(m){if(Array.isArray(m))return m}(f)||function(m,j){var b=m==null?null:typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(b!=null){var R,d,_,$,g=[],S=!0,x=!1;try{if(_=(b=b.call(m)).next,j!==0)for(;!(S=(R=_.call(b)).done)&&(g.push(R.value),g.length!==j);S=!0);}catch(A){x=!0,d=A}finally{try{if(!S&&b.return!=null&&($=b.return(),Object($)!==$))return}finally{if(x)throw d}}return g}}(f,h)||function(m,j){if(m){if(typeof m=="string")return s(m,j);var b={}.toString.call(m).slice(8,-1);return b==="Object"&&m.constructor&&(b=m.constructor.name),b==="Map"||b==="Set"?Array.from(m):b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?s(m,j):void 0}}(f,h)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function s(f,h){(h==null||h>f.length)&&(h=f.length);for(var m=0,j=Array(h);m<h;m++)j[m]=f[m];return j}u.exports=function(f,h,m){for(var j={},b=0,R=Object.keys(h.tree);b<R.length;b++){var d=R[b];m&&(f.paths[d]||f.nested[d]||f.singleNestedPaths[d])||(j[d]=h.tree[d])}f.options._isMerging=!0,f.add(j,null),delete f.options._isMerging,f.callQueue=f.callQueue.concat(h.callQueue),f.method(h.methods),f.static(h.statics);for(var _=0,$=Object.entries(h._userProvidedOptions);_<$.length;_++){var g=c($[_],2),S=g[0],x=g[1];S in f._userProvidedOptions||f.set(S,x)}for(var A in h.query)f.query[A]=h.query[A];for(var T in h.virtuals)f.virtuals[T]=h.virtuals[T].clone();f._indexes=f._indexes.concat(h._indexes||[]),f.s.hooks.merge(h.s.hooks,!1)}},9553:(u,c,s)=>{var f=s(5832).hp;function h(b){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},h(b)}var m=s(9639),j=s(2402);u.exports=function(b){return b==null?b:h(b)==="object"&&typeof b.$numberDecimal=="string"?m.fromString(b.$numberDecimal):b instanceof m?b:typeof b=="string"?m.fromString(b):typeof f=="function"&&f.isBuffer(b)||typeof Uint8Array=="function"&&b instanceof Uint8Array?new m(b):typeof b=="number"?m.fromString(String(b)):typeof b.valueOf=="function"&&typeof b.valueOf()=="string"?m.fromString(b.valueOf()):void j.ok(!1)}},9600:(u,c,s)=>{c.Array=s(7557),c.Buffer=s(6365),c.Document=c.Embedded=s(6547),c.DocumentArray=s(4878),c.Double=s(2822),c.Decimal128=s(9639),c.ObjectId=s(5549),c.Map=s(2081),c.Subdocument=s(9380),c.UUID=s(1344)},9604:(u,c,s)=>{var f=s(5558).p,h=s(5558).G;function m(b,R){switch(b.$geometry.type){case"Polygon":case"LineString":case"Point":f(b.$geometry.coordinates,R)}return j(R,b),b}function j(b,R){R.$maxDistance&&(R.$maxDistance=h.call(b,R.$maxDistance)),R.$minDistance&&(R.$minDistance=h.call(b,R.$minDistance))}c.cast$geoIntersects=function(b){if(b.$geometry)return m(b,this),b},c.cast$near=function(b){var R=s(7760);if(Array.isArray(b))return f(b,this),b;if(j(this,b),b&&b.$geometry)return m(b,this);if(!Array.isArray(b))throw new TypeError("$near must be either an array or an object with a $geometry property");return R.prototype.castForQuery.call(this,null,b)},c.cast$within=function(b){var R=this;if(j(this,b),b.$box||b.$polygon){var d=b.$box?"$box":"$polygon";b[d].forEach(function($){if(!Array.isArray($))throw new TypeError("Invalid $within $box argument. Expected an array, received "+$);$.forEach(function(g,S){$[S]=h.call(R,g)})})}else if(b.$center||b.$centerSphere){var _=b.$center?"$center":"$centerSphere";b[_].forEach(function($,g){Array.isArray($)?$.forEach(function(S,x){$[x]=h.call(R,S)}):b[_][g]=h.call(R,$)})}else b.$geometry&&m(b,this);return b}},9639:(u,c,s)=>{u.exports=s(6353).Decimal128},9696:u=>{var c=/^function\s*([^\s(]+)/;u.exports=function(s){return s.name||(s.toString().trim().match(c)||[])[1]}},9809:u=>{function c(x){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},c(x)}var s,f,h=Function.prototype.toString,m=(typeof Reflect>"u"?"undefined":c(Reflect))==="object"&&Reflect!==null&&Reflect.apply;if(typeof m=="function"&&typeof Object.defineProperty=="function")try{s=Object.defineProperty({},"length",{get:function(){throw f}}),f={},m(function(){throw 42},null,s)}catch(x){x!==f&&(m=null)}else m=null;var j=/^\s*class\b/,b=function(x){try{var A=h.call(x);return j.test(A)}catch{return!1}},R=function(x){try{return!b(x)&&(h.call(x),!0)}catch{return!1}},d=Object.prototype.toString,_=typeof Symbol=="function"&&!!Symbol.toStringTag,$=!(0 in[,]),g=function(){return!1};if((typeof document>"u"?"undefined":c(document))==="object"){var S=document.all;d.call(S)===d.call(document.all)&&(g=function(x){if(($||!x)&&(x===void 0||c(x)==="object"))try{var A=d.call(x);return(A==="[object HTMLAllCollection]"||A==="[object HTML document.all class]"||A==="[object HTMLCollection]"||A==="[object Object]")&&x("")==null}catch{}return!1})}u.exports=m?function(x){if(g(x))return!0;if(!x||typeof x!="function"&&c(x)!=="object")return!1;try{m(x,null,s)}catch(A){if(A!==f)return!1}return!b(x)&&R(x)}:function(x){if(g(x))return!0;if(!x||typeof x!="function"&&c(x)!=="object")return!1;if(_)return R(x);if(b(x))return!1;var A=d.call(x);return!(A!=="[object Function]"&&A!=="[object GeneratorFunction]"&&!/^\[object HTML/.test(A))&&R(x)}},9834:(u,c,s)=>{function f(C){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},f(C)}var h=s(3777),m=s(3426),j=s(9122),b=s(3071),R=s(1464),d=s(209),_=b("Object.prototype.toString"),$=s(953)(),g=typeof globalThis>"u"?s.g:globalThis,S=m(),x=b("String.prototype.slice"),A=b("Array.prototype.indexOf",!0)||function(C,w){for(var v=0;v<C.length;v+=1)if(C[v]===w)return v;return-1},T={__proto__:null};h(S,$&&R&&d?function(C){var w=new g[C];if(Symbol.toStringTag in w&&d){var v=d(w),E=R(v,Symbol.toStringTag);if(!E&&v){var N=d(v);E=R(N,Symbol.toStringTag)}T["$"+C]=j(E.get)}}:function(C){var w=new g[C],v=w.slice||w.set;v&&(T["$"+C]=j(v))}),u.exports=function(C){if(!C||f(C)!=="object")return!1;if(!$){var w=x(_(C),8,-1);return A(S,w)>-1?w:w==="Object"&&function(v){var E=!1;return h(T,function(N,P){if(!E)try{N(v),E=x(P,1)}catch{}}),E}(C)}return R?function(v){var E=!1;return h(T,function(N,P){if(!E)try{"$"+N(v)===P&&(E=x(P,1))}catch{}}),E}(C):null}},9848:u=>{function c(s){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},c(s)}u.exports=function(s){s.pre("save",!1,function(f,h){var m=this,j=this;if(this.$isSubdocument)return f();if(h&&c(h)==="object"&&"validateBeforeSave"in h?h.validateBeforeSave:this.$__schema.options.validateBeforeSave){var b=h&&c(h)==="object"&&"validateModifiedOnly"in h?{validateModifiedOnly:h.validateModifiedOnly}:null;this.$validate(b).then(function(){m.$op="save",f()},function(R){j.$__schema.s.hooks.execPost("save:error",j,[j],{error:R},function(d){j.$op="save",f(d)})})}else f()},null,!0)}},9870:u=>{u.exports=Error},9907:u=>{u.exports=SyntaxError},9939:u=>{u.exports=RangeError}},o={};function l(u){var c=o[u];if(c!==void 0)return c.exports;var s=o[u]={exports:{}};return n[u](s,s.exports,l),s.exports}return l.d=(u,c)=>{for(var s in c)l.o(c,s)&&!l.o(u,s)&&Object.defineProperty(u,s,{enumerable:!0,get:c[s]})},l.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),l.o=(u,c)=>Object.prototype.hasOwnProperty.call(u,c),l.r=u=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})},l(4829)})())}(gf)),gf.exports}vD();function bD(){const[r,e]=Te.useState(["Marcin Kowalski","Marcel Kowal","Marcin Nowak"]),[n,o]=Te.useState([]),[l,u]=Te.useState([]),[c,s]=Te.useState({}),[f,h]=Te.useState({}),[m,j]=Te.useState(""),b=zf();async function R(){const x=vi($r,"responsibles","gycKnUsnEyPNGJJwmAjX"),A=await ma(x);if(A.exists()){const T=A.data();T.Devs&&e(T.Devs),console.log("Developers fetched successfully:",T.Devs)}}async function d(){b("/Cp")}async function _(){let x=va($r,"departments"),A=ql(x),T=await zl(A),C=[];T.forEach(v=>{C=[...C,v.data().key]}),u(C),x=va($r,"responsibles"),A=ql(x),T=await zl(A),o([]);let w;T.forEach(v=>{w=v.data()}),h(w.IT),s(w.business)}const $=(x,A)=>{const T=A==="Business"?{...c}:{...f};T[x]||(T[x]=[]),T[x].push(""),A==="Business"?s(T):h(T)},g=async(x,A,T)=>{const C=A==="Business"?{...c}:{...f};C[x].splice(T,1),A==="Business"?s(C):h(C),A=="Business"&&(A="business"),await Pl(vi($r,"responsibles","gycKnUsnEyPNGJJwmAjX"),{[A]:C},{merge:!0})},S=async(x,A,T,C)=>{const w=T==="Business"?{...c}:{...f};if(w[A][C]=x.target.value,T==="Business"){s(w);const v=vi($r,"responsibles","gycKnUsnEyPNGJJwmAjX");await cy(v,{business:{...w}})}else{h(w);const v=vi($r,"responsibles","gycKnUsnEyPNGJJwmAjX");await cy(v,{IT:{...w}})}};return Te.useEffect(()=>{_(),R()},[]),Re.jsxs(au,{children:[Re.jsxs(oo,{expand:"lg",className:"bg-body-tertiary glass-navbar",children:[Re.jsx(oo.Brand,{className:"brand-gradient",style:{marginLeft:"20px"},children:"MTU Excel Project"}),Re.jsx(oo.Toggle,{"aria-controls":"basic-navbar-nav"}),Re.jsx(oo.Collapse,{id:"basic-navbar-nav",children:Re.jsxs(uu,{className:"me-auto",children:[Re.jsx(uu.Link,{onClick:d,className:"link",children:"Create a Project"}),Re.jsx(uu.Link,{className:"link",children:"Responsibles"})]})})]}),Re.jsx(To,{className:"back-button",variant:"outline-secondary",style:{margin:"24px 0 12px 0",borderRadius:8,color:"#b4845c",borderColor:"#b4845c",fontWeight:600},onClick:()=>b("/"),children:" Back to Home"}),Re.jsxs("div",{className:"glass-card",style:{margin:"40px auto",maxWidth:1e3,borderRadius:18,boxShadow:"0 4px 24px #e9edc9cc",background:"#fff",padding:"40px 36px 32px 36px"},children:[Re.jsx("h2",{style:{textAlign:"center",fontWeight:700,letterSpacing:1,color:"#b4845c",marginBottom:32},children:"Business Responsibles"}),Re.jsx("div",{className:"Responsibles__departments",style:{background:"#fefae0",borderRadius:16,boxShadow:"0 2px 8px #e9edc9cc",padding:"24px 18px",marginBottom:32},children:l.map(x=>Re.jsxs("div",{className:"DepartmentName",style:{background:"#fff",borderRadius:12,boxShadow:"0 2px 8px #e9edc9cc",padding:18,margin:8,flex:"0 1 30%"},children:[Re.jsxs("div",{style:{fontWeight:700,color:"#b4845c",marginBottom:8},children:[x,":"]}),Array.isArray(c[x])&&c[x].map((A,T)=>Re.jsxs("div",{className:"responsible-input-container",style:{display:"flex",alignItems:"center",marginBottom:10},children:[Re.jsx("input",{type:"text",onChange:C=>S(C,x,"Business",T),value:A,placeholder:"Marcin Kowalski",className:"department-input",style:{background:"#fefae0",border:"1.5px solid #faedcd",borderRadius:8,color:"#b4845c",fontWeight:600,marginRight:8,flex:1}}),Re.jsx("button",{onClick:()=>g(x,"Business",T),className:"delete-btn",style:{color:"#d9534f",fontSize:20,marginLeft:4,background:"none",border:"none"},children:""})]},T)),Re.jsx("button",{onClick:()=>$(x,"Business"),className:"add-btn",style:{color:"#198754",fontWeight:700,fontSize:18,marginTop:6,background:"none",border:"none"},children:" Add Responsible"})]},x))}),Re.jsx("h2",{style:{textAlign:"center",fontWeight:700,letterSpacing:1,color:"#b4845c",marginBottom:32},children:"IT Responsibles"}),Re.jsx("div",{className:"Responsibles__departments",style:{background:"#fefae0",borderRadius:16,boxShadow:"0 2px 8px #e9edc9cc",padding:"24px 18px"},children:l.map(x=>Re.jsxs("div",{className:"DepartmentName",style:{background:"#fff",borderRadius:12,boxShadow:"0 2px 8px #e9edc9cc",padding:18,margin:8,flex:"0 1 30%"},children:[Re.jsxs("div",{style:{fontWeight:700,color:"#b4845c",marginBottom:8},children:[x,":"]}),Array.isArray(f[x])&&f[x].map((A,T)=>Re.jsxs("div",{className:"responsible-input-container",style:{display:"flex",alignItems:"center",marginBottom:10},children:[Re.jsx("textarea",{type:"text",onChange:C=>S(C,x,"IT",T),value:A,placeholder:"Marcel Kowal",className:"department-input",style:{background:"#fefae0",border:"1.5px solid #faedcd",borderRadius:8,color:"#b4845c",fontWeight:600,marginRight:8,flex:1,minHeight:40,maxHeight:80}}),Re.jsx("button",{onClick:()=>g(x,"IT",T),className:"delete-btn",style:{color:"#d9534f",fontSize:20,marginLeft:4,background:"none",border:"none"},children:""})]},T)),Re.jsx("button",{onClick:()=>$(x,"IT"),className:"add-btn",style:{color:"#198754",fontWeight:700,fontSize:18,marginTop:6,background:"none",border:"none"},children:" Add Responsible"})]},x))}),Re.jsxs("div",{children:[Re.jsx("h2",{style:{textAlign:"center",fontWeight:700,letterSpacing:1,color:"#b4845c",marginBottom:32},children:"Developer List"}),Re.jsxs("div",{className:"Responsibles__departments",style:{background:"#fefae0",borderRadius:16,boxShadow:"0 2px 8px #e9edc9cc",padding:"24px 18px"},children:[r.map((x,A)=>Re.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[Re.jsx("input",{type:"text",placeholder:"Developer Name",value:x,onChange:T=>{const C=[...r];C[A]=T.target.value,e(C);const w=vi($r,"responsibles","gycKnUsnEyPNGJJwmAjX");Pl(w,{Devs:C},{merge:!0})},style:{display:"block",marginBottom:"8px",width:"300px"}},A),Re.jsx("button",{style:{position:"relative",top:"-6px",marginLeft:"8px",backgroundColor:"#e63946",color:"white",border:"none",borderRadius:"4px",padding:"6px 10px",cursor:"pointer",width:"50px",height:"50px"},onClick:T=>{console.log("Delete Developer",A);const C=[...r];C.pop(A),e(C)},children:""})]})),Re.jsx("button",{onClick:()=>{e([...r,""])},style:{padding:"8px 12px",cursor:"pointer",color:"beige",backgroundColor:"#cbe0edff",border:"none",borderRadius:"4px",fontWeight:"bold"},children:"Add A Developer"})]})]})]})]})}function _D(){return Re.jsx(xA,{children:Re.jsxs(iA,{children:[Re.jsx(sf,{path:"/",Component:qP}),Re.jsx(sf,{path:"/Cp",Component:mD}),Re.jsx(sf,{path:"/responsibles",Component:bD})]})})}d1.createRoot(document.getElementById("root")).render(Re.jsx(Te.StrictMode,{children:Re.jsx(_D,{})}));export{pm as _,hy as a,T0 as b,Ff as g,Re as j,Te as r};
